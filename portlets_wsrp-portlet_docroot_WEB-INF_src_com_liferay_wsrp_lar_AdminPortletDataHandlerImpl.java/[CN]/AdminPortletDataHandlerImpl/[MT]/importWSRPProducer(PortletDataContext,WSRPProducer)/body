{
  try {
    WSRPProducer importedWSRPProducer=WSRPProducerLocalServiceUtil.getWSRPProducer(wsrpProducer.getUuid());
    importedWSRPProducer.setName(wsrpProducer.getName());
    importedWSRPProducer.setVersion(wsrpProducer.getVersion());
    importedWSRPProducer.setPortletIds(wsrpProducer.getPortletIds());
    WSRPProducerLocalServiceUtil.updateWSRPProducer(importedWSRPProducer,false);
  }
 catch (  NoSuchProducerException e) {
    ServiceContext serviceContext=new ServiceContext();
    serviceContext.setUuid(wsrpProducer.getUuid());
    WSRPProducerLocalServiceUtil.addWSRPProducer(context.getUserId(null),wsrpProducer.getName(),wsrpProducer.getVersion(),wsrpProducer.getPortletIds(),serviceContext);
  }
}
