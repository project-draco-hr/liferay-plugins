{
  PortletPreferences portletPreferences=PortletPreferencesFactoryUtil.fromXML(companyId,ownerId,ownerType,plid,portletId,xml);
  String calendarBookingClassNameId=String.valueOf(PortalUtil.getClassNameId(CalendarBooking.class));
  String calEventClassNameId=String.valueOf(PortalUtil.getClassNameId(CalEvent.class));
  replaceClassNameId(portletPreferences,"classNameIds",calEventClassNameId,calendarBookingClassNameId);
  replaceClassNameId(portletPreferences,"anyAssetType",calEventClassNameId,calendarBookingClassNameId);
  return PortletPreferencesFactoryUtil.toXML(portletPreferences);
}
