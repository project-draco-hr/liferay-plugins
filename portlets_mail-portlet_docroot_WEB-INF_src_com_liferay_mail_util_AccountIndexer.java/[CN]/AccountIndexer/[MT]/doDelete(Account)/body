{
  SearchContext searchContext=new SearchContext();
  searchContext.setSearchEngineId(getSearchEngineId());
  searchContext.setCompanyId(account.getCompanyId());
  searchContext.setEnd(QueryUtil.ALL_POS);
  searchContext.setSorts(SortFactoryUtil.getDefaultSorts());
  searchContext.setStart(QueryUtil.ALL_POS);
  BooleanQuery booleanQuery=new BooleanQueryImpl();
  booleanQuery.addRequiredTerm(Field.ENTRY_CLASS_NAME,CLASS_NAME);
  booleanQuery.addRequiredTerm("accountId",account.getAccountId());
  Hits hits=SearchEngineUtil.search(searchContext,booleanQuery);
  List<String> uids=new ArrayList<>(hits.getLength());
  for (int i=0; i < hits.getLength(); i++) {
    Document document=hits.doc(i);
    uids.add(document.get(Field.UID));
  }
  SearchEngineUtil.deleteDocuments(getSearchEngineId(),account.getCompanyId(),uids,isCommitImmediately());
}
