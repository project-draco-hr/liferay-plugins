{
  if (filterConstraints == null) {
    return GroupLocalServiceUtil.getCompanyGroups(searchBase.getCompanyId(),0,(int)searchBase.getSizeLimit());
  }
  List<Group> groups=new ArrayList<Group>();
  for (  FilterConstraint filterConstraint : filterConstraints) {
    if (!isValidFilterConstraint(filterConstraint)) {
      continue;
    }
    String name=filterConstraint.getValue("ou");
    if (name == null) {
      name=filterConstraint.getValue("cn");
    }
    String description=filterConstraint.getValue("description");
    String member=filterConstraint.getValue("member");
    String screenName=DirectoryTree.getRdnValue(new Dn(member),3);
    if (screenName != null) {
      User user=UserLocalServiceUtil.getUserByScreenName(searchBase.getCompanyId(),screenName);
      for (      Group group : user.getGroups()) {
        if ((name != null) && !name.equals(group.getName())) {
          continue;
        }
        if ((description != null) && !description.equals(group.getDescription())) {
          continue;
        }
        groups.add(group);
      }
    }
 else {
      groups.addAll(GroupLocalServiceUtil.search(searchBase.getCompanyId(),name,description,null,0,(int)searchBase.getSizeLimit()));
    }
  }
  return groups;
}
