{
  Activity activity=null;
  if (socialActivity.getClassName().equals(Activity.class.getName())) {
    activity=getExternalActivity(socialActivity);
  }
 else {
    activity=new ActivityImpl(String.valueOf(socialActivity.getClassPK()),String.valueOf(socialActivity.getUserId()));
    SocialActivityFeedEntry socialActivityFeedEntry=SocialActivityInterpreterLocalServiceUtil.interpret(socialActivity,themeDisplay);
    activity.setBody(socialActivityFeedEntry.getBody());
    activity.setTitle(socialActivityFeedEntry.getTitle());
    String url=socialActivityFeedEntry.getLink();
    if (Validator.isNull(url)) {
      url=StringPool.BLANK;
    }
    activity.setUrl(url);
  }
  return activity;
}
