{
  long userIdLong=GetterUtil.getLong(userId.getUserId(securityToken));
  JSONObject extraDataJSON=JSONFactoryUtil.createJSONObject();
  extraDataJSON.put("appId",activity.getAppId());
  extraDataJSON.put("body",activity.getBody());
  extraDataJSON.put("bodyId",activity.getBodyId());
  extraDataJSON.put("externalId",activity.getExternalId());
  extraDataJSON.put("mediaItems",getMediaItems(activity.getMediaItems()));
  extraDataJSON.put("postedTime",activity.getPostedTime());
  extraDataJSON.put("priority",activity.getPriority());
  extraDataJSON.put("streamFaviconUrl",activity.getStreamFaviconUrl());
  extraDataJSON.put("streamSourceUrl",activity.getStreamSourceUrl());
  extraDataJSON.put("streamTitle",activity.getStreamTitle());
  extraDataJSON.put("streamUrl",activity.getStreamUrl());
  extraDataJSON.put("templateParams",getTemplateParams(activity.getTemplateParams()));
  extraDataJSON.put("title",activity.getTitle());
  extraDataJSON.put("titleId",activity.getTitleId());
  extraDataJSON.put("url",activity.getUrl());
  SocialActivityLocalServiceUtil.addActivity(userIdLong,0L,Activity.class.getName(),activity.getPostedTime().longValue(),activity.getAppId().hashCode(),extraDataJSON.toString(),0L);
}
