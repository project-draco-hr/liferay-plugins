{
  Activity activity=new ActivityImpl(String.valueOf(socialActivity.getClassPK()),String.valueOf(socialActivity.getUserId()));
  JSONObject extraDataJSON=JSONFactoryUtil.createJSONObject(socialActivity.getExtraData());
  if (extraDataJSON.has(Activity.Field.APP_ID.toString())) {
    activity.setAppId(extraDataJSON.getString("appId"));
  }
  if (extraDataJSON.has(Activity.Field.BODY.toString())) {
    activity.setBody(extraDataJSON.getString("body"));
  }
  if (extraDataJSON.has(Activity.Field.BODY_ID.toString())) {
    activity.setBodyId(extraDataJSON.getString("bodyId"));
  }
  if (extraDataJSON.has(Activity.Field.EXTERNAL_ID.toString())) {
    activity.setExternalId(extraDataJSON.getString("externalId"));
  }
  if (extraDataJSON.has(Activity.Field.MEDIA_ITEMS.toString())) {
    activity.setMediaItems(getMediaItems(extraDataJSON.getJSONArray("mediaItems")));
  }
  if (extraDataJSON.has(Activity.Field.POSTED_TIME.toString())) {
    activity.setPostedTime(extraDataJSON.getLong("postedTime"));
  }
  if (extraDataJSON.has(Activity.Field.PRIORITY.toString())) {
    activity.setPriority(Float.parseFloat(extraDataJSON.getString("priority")));
  }
  if (extraDataJSON.has(Activity.Field.STREAM_FAVICON_URL.toString())) {
    activity.setStreamFaviconUrl(extraDataJSON.getString("streamFaviconUrl"));
  }
  if (extraDataJSON.has(Activity.Field.STREAM_SOURCE_URL.toString())) {
    activity.setStreamSourceUrl(extraDataJSON.getString("streamSourceUrl"));
  }
  if (extraDataJSON.has(Activity.Field.STREAM_TITLE.toString())) {
    activity.setStreamTitle(extraDataJSON.getString("streamTitle"));
  }
  if (extraDataJSON.has(Activity.Field.STREAM_URL.toString())) {
    activity.setStreamUrl(extraDataJSON.getString("streamUrl"));
  }
  if (extraDataJSON.has(Activity.Field.TEMPLATE_PARAMS.toString())) {
    activity.setTemplateParams(getTemplateParams(extraDataJSON.getJSONArray("templateParams")));
  }
  if (extraDataJSON.has(Activity.Field.TITLE.toString())) {
    activity.setTitle(extraDataJSON.getString("title"));
  }
  if (extraDataJSON.has(Activity.Field.TITLE_ID.toString())) {
    activity.setTitleId(extraDataJSON.getString("titleId"));
  }
  if (extraDataJSON.has(Activity.Field.URL.toString())) {
    activity.setUrl(extraDataJSON.getString("url"));
  }
  return activity;
}
