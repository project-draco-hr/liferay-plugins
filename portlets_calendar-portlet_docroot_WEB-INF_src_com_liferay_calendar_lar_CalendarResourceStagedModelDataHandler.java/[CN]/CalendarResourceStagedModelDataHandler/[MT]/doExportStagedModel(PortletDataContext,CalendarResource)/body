{
  Element calendarResourceElement=portletDataContext.getExportDataElement(calendarResource);
  for (  Calendar calendar : calendarResource.getCalendars()) {
    StagedModelDataHandlerUtil.exportStagedModel(portletDataContext,calendar);
    portletDataContext.addReferenceElement(calendarResource,calendarResourceElement,calendar,PortletDataContext.REFERENCE_TYPE_STRONG,false);
  }
  if (calendarResource.getClassNameId() == PortalUtil.getClassNameId(User.class)) {
    User user=UserLocalServiceUtil.getUser(calendarResource.getClassPK());
    portletDataContext.addReferenceElement(calendarResource,calendarResourceElement,user,User.class,PortletDataContext.REFERENCE_TYPE_DEPENDENCY_DISPOSABLE,true);
  }
  portletDataContext.addClassedModel(calendarResourceElement,ExportImportPathUtil.getModelPath(calendarResource),calendarResource);
}
