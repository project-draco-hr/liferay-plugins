{
  CalendarBooking calendarBooking=getCalendarBooking(calendarBookingId);
  if (!calendarBooking.isMasterBooking()) {
    return calendarBooking;
  }
  TrashEntry trashEntry=trashEntryLocalService.getEntry(CalendarBooking.class.getName(),calendarBookingId);
  calendarBookingLocalService.updateStatus(userId,calendarBookingId,trashEntry.getStatus(),new ServiceContext());
  socialActivityCounterLocalService.enableActivityCounters(CalendarBooking.class.getName(),calendarBookingId);
  socialActivityLocalService.addActivity(userId,calendarBooking.getGroupId(),CalendarBooking.class.getName(),calendarBookingId,SocialActivityConstants.TYPE_RESTORE_FROM_TRASH,getExtraDataJSON(calendarBooking),0);
  return calendarBooking;
}
