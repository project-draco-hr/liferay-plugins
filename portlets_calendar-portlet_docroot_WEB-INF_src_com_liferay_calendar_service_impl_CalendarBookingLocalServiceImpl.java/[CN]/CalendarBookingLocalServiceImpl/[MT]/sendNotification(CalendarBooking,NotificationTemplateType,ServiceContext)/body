{
  boolean sendNotification=ParamUtil.getBoolean(serviceContext,"sendNotification",true);
  if (!sendNotification) {
    return;
  }
  try {
    long senderId=serviceContext.getUserId();
    User sender=null;
    if (senderId != 0) {
      sender=userLocalService.fetchUser(senderId);
    }
    NotificationType notificationType=NotificationType.parse(PortletPropsValues.CALENDAR_NOTIFICATION_DEFAULT_TYPE);
    NotificationUtil.notifyCalendarBookingRecipients(calendarBooking,notificationType,notificationTemplateType,sender);
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      _log.warn(e,e);
    }
  }
}
