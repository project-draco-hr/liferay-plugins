{
  BlogsEntry entry=BlogsEntryLocalServiceUtil.getEntry(entryId);
  int oldStatus=entry.getStatus();
  entry=super.updateStatus(userId,entryId,status,serviceContext,workflowContext);
  if ((status != WorkflowConstants.STATUS_APPROVED) || (oldStatus == WorkflowConstants.STATUS_APPROVED) || (oldStatus == WorkflowConstants.STATUS_IN_TRASH)) {
    return entry;
  }
  long siteGroupId=PortalUtil.getSiteGroupId(entry.getGroupId());
  if (!MentionsUtil.isMentionsEnabled(siteGroupId)) {
    return entry;
  }
  MentionsNotifier mentionsNotifier=new MentionsNotifier();
  String contentURL=(String)serviceContext.getAttribute("contentURL");
  if (Validator.isNull(contentURL)) {
    serviceContext.setAttribute("contentURL",workflowContext.get("url"));
  }
  mentionsNotifier.notify(entry.getUserId(),entry.getGroupId(),entry.getTitle(),entry.getContent(),BlogsEntry.class.getName(),entry.getEntryId(),ContentUtil.get(PortletPropsValues.ASSET_ENTRY_MENTION_EMAIL_SUBJECT),ContentUtil.get(PortletPropsValues.ASSET_ENTRY_MENTION_EMAIL_BODY),serviceContext);
  return entry;
}
