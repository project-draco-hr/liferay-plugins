{
  Date now=new Date();
  TasksEntry tasksEntry=tasksEntryPersistence.findByPrimaryKey(tasksEntryId);
  tasksEntry.setModifiedDate(now);
  if (status == TasksEntryConstants.STATUS_RESOLVED) {
    tasksEntry.setResolverUserId(resolverUserId);
    tasksEntry.setFinishDate(now);
  }
 else {
    tasksEntry.setResolverUserId(0);
    tasksEntry.setFinishDate(null);
  }
  int previousStatus=tasksEntry.getStatus();
  tasksEntry.setStatus(status);
  tasksEntryPersistence.update(tasksEntry,false);
  sendNotificationEvent(tasksEntry,previousStatus,tasksEntry.getAssigneeUserId(),serviceContext);
  return tasksEntry;
}
