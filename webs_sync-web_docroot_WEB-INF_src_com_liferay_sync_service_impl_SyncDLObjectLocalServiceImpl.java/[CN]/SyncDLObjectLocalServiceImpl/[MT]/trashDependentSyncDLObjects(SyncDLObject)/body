{
  ActionableDynamicQuery syncDLObjectActionableDynamicQuery=getActionableDynamicQuery();
  syncDLObjectActionableDynamicQuery.setAddCriteriaMethod(new ActionableDynamicQuery.AddCriteriaMethod(){
    @Override public void addCriteria(    DynamicQuery dynamicQuery){
      dynamicQuery.add(RestrictionsFactoryUtil.ne("event",SyncConstants.EVENT_TRASH));
      String treePath=parentSyncDLObject.getTreePath();
      dynamicQuery.add(RestrictionsFactoryUtil.like("treePath",treePath + StringPool.PERCENT));
    }
  }
);
  syncDLObjectActionableDynamicQuery.setPerformActionMethod(new ActionableDynamicQuery.PerformActionMethod<SyncDLObject>(){
    @Override public void performAction(    SyncDLObject dependentSyncDLObject) throws PortalException {
      dependentSyncDLObject.setUserId(parentSyncDLObject.getUserId());
      dependentSyncDLObject.setUserName(parentSyncDLObject.getUserName());
      dependentSyncDLObject.setEvent(SyncConstants.EVENT_TRASH);
      syncDLObjectPersistence.update(dependentSyncDLObject);
    }
  }
);
  syncDLObjectActionableDynamicQuery.performActions();
}
