{
  if (baseAlloyControllerImpl.permissioned) {
    AlloyPermission.check(baseAlloyControllerImpl.themeDisplay,baseAlloyControllerImpl.controllerPath,"index");
  }
  Map<String,Serializable> attributes=null;
  String attributesString=ParamUtil.getString(actionRequest,"attributes");
  if (Validator.isNotNull(attributesString)) {
    attributes=JSONFactoryUtil.looseDeserialize(attributesString,HashMap.class);
  }
  String keywords=ParamUtil.getString(actionRequest,"keywords");
  Sort[] sorts=null;
  String sortsString=ParamUtil.getString(actionRequest,"sorts");
  if (Validator.isNotNull(sortsString)) {
    Map<String,Boolean> sortsMap=JSONFactoryUtil.looseDeserialize(sortsString,LinkedHashMap.class);
    sorts=new Sort[sortsMap.size()];
    int i=0;
    for (    Map.Entry<String,Boolean> entry : sortsMap.entrySet()) {
      sorts[i++]=new Sort(entry.getKey(),entry.getValue());
    }
  }
  AlloySearchResult alloySearchResult=baseAlloyControllerImpl.search(PortalUtil.getHttpServletRequest(actionRequest),actionRequest,attributes,keywords,sorts);
  List<BaseModel<?>> baseModels=alloySearchResult.getBaseModels();
  return JSONFactoryUtil.looseSerialize(baseModels);
}
