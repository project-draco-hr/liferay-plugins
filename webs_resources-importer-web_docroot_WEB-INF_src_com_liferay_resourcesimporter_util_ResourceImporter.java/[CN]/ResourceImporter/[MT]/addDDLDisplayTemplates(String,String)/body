{
  DDMStructure ddmStructure=DDMStructureLocalServiceUtil.getStructure(groupId,PortalUtil.getClassNameId(DDLRecordSet.class),ddmStructureKey);
  long ddmStructureId=ddmStructure.getStructureId();
  StringBundler sb=new StringBundler(6);
  sb.append(resourcesDir);
  sb.append(displayTemplateDir);
  sb.append("/");
  sb.append(ddmStructure.getName(Locale.getDefault()));
  Set<String> resourcePaths=servletContext.getResourcePaths(sb.toString());
  if (resourcePaths == null) {
    return;
  }
  for (  String resourcePath : resourcePaths) {
    String language=getDDMTemplateLanguage(resourcePath);
    URL url=servletContext.getResource(resourcePath);
    URLConnection urlConnection=url.openConnection();
    String script=StringUtil.read(urlConnection.getInputStream());
    if (Validator.isNull(script)) {
      return;
    }
    addDDMTemplate(groupId,ddmStructureId,FileUtil.stripExtension(resourcePath),language,script,DDMTemplateConstants.TEMPLATE_TYPE_DISPLAY,StringPool.BLANK);
  }
}
