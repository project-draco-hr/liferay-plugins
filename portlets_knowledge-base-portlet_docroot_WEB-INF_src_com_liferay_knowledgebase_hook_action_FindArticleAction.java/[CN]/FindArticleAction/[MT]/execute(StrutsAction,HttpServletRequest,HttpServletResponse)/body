{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  long resourcePrimKey=ParamUtil.getLong(request,"resourcePrimKey");
  long selPlid=ParamUtil.getLong(request,"selPlid");
  if (!isValidPlid(selPlid)) {
    selPlid=themeDisplay.getPlid();
  }
  String redirect=null;
  Article article=getArticle(resourcePrimKey,themeDisplay);
  if (article == null) {
    redirect=getDisplayPortletURL(resourcePrimKey,selPlid,request);
  }
  if (redirect == null) {
    redirect=getArticleURL(false,selPlid,article,themeDisplay);
  }
  if (redirect == null) {
    redirect=getArticleURL(true,selPlid,article,themeDisplay);
  }
  if (redirect == null) {
    redirect=getAdminPortletURL(article,themeDisplay);
  }
  if (redirect == null) {
    redirect=getDisplayPortletURL(resourcePrimKey,selPlid,request);
  }
  response.sendRedirect(redirect);
  return null;
}
