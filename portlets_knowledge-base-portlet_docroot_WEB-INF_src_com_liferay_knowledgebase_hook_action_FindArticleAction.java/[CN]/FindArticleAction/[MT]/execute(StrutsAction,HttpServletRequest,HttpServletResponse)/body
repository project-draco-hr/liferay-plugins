{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  long plid=ParamUtil.getLong(request,"plid");
  long resourcePrimKey=ParamUtil.getLong(request,"resourcePrimKey");
  if (!isValidPlid(plid)) {
    plid=themeDisplay.getPlid();
  }
  PortletURL portletURL=null;
  Article article=getArticle(resourcePrimKey);
  if (article == null) {
    portletURL=getDisplayPortletURL(plid,request);
  }
  if (portletURL == null) {
    portletURL=getArticleURL(plid,false,article,request);
  }
  if (portletURL == null) {
    portletURL=getArticleURL(plid,true,article,request);
  }
  if (portletURL == null) {
    portletURL=getAdminPortletURL(article,request);
  }
  if (portletURL == null) {
    portletURL=getDisplayPortletURL(plid,request);
  }
  response.sendRedirect(portletURL.toString());
  return null;
}
