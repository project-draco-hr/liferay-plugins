{
  String[] actorIds=null;
  try {
    if (userId > 0) {
      if ((searchByUserRoles != null) && searchByUserRoles.booleanValue()) {
        List<Role> roles=RoleLocalServiceUtil.getUserRoles(userId);
        actorIds=getActorIds(roles);
      }
 else {
        User user=UserLocalServiceUtil.getUser(userId);
        actorIds=new String[]{String.valueOf(userId),user.getEmailAddress()};
      }
    }
  }
 catch (  Exception e) {
    throw new WorkflowException(e);
  }
  return actorIds;
}
