{
  if (!isValidDirName(dirName)) {
    throw new FileNameException();
  }
  if (!isValidFileName(shortFileName)) {
    throw new FileNameException();
  }
  if (!DLStoreUtil.hasDirectory(serviceContext.getCompanyId(),CompanyConstants.SYSTEM,dirName)) {
    DLStoreUtil.addDirectory(serviceContext.getCompanyId(),CompanyConstants.SYSTEM,dirName);
  }
  DLStoreUtil.addFile(serviceContext.getCompanyId(),CompanyConstants.SYSTEM,dirName + StringPool.SLASH + shortFileName,inputStream);
}
