{
  System.out.println("Finding S3 buckets for deleting...");
  List<String> activeLaunchConfigurationNames=getActiveLaunchConfigurationNames();
  List<String> activeAMIs=getAMIForLunchConfigurations(activeLaunchConfigurationNames);
  List<String> amiNames=getAMINames(activeAMIs);
  List<String> timestamps=new ArrayList<String>();
  for (  String amiName : amiNames) {
    timestamps.add(getTimestamp(amiName));
  }
  List<String> s3BucketNamesForDeleting=getS3BucketNamesForDeleting(timestamps);
  for (  String s3BucketName : s3BucketNamesForDeleting) {
    if (isAcknowledged("Delete bucket " + s3BucketName + "?")) {
      System.out.println("Deleting Bucket " + s3BucketName + " and all its contents");
      deleteBucket(s3BucketName);
    }
  }
}
