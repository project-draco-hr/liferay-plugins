{
  try {
    WSRPProducer importedWSRPProducer=WSRPProducerLocalServiceUtil.getWSRPProducer(wsrpProducer.getUuid());
    importedWSRPProducer.setName(wsrpProducer.getName());
    importedWSRPProducer.setVersion(wsrpProducer.getVersion());
    importedWSRPProducer.setPortletIds(wsrpProducer.getPortletIds());
    WSRPProducerLocalServiceUtil.updateWSRPProducer(importedWSRPProducer);
  }
 catch (  NoSuchProducerException nspe) {
    ServiceContext serviceContext=portletDataContext.createServiceContext(wsrpProducerElement,wsrpProducer);
    serviceContext.setUuid(wsrpProducer.getUuid());
    WSRPProducerLocalServiceUtil.addWSRPProducer(portletDataContext.getUserId(null),wsrpProducer.getName(),wsrpProducer.getVersion(),wsrpProducer.getPortletIds(),serviceContext);
  }
}
