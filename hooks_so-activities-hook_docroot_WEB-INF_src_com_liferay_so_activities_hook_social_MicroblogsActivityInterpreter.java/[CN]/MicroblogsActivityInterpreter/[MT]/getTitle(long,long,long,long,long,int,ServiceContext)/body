{
  StringBundler sb=new StringBundler(4);
  sb.append(getTitle(activitySetId,groupId,userId,displayDate,serviceContext));
  sb.append("<div class=\"activity-action\">");
  if (activityType == _ACTIVITY_KEY_REPLY_ENTRY) {
    sb.append(serviceContext.translate("commented-on-a-microblog-entry"));
  }
 else {
    MicroblogsEntry microblogsEntry=MicroblogsEntryLocalServiceUtil.fetchMicroblogsEntry(classPK);
    if (microblogsEntry == null) {
      return StringPool.BLANK;
    }
    if (activityType == _ACTIVITY_KEY_ADD_ENTRY) {
      sb.append(MicroblogsUtil.getTaggedContent(microblogsEntry,serviceContext));
    }
 else     if (activityType == _ACTIVITY_KEY_REPOST_ENTRY) {
      sb.append(serviceContext.translate("reposted-a-microblog-entry-from-x",getUserName(microblogsEntry.getUserId(),serviceContext)));
    }
 else {
      return StringPool.BLANK;
    }
  }
  sb.append("</div>");
  return sb.toString();
}
