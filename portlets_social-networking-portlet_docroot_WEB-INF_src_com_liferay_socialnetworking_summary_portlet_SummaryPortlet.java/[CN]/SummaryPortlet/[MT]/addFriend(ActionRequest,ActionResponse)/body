{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  Group group=GroupLocalServiceUtil.getGroup(themeDisplay.getScopeGroupId());
  User user=UserLocalServiceUtil.getUserById(group.getClassPK());
  String requestMessage=ParamUtil.getString(actionRequest,"requestMessage");
  JSONObject extraDataJSONObject=JSONFactoryUtil.createJSONObject();
  extraDataJSONObject.put("requestMessage",requestMessage);
  SocialRequestLocalServiceUtil.addRequest(themeDisplay.getUserId(),0,User.class.getName(),themeDisplay.getUserId(),FriendsRequestKeys.ADD_FRIEND,extraDataJSONObject.toString(),user.getUserId());
}
