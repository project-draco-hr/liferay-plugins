{
  String portletResource=ParamUtil.getString(actionRequest,"portletResource");
  PortletPreferences preferences=PortletPreferencesFactoryUtil.getPortletSetup(actionRequest,portletResource);
  int defaultDuration=ParamUtil.getInteger(actionRequest,"defaultDuration");
  String defaultView=ParamUtil.getString(actionRequest,"defaultView");
  boolean isoTimeFormat=ParamUtil.getBoolean(actionRequest,"isoTimeFormat");
  String timeZoneId=ParamUtil.getString(actionRequest,"timeZoneId");
  boolean usePortalTimeZone=ParamUtil.getBoolean(actionRequest,"usePortalTimeZone");
  int weekStartsOn=ParamUtil.getInteger(actionRequest,"weekStartsOn");
  preferences.setValue("defaultDuration",String.valueOf(defaultDuration));
  preferences.setValue("defaultView",defaultView);
  preferences.setValue("isoTimeFormat",String.valueOf(isoTimeFormat));
  preferences.setValue("timeZoneId",timeZoneId);
  preferences.setValue("usePortalTimeZone",String.valueOf(usePortalTimeZone));
  preferences.setValue("weekStartsOn",String.valueOf(weekStartsOn));
  preferences.store();
}
