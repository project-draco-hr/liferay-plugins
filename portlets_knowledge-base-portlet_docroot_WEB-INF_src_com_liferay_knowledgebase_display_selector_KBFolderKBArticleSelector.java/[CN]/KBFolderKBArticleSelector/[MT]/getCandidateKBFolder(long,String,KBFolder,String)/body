{
  KBFolder kbFolder=KBFolderLocalServiceUtil.fetchKBFolderByUrlTitle(groupId,ancestorKBFolder.getKbFolderId(),kbFolderUrlTitle);
  if (kbFolder != null) {
    return kbFolder;
  }
  kbFolder=KBFolderLocalServiceUtil.fetchKBFolderByUrlTitle(groupId,ancestorKBFolder.getKbFolderId(),preferredKBFolderUrlTitle);
  if (kbFolder != null) {
    return kbFolder;
  }
  kbFolder=KBFolderLocalServiceUtil.fetchFirstChildKBFolder(groupId,ancestorKBFolder.getKbFolderId());
  if (kbFolder != null) {
    return kbFolder;
  }
  return ancestorKBFolder;
}
