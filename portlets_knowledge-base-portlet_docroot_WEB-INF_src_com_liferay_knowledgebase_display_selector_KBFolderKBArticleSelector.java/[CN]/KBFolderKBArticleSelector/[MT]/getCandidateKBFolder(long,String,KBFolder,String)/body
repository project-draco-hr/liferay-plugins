{
  KBFolder kbFolder=KBFolderLocalServiceUtil.fetchKBFolderByUrlTitle(groupId,ancestorKBFolder.getKbFolderId(),kbFolderUrlTitle);
  if (kbFolder == null) {
    kbFolder=KBFolderLocalServiceUtil.fetchKBFolderByUrlTitle(groupId,ancestorKBFolder.getKbFolderId(),preferredKBFolderUrlTitle);
  }
  if (kbFolder == null) {
    kbFolder=KBFolderLocalServiceUtil.fetchFirstChildKBFolder(groupId,ancestorKBFolder.getKbFolderId());
  }
  if (kbFolder == null) {
    return ancestorKBFolder;
  }
  return kbFolder;
}
