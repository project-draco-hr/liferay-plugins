{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  HttpServletRequest request=PortalUtil.getHttpServletRequest(actionRequest);
  StringBundler sb=new StringBundler(7);
  sb.append(themeDisplay.getUserId());
  sb.append(StringPool.PERIOD);
  sb.append(themeDisplay.getScopeGroupId());
  sb.append(StringPool.PERIOD);
  sb.append(kbTemplateId);
  sb.append(StringPool.PERIOD);
  sb.append(System.currentTimeMillis());
  KBTemplateParser kbTemplateParser=AdminUtil.getKBTemplateParser(engineType);
  try {
    kbTemplateParser.transform(sb.toString(),content,null,request);
  }
 catch (  Exception e) {
    throw new KBTemplateContentException(e.getMessage());
  }
}
