{
  String portletId=PortalUtil.getPortletId(actionRequest);
  String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
  long kbStructureId=ParamUtil.getLong(actionRequest,"kbStructureId");
  String localizedLanguageId=ParamUtil.getString(actionRequest,"localizedLanguageId");
  String title=ParamUtil.getString(actionRequest,"title_" + localizedLanguageId);
  List<KBStructureField> kbStructureFields=KBStructureContentUtil.getKBStructureFields(actionRequest);
  ServiceContext serviceContext=ServiceContextFactory.getInstance(KBStructure.class.getName(),actionRequest);
  if (cmd.equals(Constants.ADD)) {
    KBStructureServiceUtil.addKBStructure(portletId,localizedLanguageId,title,kbStructureFields,serviceContext);
  }
 else   if (cmd.equals(Constants.UPDATE)) {
    KBStructureServiceUtil.updateKBStructure(kbStructureId,localizedLanguageId,title,kbStructureFields,serviceContext);
  }
}
