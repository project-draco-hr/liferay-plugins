{
  try {
    String resourceID=resourceRequest.getResourceID();
    if (resourceID.equals("attachment")) {
      long fileEntryId=ParamUtil.getLong(resourceRequest,"fileEntryId");
      if (fileEntryId == 0) {
        serveTempAttachment(resourceRequest,resourceResponse);
      }
 else {
        serveAttachment(resourceRequest,resourceResponse);
      }
    }
  }
 catch (  IOException ioe) {
    throw ioe;
  }
catch (  PortletException pe) {
    throw pe;
  }
catch (  Exception e) {
    throw new PortletException(e);
  }
}
