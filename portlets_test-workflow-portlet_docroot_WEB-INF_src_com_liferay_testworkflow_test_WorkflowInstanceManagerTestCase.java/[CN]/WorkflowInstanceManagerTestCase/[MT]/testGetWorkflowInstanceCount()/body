{
  WorkflowInstance workflowInstance1_1=WorkflowInstanceManagerUtil.startWorkflowInstance(companyId,defaultUserId,_workflowDefinition1.getName(),_workflowDefinition1.getVersion(),null,null);
  workflowInstance1_1=WorkflowInstanceManagerUtil.signalWorkflowInstance(companyId,defaultUserId,workflowInstance1_1.getWorkflowInstanceId(),"toTaskNode",null);
  workflowInstance1_1=WorkflowInstanceManagerUtil.signalWorkflowInstance(companyId,defaultUserId,workflowInstance1_1.getWorkflowInstanceId(),"toEnd",null);
  WorkflowInstance workflowInstance1_2=WorkflowInstanceManagerUtil.startWorkflowInstance(companyId,defaultUserId,_workflowDefinition1.getName(),_workflowDefinition1.getVersion(),null,null);
  workflowInstance1_2=WorkflowInstanceManagerUtil.signalWorkflowInstance(companyId,defaultUserId,workflowInstance1_2.getWorkflowInstanceId(),"toTaskNode",null);
  workflowInstance1_2=WorkflowInstanceManagerUtil.signalWorkflowInstance(companyId,defaultUserId,workflowInstance1_2.getWorkflowInstanceId(),"toEnd",null);
  WorkflowInstance workflowInstance1_3=WorkflowInstanceManagerUtil.startWorkflowInstance(companyId,defaultUserId,_workflowDefinition1.getName(),_workflowDefinition1.getVersion(),null,null);
  WorkflowInstance workflowInstance2_1=WorkflowInstanceManagerUtil.startWorkflowInstance(companyId,defaultUserId,_workflowDefinition2.getName(),_workflowDefinition2.getVersion(),null,null);
  workflowInstance2_1=WorkflowInstanceManagerUtil.signalWorkflowInstance(companyId,defaultUserId,workflowInstance2_1.getWorkflowInstanceId(),"toEnd",null);
  WorkflowInstance workflowInstance2_2=WorkflowInstanceManagerUtil.startWorkflowInstance(companyId,defaultUserId,_workflowDefinition2.getName(),_workflowDefinition2.getVersion(),null,null);
  int count=WorkflowInstanceManagerUtil.getWorkflowInstanceCount(companyId,DEFINITION_NAME_1,_workflowDefinition1.getVersion(),Boolean.TRUE);
  assertEquals(2,count);
  count=WorkflowInstanceManagerUtil.getWorkflowInstanceCount(companyId,DEFINITION_NAME_1,_workflowDefinition1.getVersion(),Boolean.FALSE);
  assertEquals(1,count);
  count=WorkflowInstanceManagerUtil.getWorkflowInstanceCount(companyId,DEFINITION_NAME_2,_workflowDefinition2.getVersion(),Boolean.TRUE);
  assertEquals(1,count);
  count=WorkflowInstanceManagerUtil.getWorkflowInstanceCount(companyId,DEFINITION_NAME_2,_workflowDefinition2.getVersion(),Boolean.FALSE);
  assertEquals(1,count);
  WorkflowInstanceManagerUtil.deleteWorkflowInstance(companyId,workflowInstance1_1.getWorkflowInstanceId());
  WorkflowInstanceManagerUtil.deleteWorkflowInstance(companyId,workflowInstance1_2.getWorkflowInstanceId());
  WorkflowInstanceManagerUtil.deleteWorkflowInstance(companyId,workflowInstance1_3.getWorkflowInstanceId());
  WorkflowInstanceManagerUtil.deleteWorkflowInstance(companyId,workflowInstance2_1.getWorkflowInstanceId());
  WorkflowInstanceManagerUtil.deleteWorkflowInstance(companyId,workflowInstance2_2.getWorkflowInstanceId());
}
