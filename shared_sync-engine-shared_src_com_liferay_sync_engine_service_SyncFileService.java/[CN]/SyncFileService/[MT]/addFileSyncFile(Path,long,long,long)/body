{
  String checksum=FileUtil.getChecksum(filePath);
  String name=String.valueOf(filePath.getFileName());
  String mimeType=Files.probeContentType(filePath);
  SyncFile syncFile=addSyncFile(_VERSION_DEFAULT,checksum,name,FileUtil.getFileKey(filePath),FilePathNameUtil.getFilePathName(filePath),mimeType,name,folderId,repositoryId,syncAccountId,SyncFile.TYPE_FILE);
  Map<String,Object> parameters=new HashMap<String,Object>();
  parameters.put("changeLog",_VERSION_DEFAULT);
  parameters.put("checksum",checksum);
  parameters.put("description",name);
  parameters.put("filePath",filePath);
  parameters.put("folderId",folderId);
  parameters.put("mimeType",mimeType);
  parameters.put("repositoryId",repositoryId);
  parameters.put("sourceFileName",name);
  parameters.put("syncFile",syncFile);
  parameters.put("title",name);
  AddFileEntryEvent addFileEntryEvent=new AddFileEntryEvent(syncAccountId,parameters);
  addFileEntryEvent.run();
  return syncFile;
}
