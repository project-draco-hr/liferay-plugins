{
  Path filePath=Paths.get(syncFile.getFilePathName());
  String parentFilePathName=FilePathNameUtil.getFilePathName(filePath.getParent());
  SyncFile parentSyncFile=SyncFileService.fetchSyncFile(parentFilePathName,syncAccountId);
  Map<String,Object> parameters=new HashMap<String,Object>();
  parameters.put("syncFile",syncFile);
  Event event=null;
  if (syncFile.isFolder()) {
    parameters.put("name",syncFile.getName());
    parameters.put("parentFolderId",parentSyncFile.getTypePK());
    parameters.put("repositoryId",parentSyncFile.getRepositoryId());
    event=new GetFolderSyncDLObjectEvent(syncAccountId,parameters);
  }
 else {
    parameters.put("folderId",parentSyncFile.getTypePK());
    parameters.put("groupId",parentSyncFile.getRepositoryId());
    parameters.put("title",syncFile.getName());
    event=new GetFileEntrySyncDLObjectEvent(syncAccountId,parameters);
  }
  event.run();
  return syncFile;
}
