{
  String changeLog=String.valueOf(Double.valueOf(syncFile.getVersion()) + .1);
  String name=String.valueOf(filePath.getFileName());
  String sourceChecksum=syncFile.getChecksum();
  String targetChecksum=FileUtil.getChecksum(filePath);
  syncFile.setChangeLog(changeLog);
  syncFile.setChecksum(targetChecksum);
  syncFile.setFilePathName(FilePathNameUtil.getFilePathName(filePath));
  syncFile.setName(name);
  syncFile.setUiEvent(SyncFile.UI_EVENT_UPDATED_LOCAL);
  update(syncFile);
  Map<String,Object> parameters=new HashMap<String,Object>();
  parameters.put("changeLog",changeLog);
  parameters.put("checksum",targetChecksum);
  parameters.put("description",syncFile.getDescription());
  parameters.put("fileEntryId",syncFile.getTypePK());
  if (!sourceChecksum.equals(targetChecksum)) {
    parameters.put("filePath",filePath);
  }
  parameters.put("majorVersion",false);
  parameters.put("mimeType",syncFile.getMimeType());
  parameters.put("sourceFileName",name);
  parameters.put("syncFile",syncFile);
  parameters.put("title",name);
  UpdateFileEntryEvent updateFileEntryEvent=new UpdateFileEntryEvent(syncAccountId,parameters);
  updateFileEntryEvent.run();
  return syncFile;
}
