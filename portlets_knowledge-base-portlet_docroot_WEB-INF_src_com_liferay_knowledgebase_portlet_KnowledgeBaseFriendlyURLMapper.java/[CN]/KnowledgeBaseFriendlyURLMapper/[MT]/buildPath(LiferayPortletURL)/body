{
  String friendlyURLPath=null;
  String view=GetterUtil.getString(portletURL.getParameter("view"));
  if (view.equals("view_article")) {
    String title=portletURL.getParameter("title");
    StringBuilder sb=new StringBuilder();
    if (Validator.isNotNull(title)) {
      sb.append(StringPool.SLASH);
      sb.append(_MAPPING);
      sb.append(StringPool.SLASH);
      sb.append(HttpUtil.encodeURL(title));
      portletURL.addParameterIncludedInPath("title");
      WindowState windowState=portletURL.getWindowState();
      if (!windowState.equals(WindowState.NORMAL)) {
        sb.append(StringPool.SLASH);
        sb.append(windowState);
      }
    }
    friendlyURLPath=sb.toString();
  }
 else   if (view.equals("view_tagged_articles")) {
    String tag=portletURL.getParameter("tag");
    StringBuilder sb=new StringBuilder();
    if (Validator.isNotNull(tag)) {
      sb.append(StringPool.SLASH);
      sb.append(_MAPPING);
      sb.append(StringPool.SLASH);
      sb.append("tag");
      sb.append(StringPool.SLASH);
      sb.append(HttpUtil.encodeURL(tag));
      portletURL.addParameterIncludedInPath("tag");
    }
    friendlyURLPath=sb.toString();
  }
  if (Validator.isNotNull(friendlyURLPath)) {
    portletURL.addParameterIncludedInPath("p_p_id");
    portletURL.addParameterIncludedInPath("view");
  }
  return friendlyURLPath;
}
