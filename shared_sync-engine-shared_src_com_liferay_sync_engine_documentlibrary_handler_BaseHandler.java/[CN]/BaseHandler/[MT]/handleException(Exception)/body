{
  _logger.error(e.getMessage(),e);
  SyncAccount syncAccount=SyncAccountService.fetchSyncAccount(getSyncAccountId());
  if (e instanceof FileNotFoundException) {
    SyncFile syncFile=(SyncFile)getParameterValue("syncFile");
    if (syncFile.getVersion() == null) {
      SyncFileService.deleteSyncFile(syncFile);
    }
    return;
  }
 else   if (e instanceof HttpHostConnectException) {
    syncAccount.setUiEvent(SyncAccount.UI_EVENT_CONNECTION_EXCEPTION);
  }
 else   if (e instanceof HttpResponseException) {
    HttpResponseException hre=(HttpResponseException)e;
    int statusCode=hre.getStatusCode();
    if (statusCode == HttpServletResponse.SC_UNAUTHORIZED) {
      syncAccount.setUiEvent(SyncAccount.UI_EVENT_AUTHENTICATION_EXCEPTION);
    }
 else {
      syncAccount.setUiEvent(SyncAccount.UI_EVENT_CONNECTION_EXCEPTION);
    }
  }
  syncAccount.setState(SyncAccount.STATE_DISCONNECTED);
  SyncAccountService.update(syncAccount);
  retryServerConnection();
}
