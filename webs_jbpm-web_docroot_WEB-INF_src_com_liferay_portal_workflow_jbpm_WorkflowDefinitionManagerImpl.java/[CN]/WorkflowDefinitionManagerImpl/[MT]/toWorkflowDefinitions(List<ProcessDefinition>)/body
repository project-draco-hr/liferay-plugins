{
  JbpmContext jbpmContext=_jbpmConfiguration.createJbpmContext();
  try {
    CustomSession customSession=new CustomSession(jbpmContext);
    List<WorkflowDefinition> workflowDefinitions=new ArrayList<WorkflowDefinition>(processDefinitions.size());
    for (    ProcessDefinition processDefinition : processDefinitions) {
      WorkflowDefinitionExtensionImpl workflowDefinitionExtension=customSession.findWorkflowDefinitonExtension(processDefinition.getId());
      WorkflowDefinition workflowDefinition=new WorkflowDefinitionImpl(processDefinition,workflowDefinitionExtension.getTitle(),workflowDefinitionExtension.isActive());
      workflowDefinitions.add(workflowDefinition);
    }
    return workflowDefinitions;
  }
  finally {
    jbpmContext.close();
  }
}
