{
  if (_logger.isTraceEnabled()) {
    _logger.trace("Processing sync watch events");
  }
  List<SyncWatchEvent> syncWatchEvents=SyncWatchEventService.findAll("kindName",true);
  for (  SyncWatchEvent syncWatchEvent : syncWatchEvents) {
    if (_processedSyncWatchEvents.contains(syncWatchEvent)) {
      continue;
    }
    if (_logger.isDebugEnabled()) {
      _logger.debug("Event file path {} file type {} kind name {} timestamp {}",syncWatchEvent.getFilePathName(),syncWatchEvent.getFileType(),syncWatchEvent.getKindName(),syncWatchEvent.getTimestamp());
    }
    String fileType=syncWatchEvent.getFileType();
    String kindName=syncWatchEvent.getKindName();
    if (kindName.equals(SyncWatchEvent.ENTRY_CREATE)) {
      if (fileType.equals(SyncFile.TYPE_FILE)) {
        try {
          addFile(syncWatchEvent);
        }
 catch (        Exception e) {
          _logger.error(e.getMessage(),e);
        }
      }
 else {
        try {
          addFolder(syncWatchEvent);
        }
 catch (        Exception e) {
          _logger.error(e.getMessage(),e);
        }
      }
    }
 else     if (kindName.equals(SyncWatchEvent.ENTRY_DELETE)) {
      System.out.println(fileType);
      if (fileType.equals(SyncFile.TYPE_FILE)) {
        try {
          deleteFile(syncWatchEvent);
        }
 catch (        Exception e) {
          _logger.error(e.getMessage(),e);
        }
      }
 else {
        try {
          deleteFolder(syncWatchEvent);
        }
 catch (        Exception e) {
          _logger.error(e.getMessage(),e);
        }
      }
    }
    SyncWatchEventService.deleteSyncWatchEvent(syncWatchEvent.getSyncWatchEventId());
  }
  _processedSyncWatchEvents.clear();
}
