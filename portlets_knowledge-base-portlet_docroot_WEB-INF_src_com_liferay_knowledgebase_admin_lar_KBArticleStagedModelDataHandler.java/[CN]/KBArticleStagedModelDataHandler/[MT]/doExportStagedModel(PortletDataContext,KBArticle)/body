{
  if (kbArticle.getParentResourcePrimKey() != KBArticleConstants.DEFAULT_PARENT_RESOURCE_PRIM_KEY) {
    KBArticle parentKBArticle=KBArticleLocalServiceUtil.getLatestKBArticle(kbArticle.getParentResourcePrimKey(),WorkflowConstants.STATUS_APPROVED);
    StagedModelDataHandlerUtil.exportReferenceStagedModel(portletDataContext,kbArticle,parentKBArticle,PortletDataContext.REFERENCE_TYPE_PARENT);
  }
  Element kbArticleElement=portletDataContext.getExportDataElement(kbArticle);
  exportKBArticleAttachments(portletDataContext,kbArticleElement,kbArticle);
  portletDataContext.addClassedModel(kbArticleElement,ExportImportPathUtil.getModelPath(kbArticle),kbArticle);
}
