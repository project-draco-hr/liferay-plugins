{
  BundleWiring bundleWiring=getBundleWiring(bundle);
  List<BundleRequirement> bundleRequirements=bundleWiring.getRequirements(BundleRevision.PACKAGE_NAMESPACE);
  if (bundleRequirements.isEmpty()) {
    return StringPool.BLANK;
  }
  StringBundler sb=new StringBundler();
  for (  BundleRequirement bundleRequirement : bundleRequirements) {
    Map<String,String> directives=bundleRequirement.getDirectives();
    String resolution=directives.get("resolution");
    if (resolution.equals("dynamic")) {
      continue;
    }
    String filter=directives.get("filter");
    Matcher matcher=_pattern.matcher(filter);
    if (matcher.matches()) {
      String packageName=matcher.group(1);
      sb.append(packageName);
    }
 else {
      _log.error("Unable to parse " + filter);
      continue;
    }
    boolean satisfied=false;
    List<BundleWire> bundleWires=bundleWiring.getRequiredWires(BundleRevision.PACKAGE_NAMESPACE);
    for (    BundleWire bundleWire : bundleWires) {
      BundleCapability bundleCapability=bundleWire.getCapability();
      if (!bundleRequirement.matches(bundleCapability)) {
        continue;
      }
      satisfied=true;
      Map<String,Object> attributes=bundleCapability.getAttributes();
      Version version=(Version)attributes.get("version");
      sb.append(" {");
      if (!version.equals(Version.emptyVersion)) {
        sb.append(version);
        sb.append(", ");
      }
      BundleWiring providerBundleWiring=bundleWire.getProviderWiring();
      BundleRevision bundleRevision=providerBundleWiring.getRevision();
      sb.append(bundleRevision.getSymbolicName());
      sb.append("[");
      Bundle bundleRevisionBundle=bundleRevision.getBundle();
      sb.append(bundleRevisionBundle.getBundleId());
      sb.append("]}");
    }
    if (!satisfied) {
      sb.append(" <strong class=\"resolved\">");
      sb.append(LanguageUtil.get(pageContext,"un-resolved"));
      sb.append("</strong>");
    }
    if (resolution.equals("optional")) {
      sb.append(" <strong class=\"resolution\">");
      sb.append(LanguageUtil.get(pageContext,resolution));
      sb.append("</strong>");
    }
    sb.append("<br />");
  }
  sb.setIndex(sb.index() - 1);
  return sb.toString();
}
