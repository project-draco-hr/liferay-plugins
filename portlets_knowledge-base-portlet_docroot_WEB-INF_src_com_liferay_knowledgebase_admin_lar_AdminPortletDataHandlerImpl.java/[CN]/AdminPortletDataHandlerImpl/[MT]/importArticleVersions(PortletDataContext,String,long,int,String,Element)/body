{
  Element versionsEl=articleEl.element("versions");
  List<Element> articlesEl=versionsEl.elements("article");
  Article importedArticle=null;
  for (  Element curArticleEl : articlesEl) {
    Article curArticle=(Article)context.getZipEntryAsObject(curArticleEl.attributeValue("path"));
    long userId=context.getUserId(curArticle.getUserUuid());
    String curDirName=StringPool.BLANK;
    if (articlesEl.indexOf(curArticleEl) == (articlesEl.size() - 1)) {
      curDirName=dirName;
    }
    ServiceContext serviceContext=new ServiceContext();
    serviceContext.setAddCommunityPermissions(true);
    serviceContext.setAddGuestPermissions(true);
    serviceContext.setCreateDate(curArticle.getCreateDate());
    serviceContext.setModifiedDate(curArticle.getModifiedDate());
    serviceContext.setScopeGroupId(context.getScopeGroupId());
    if (importedArticle == null) {
      importedArticle=ArticleLocalServiceUtil.addArticle(uuid,userId,parentResourcePrimKey,curArticle.getTitle(),curArticle.getContent(),curArticle.getDescription(),priority,curDirName,serviceContext);
    }
 else {
      importedArticle=ArticleLocalServiceUtil.updateArticle(userId,importedArticle.getResourcePrimKey(),parentResourcePrimKey,curArticle.getTitle(),curArticle.getContent(),curArticle.getDescription(),priority,curDirName,serviceContext);
    }
  }
  return importedArticle;
}
