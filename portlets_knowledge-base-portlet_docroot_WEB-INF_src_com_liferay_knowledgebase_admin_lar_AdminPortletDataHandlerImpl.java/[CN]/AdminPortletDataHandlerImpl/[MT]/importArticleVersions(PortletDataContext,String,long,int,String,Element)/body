{
  Element versionsElement=articleElement.element("versions");
  List<Element> articleElements=versionsElement.elements("article");
  Article importedArticle=null;
  for (  Element curArticleElement : articleElements) {
    Article curArticle=(Article)context.getZipEntryAsObject(curArticleElement.attributeValue("path"));
    long userId=context.getUserId(curArticle.getUserUuid());
    String curDirName=StringPool.BLANK;
    int index=articleElements.indexOf(curArticleElement);
    if (index == (articleElements.size() - 1)) {
      curDirName=dirName;
    }
    ServiceContext serviceContext=new ServiceContext();
    serviceContext.setAddCommunityPermissions(true);
    serviceContext.setAddGuestPermissions(true);
    serviceContext.setCreateDate(curArticle.getCreateDate());
    serviceContext.setModifiedDate(curArticle.getModifiedDate());
    serviceContext.setScopeGroupId(context.getScopeGroupId());
    if (importedArticle == null) {
      importedArticle=ArticleLocalServiceUtil.addArticle(uuid,userId,parentResourcePrimKey,curArticle.getTitle(),curArticle.getContent(),curArticle.getDescription(),priority,curDirName,serviceContext);
    }
 else {
      importedArticle=ArticleLocalServiceUtil.updateArticle(userId,importedArticle.getResourcePrimKey(),parentResourcePrimKey,curArticle.getTitle(),curArticle.getContent(),curArticle.getDescription(),priority,curDirName,serviceContext);
    }
  }
  return importedArticle;
}
