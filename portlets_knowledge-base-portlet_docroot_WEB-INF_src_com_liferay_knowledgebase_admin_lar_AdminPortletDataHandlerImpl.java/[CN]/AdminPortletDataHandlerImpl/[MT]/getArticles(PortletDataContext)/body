{
  List<Article> articles=new ArrayList<Article>();
  List<Article> siblingArticles=new ArrayList<Article>();
  Long[][] params=new Long[][]{new Long[]{ArticleConstants.DEFAULT_PARENT_RESOURCE_PRIM_KEY}};
  while ((params=KnowledgeBaseUtil.getParams(params[0])) != null) {
    List<Article> curArticles=ArticleUtil.findByG_P_L_S(portletDataContext.getScopeGroupId(),ArrayUtil.toArray(params[1]),ArticleConstants.LATEST_ANY,WorkflowConstants.STATUS_APPROVED,QueryUtil.ALL_POS,QueryUtil.ALL_POS,new ArticlePriorityComparator(true));
    siblingArticles.addAll(curArticles);
    if (params[0].length > 0) {
      continue;
    }
    long[] siblingArticlesResourcePrimKeys=StringUtil.split(ListUtil.toString(siblingArticles,"resourcePrimKey"),0L);
    params[0]=ArrayUtil.toArray(siblingArticlesResourcePrimKeys);
    articles.addAll(siblingArticles);
    siblingArticles.clear();
  }
  return articles;
}
