{
  portletDataContext.addPermissions("com.liferay.knowledgebase.admin",portletDataContext.getScopeGroupId());
  Document document=SAXReaderUtil.createDocument();
  Element rootElement=document.addElement("knowledge-base-admin-data");
  rootElement.addAttribute("group-id",String.valueOf(portletDataContext.getScopeGroupId()));
  exportKBArticles(portletDataContext,rootElement);
  if (portletDataContext.getBooleanParameter(_NAMESPACE,"kb-comments")) {
    exportKBComments(portletDataContext,KBArticle.class,"kb-article-kb-comment",rootElement);
  }
  if (portletDataContext.getBooleanParameter(_NAMESPACE,"kb-templates")) {
    exportKBTemplates(portletDataContext,rootElement);
  }
  if (portletDataContext.getBooleanParameter(_NAMESPACE,"kb-comments")) {
    exportKBComments(portletDataContext,KBTemplate.class,"kb-template-kb-comment",rootElement);
  }
  return document.formattedString();
}
