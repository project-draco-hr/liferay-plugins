{
  List<Article> articles=new ArrayList<Article>();
  Map<String,Object> params=new HashMap<String,Object>();
  params.put("groupId",context.getGroupId());
  params.put("parentResourcePrimKey",ArticleConstants.DEFAULT_PARENT_RESOURCE_PRIM_KEY);
  List<Article> rootArticles=ArticleLocalServiceUtil.getArticles(params,false,QueryUtil.ALL_POS,QueryUtil.ALL_POS,new ArticlePriorityComparator(true));
  for (  Article rootArticle : rootArticles) {
    if (context.isWithinDateRange(rootArticle.getModifiedDate())) {
      articles.add(rootArticle);
    }
  }
  int index=-1;
  while ((index=index + 1) < articles.size()) {
    Article article=articles.get(index);
    Map<String,Object> curParams=new HashMap<String,Object>();
    curParams.put("groupId",article.getGroupId());
    curParams.put("parentResourcePrimKey",article.getResourcePrimKey());
    List<Article> childArticles=ArticleLocalServiceUtil.getArticles(curParams,false,QueryUtil.ALL_POS,QueryUtil.ALL_POS,new ArticlePriorityComparator(true));
    for (    Article childArticle : childArticles) {
      if (context.isWithinDateRange(childArticle.getModifiedDate())) {
        articles.add(childArticle);
      }
    }
  }
  return articles;
}
