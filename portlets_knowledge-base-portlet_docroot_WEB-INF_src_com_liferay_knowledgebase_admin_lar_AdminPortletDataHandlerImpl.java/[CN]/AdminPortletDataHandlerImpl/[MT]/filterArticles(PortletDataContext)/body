{
  List<Article> articles=new ArrayList<Article>();
  List<Article> siblingArticles=new ArrayList<Article>();
  Long[][] params=new Long[][]{new Long[]{ArticleConstants.DEFAULT_PARENT_RESOURCE_PRIM_KEY}};
  while ((params=KnowledgeBaseUtil.getParams(params[0])) != null) {
    List<Article> curArticles=ArticleUtil.findByG_P_L_S(portletDataContext.getScopeGroupId(),ArrayUtil.toArray(params[1]),ArticleConstants.LATEST_ANY,WorkflowConstants.STATUS_APPROVED);
    for (    Article curArticle : curArticles) {
      if (portletDataContext.isWithinDateRange(curArticle.getModifiedDate())) {
        siblingArticles.add(curArticle);
      }
    }
    if (params[0].length == 0) {
      Collections.sort(siblingArticles,new ArticlePriorityComparator(true));
      articles.addAll(siblingArticles);
      long[] resourcePrimKeys=StringUtil.split(ListUtil.toString(siblingArticles,"resourcePrimKey"),0L);
      siblingArticles=new ArrayList<Article>();
      params[0]=ArrayUtil.toArray(resourcePrimKeys);
    }
  }
  return articles;
}
