{
  try {
    long companyId=CompanyThreadLocal.getCompanyId().longValue();
    long maxAge=GetterUtil.getLong(PrefsPropsUtil.getString(companyId,PropsKeys.SAML_IDP_SSO_SESSION_MAXIMUM_AGE));
    long timeout=GetterUtil.getLong(PrefsPropsUtil.getString(companyId,PropsKeys.SAML_IDP_SSO_SESSION_TIMEOUT));
    if (maxAge > 0) {
      long expireTime=getCreateDate().getTime() + 1000 * maxAge;
      if (System.currentTimeMillis() > expireTime) {
        return true;
      }
    }
    long expireTime=getLastActiveDate().getTime() + 1000 * timeout;
    return (System.currentTimeMillis() > expireTime);
  }
 catch (  Exception e) {
    return false;
  }
}
