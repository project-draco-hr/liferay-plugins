{
  try {
    CalendarResource calendarResource=getCalendarResource();
    if (calendarResource.isGroup()) {
      return calendarResource.getClassPK();
    }
 else     if (calendarResource.isUser()) {
      Group group=GroupLocalServiceUtil.getUserGroup(getCompanyId(),calendarResource.getClassPK());
      return group.getGroupId();
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
  return getGroupId();
}
