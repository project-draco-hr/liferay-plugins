{
  KBArticle kbArticle=(KBArticle)request.getAttribute(WebKeys.KNOWLEDGE_BASE_KB_ARTICLE);
  KBTemplate kbTemplate=kbArticle.getKBTemplate();
  String velocityTemplateId=getVelocityTemplateId(kbTemplate.getGroupId(),kbTemplate.getKbTemplateId());
  UnsyncStringWriter unsyncStringWriter=new UnsyncStringWriter();
  VelocityEngineUtil.mergeTemplate(velocityTemplateId,kbTemplate.getContent(),getVelocityContext(request),unsyncStringWriter);
  return unsyncStringWriter.toString();
}
