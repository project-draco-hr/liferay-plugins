{
  if (MicroblogsUtil.isTaggedUser(microblogsEntry.getMicroblogsEntryId(),false,userId)) {
    return MicroblogsEntryConstants.NOTIFICATION_TYPE_TAG;
  }
 else   if (microblogsEntry.getType() == MicroblogsEntryConstants.TYPE_REPLY) {
    long parentMicroblogsEntryId=MicroblogsUtil.getParentMicroblogsEntryId(microblogsEntry);
    if (MicroblogsUtil.getParentMicroblogsUserId(microblogsEntry) == userId) {
      return MicroblogsEntryConstants.NOTIFICATION_TYPE_REPLY;
    }
 else     if (MicroblogsUtil.hasReplied(parentMicroblogsEntryId,userId)) {
      return MicroblogsEntryConstants.NOTIFICATION_TYPE_REPLY_TO_REPLIED;
    }
 else     if (MicroblogsUtil.isTaggedUser(parentMicroblogsEntryId,true,userId)) {
      return MicroblogsEntryConstants.NOTIFICATION_TYPE_REPLY_TO_TAGGED;
    }
  }
  return 0;
}
