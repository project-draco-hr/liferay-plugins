{
  if (_wsrpCompany == null) {
    try {
      _wsrpCompany=CompanyLocalServiceUtil.getCompanyByVirtualHost(_WSRP_VIRTUAL_HOST);
    }
 catch (    NoSuchCompanyException nsce) {
      _wsrpCompany=_createWSRPCompany();
    }
catch (    Exception e) {
      _log.error(e,e);
      throw new ProducerException(e);
    }
  }
  return _wsrpCompany;
}
