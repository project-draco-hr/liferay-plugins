{
  StringBundler sb=new StringBundler(groupNames.length * 2 + 4);
  sb.append("(User_.userId NOT IN (");
  sb.append("SELECT userId FROM Users_Groups INNER JOIN Group_ ON ");
  sb.append("(Users_Groups.groupId = Group_.groupId) WHERE Group_.name");
  sb.append(" IN (");
  for (int i=0; i < groupNames.length; i++) {
    sb.append(StringPool.QUESTION);
    if ((i + 1) < groupNames.length) {
      sb.append(StringPool.COMMA);
    }
  }
  sb.append(" ))) AND");
  return sb.toString();
}
