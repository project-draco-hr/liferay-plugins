{
  Role role=null;
  try {
    role=RoleLocalServiceUtil.getRole(serviceContext.getCompanyId(),name);
    if (role.getType() != roleType) {
      throw new DuplicateRoleException("Role already exists with name " + name);
    }
  }
 catch (  NoSuchRoleException nsre) {
    if (!autoCreate) {
      throw nsre;
    }
    role=RoleLocalServiceUtil.addRole(serviceContext.getUserId(),serviceContext.getCompanyId(),name,null,"Autogenerated role from workflow definition",roleType);
  }
  return role;
}
