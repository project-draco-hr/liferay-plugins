{
  Group userGroup=user.getGroup();
  Layout layout=LayoutLocalServiceUtil.getLayout(userGroup.getDefaultPrivatePlid());
  String portalURL=_getPortalURL(userGroup.getCompanyId(),userGroup.getGroupId());
  String layoutActualURL=PortalUtil.getLayoutActualURL(layout);
  String url=portalURL + layoutActualURL;
  String namespace=PortalUtil.getPortletNamespace(PortletKeys.CALENDAR);
  url=HttpUtil.addParameter(url,namespace + "mvcPath","/view_calendar_booking.jsp");
  url=HttpUtil.addParameter(url,"p_p_id",PortletKeys.CALENDAR);
  url=HttpUtil.addParameter(url,"p_p_lifecycle","0");
  url=HttpUtil.addParameter(url,"p_p_state",WindowState.MAXIMIZED.toString());
  url=HttpUtil.addParameter(url,namespace + "calendarBookingId",calendarBookingId);
  return url;
}
