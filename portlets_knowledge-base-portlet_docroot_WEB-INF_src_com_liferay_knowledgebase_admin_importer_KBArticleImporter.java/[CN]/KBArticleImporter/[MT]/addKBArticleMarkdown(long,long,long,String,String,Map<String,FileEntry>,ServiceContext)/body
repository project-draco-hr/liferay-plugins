{
  if (Validator.isNull(markdown)) {
    throw new KBArticleImportException("Markdown is null for file entry " + fileEntryName);
  }
  KBArticleMarkdownConverter kbArticleMarkdownConverter=new KBArticleMarkdownConverter(markdown,fileEntriesMap);
  try {
    return applyContentToKBArticle(userId,groupId,parentResourcePrimaryKey,kbArticleMarkdownConverter.getTitle(),kbArticleMarkdownConverter.getUrlTitle(),kbArticleMarkdownConverter.getHtml(),serviceContext);
  }
 catch (  Exception e) {
    StringBuilder sb=new StringBuilder(4);
    sb.append("Unable to add KB article for file entry ");
    sb.append(fileEntryName);
    sb.append(": ");
    sb.append(e.getLocalizedMessage());
    throw new KBArticleImportException(sb.toString(),e);
  }
}
