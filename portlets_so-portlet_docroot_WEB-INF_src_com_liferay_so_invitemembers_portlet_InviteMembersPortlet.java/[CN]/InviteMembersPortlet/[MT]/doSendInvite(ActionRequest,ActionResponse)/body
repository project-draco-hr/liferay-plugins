{
  long groupId=ParamUtil.getLong(actionRequest,"groupId");
  long[] receiverUserIds=getLongArray(actionRequest,"receiverUserIds");
  String[] receiverEmailAddresses=getStringArray(actionRequest,"receiverEmailAddresses");
  long invitedRoleId=ParamUtil.getLong(actionRequest,"invitedRoleId");
  long invitedTeamId=ParamUtil.getLong(actionRequest,"invitedTeamId");
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  if (!UserLocalServiceUtil.hasGroupUser(groupId,themeDisplay.getUserId())) {
    return;
  }
  MemberRequestLocalServiceUtil.addMemberRequests(themeDisplay.getUserId(),groupId,receiverUserIds,invitedRoleId,invitedTeamId,themeDisplay);
  MemberRequestLocalServiceUtil.addMemberRequests(themeDisplay.getUserId(),groupId,receiverEmailAddresses,invitedRoleId,invitedTeamId,themeDisplay);
}
