{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long groupId=ParamUtil.getLong(actionRequest,"groupId");
  Group group=GroupLocalServiceUtil.getGroup(groupId);
  if (!group.hasPublicLayouts()) {
    return null;
  }
  PortletURL redirectURL=PortletURLFactoryUtil.create(actionRequest,PortletKeys.SITE_REDIRECTOR,themeDisplay.getPlid(),PortletRequest.RENDER_PHASE);
  redirectURL.setWindowState(LiferayWindowState.NORMAL);
  redirectURL.setParameter("struts_action","/my_sites/view");
  redirectURL.setParameter("groupId",String.valueOf(groupId));
  redirectURL.setParameter("privateLayout",String.valueOf(!group.hasPublicLayouts()));
  return redirectURL.toString();
}
