{
  long userClassNameId=PortalUtil.getClassNameId(User.class);
  long groupClassNameId=PortalUtil.getClassNameId(Group.class);
  CalendarResource calendarResource=null;
  if (classNameId == userClassNameId) {
    calendarResource=CalendarResourceUtil.fetchOrCreateUserResource(request,classPK);
  }
 else   if (classNameId == groupClassNameId) {
    calendarResource=CalendarResourceUtil.fetchOrCreateGroupResource(request,classPK);
  }
 else {
    calendarResource=CalendarResourceServiceUtil.fetchCalendarResource(classNameId,classPK);
  }
  return calendarResource;
}
