{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long bbbMeetingId=ParamUtil.getLong(actionRequest,"bbbMeetingId");
  String name=ParamUtil.getString(actionRequest,"name");
  String description=ParamUtil.getString(actionRequest,"description");
  List<BBBParticipant> bbbParticipants=BBBUtil.getBBBParticipants(actionRequest);
  ServiceContext serviceContext=ServiceContextFactory.getInstance(BBBMeeting.class.getName(),actionRequest);
  if (bbbMeetingId <= 0) {
    String portletId=PortalUtil.getPortletId(actionRequest);
    BBBMeetingServiceUtil.addBBBMeeting(themeDisplay.getScopeGroupId(),portletId,BBBMeetingConstants.BBB_SERVER_ID_DEFAULT,name,description,null,null,BBBMeetingConstants.STATUS_SCHEDULED,bbbParticipants,serviceContext);
  }
 else {
    BBBMeeting bbbMeeting=BBBMeetingServiceUtil.getBBBMeeting(bbbMeetingId);
    BBBMeetingServiceUtil.updateBBBMeeting(bbbMeetingId,bbbMeeting.getBbbServerId(),name,description,bbbMeeting.getAttendeePassword(),bbbMeeting.getModeratorPassword(),bbbParticipants,serviceContext);
  }
}
