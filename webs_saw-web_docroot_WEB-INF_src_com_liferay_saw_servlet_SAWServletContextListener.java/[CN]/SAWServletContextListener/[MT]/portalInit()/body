{
  boolean tableAlreadyExists=_checkIfTablesExist();
  if (tableAlreadyExists) {
    if (_log.isInfoEnabled()) {
      _log.info("JBPM Tables already exists.");
    }
  }
 else {
    if (_log.isInfoEnabled()) {
      _log.info("JBPM Tables does not exist. So have to create them.");
    }
    String dialect=_getDialect();
    ClassLoader currentClassLoader=_getCurrentClassLoader();
    ClassLoader portletClassLoader=_getPortletClassLoader();
    _setAggregateClassLoader(portletClassLoader);
    try {
      _runSQLQuery(dialect);
    }
 catch (    IOException e) {
      _log.error(e,e);
    }
catch (    NamingException e) {
      _log.error(e,e);
    }
catch (    SQLException e) {
      _log.error(e,e);
    }
    _restoreClassLoader(currentClassLoader);
  }
}
