{
  String description="Private Site Liferay's template containing the " + "following pages: home, tools, documents and images.";
  Map<Locale,String> titleMap=new HashMap<Locale,String>();
  String portletIdd=StringPool.BLANK;
  long defaultUserId=UserLocalServiceUtil.getDefaultUserId(companyId);
  ServiceContext serviceContext=new ServiceContext();
  titleMap.put(Locale.US,"Private Site Liferay's template");
  LayoutSetPrototype layoutSetPrototype=LayoutSetPrototypeLocalServiceUtil.addLayoutSetPrototype(defaultUserId,companyId,titleMap,description,true);
  LayoutLocalServiceUtil.deleteLayouts(layoutSetPrototype.getGroup().getGroupId(),true);
  Layout layout=LayoutLocalServiceUtil.addLayout(defaultUserId,layoutSetPrototype.getGroup().getGroupId(),true,0,"Home",null,null,"portlet",false,"/home",serviceContext);
  LayoutTypePortlet layoutTypePortlet=(LayoutTypePortlet)layout.getLayoutType();
  layoutTypePortlet.setLayoutTemplateId(0,"2_columns_iii",false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.ANNOUNCEMENTS,"column-1",-1,false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.CALENDAR,"column-1",-1,false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.ACTIVITIES,"column-1",-1,false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.DIRECTORY,"column-2",-1,false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.COMMUNITIES,"column-2",-1,false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.INVITATION,"column-2",-1,false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.RSS,"column-2",-1,false);
  updateLayout(layout);
  layout=LayoutLocalServiceUtil.addLayout(defaultUserId,layoutSetPrototype.getGroup().getGroupId(),true,0,"Tools",null,null,"portlet",false,"/tools",serviceContext);
  layoutTypePortlet=(LayoutTypePortlet)layout.getLayoutType();
  layoutTypePortlet.setLayoutTemplateId(0,"2_columns_i",false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.TRANSLATOR,"column-1",-1,false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.CURRENCY_CONVERTER,"column-1",-1,false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.DICTIONARY,"column-2",-1,false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.SMS_TEXT_MESSENGER,"column-2",-1,false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.UNIT_CONVERTER,"column-2",-1,false);
  updateLayout(layout);
  layout=LayoutLocalServiceUtil.addLayout(defaultUserId,layoutSetPrototype.getGroup().getGroupId(),true,0,"Documents",null,null,"portlet",false,"/documents",serviceContext);
  layoutTypePortlet=(LayoutTypePortlet)layout.getLayoutType();
  layoutTypePortlet.setLayoutTemplateId(0,"2_columns_iii",false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.DOCUMENT_LIBRARY_DISPLAY,"column-1",-1,false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.RECENT_DOCUMENTS,"column-2",-1,false);
  updateLayout(layout);
  layout=LayoutLocalServiceUtil.addLayout(defaultUserId,layoutSetPrototype.getGroup().getGroupId(),true,0,"Images",null,null,"portlet",false,"/images",serviceContext);
  layoutTypePortlet=(LayoutTypePortlet)layout.getLayoutType();
  layoutTypePortlet.setLayoutTemplateId(0,"1_column",false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.IMAGE_GALLERY,"column-1",-1,false);
  updateLayout(layout);
}
