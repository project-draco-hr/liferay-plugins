{
  String description="Blog Liferay's template with the following " + "portlets: Blogs, Tags Cloud, Recent Bloggers.";
  Map<Locale,String> titleMap=new HashMap<Locale,String>();
  String portletIdd=StringPool.BLANK;
  long defaultUserId=UserLocalServiceUtil.getDefaultUserId(companyId);
  titleMap.put(Locale.US,"Blog");
  LayoutPrototype layoutPrototype=LayoutPrototypeLocalServiceUtil.addLayoutPrototype(defaultUserId,companyId,titleMap,description,true);
  Layout layout=layoutPrototype.getLayout();
  LayoutTypePortlet layoutTypePortlet=(LayoutTypePortlet)layout.getLayoutType();
  layoutTypePortlet.setLayoutTemplateId(0,"2_columns_iii",false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.BLOGS,"column-1",-1,false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.TAGS_CLOUD,"column-2",-1,false);
  portletIdd=layoutTypePortlet.addPortletId(0,PortletKeys.RECENT_BLOGGERS,"column-2",-1,false);
  updateLayout(layout);
}
