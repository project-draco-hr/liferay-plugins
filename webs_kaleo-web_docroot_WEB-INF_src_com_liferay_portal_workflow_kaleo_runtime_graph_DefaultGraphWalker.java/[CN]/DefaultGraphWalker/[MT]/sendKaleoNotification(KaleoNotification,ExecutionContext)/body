{
  NotificationMessageGenerator notificationMessageGenerator=NotificationMessageGeneratorFactory.getNotificationMessageGenerator(kaleoNotification.getLanguage());
  String notificationMessage=notificationMessageGenerator.generateMessage(kaleoNotification.getKaleoNodeId(),kaleoNotification.getName(),kaleoNotification.getTemplate(),executionContext);
  String notificationSubject=kaleoNotification.getDescription();
  String[] notificationTypes=StringUtil.split(kaleoNotification.getNotificationTypes());
  List<KaleoNotificationRecipient> kaleoNotificationRecipient=kaleoNotificationRecipientLocalService.getKaleoNotificationRecipients(kaleoNotification.getKaleoNotificationId());
  if (kaleoNotificationRecipient.isEmpty()) {
    if (_log.isInfoEnabled()) {
      _log.info("No recipients found to notify with message " + kaleoNotification.getName() + " "+ notificationMessage);
    }
    return;
  }
  for (  String notificationType : notificationTypes) {
    NotificationSender notificationSender=NotificationSenderFactory.getNotificationSender(notificationType);
    notificationSender.sendNotification(kaleoNotificationRecipient,notificationSubject,notificationMessage,executionContext);
  }
}
