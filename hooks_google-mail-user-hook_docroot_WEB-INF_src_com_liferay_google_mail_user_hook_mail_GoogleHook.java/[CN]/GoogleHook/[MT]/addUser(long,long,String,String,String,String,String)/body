{
  try {
    String nickname=_getNickname(emailAddress);
    GUserManager gUserManager=GoogleAppsConnectionFactoryUtil.getGUserManager(companyId);
    gUserManager.addGUser(userId,password,firstName,lastName);
    GNicknameManager gNicknameManager=GoogleAppsConnectionFactoryUtil.getGNicknameManager(companyId);
    gNicknameManager.addGNickname(userId,nickname);
    GEmailSettingsManager gEmailSettingsManager=GoogleAppsConnectionFactoryUtil.getGEmailSettingsManager(companyId);
    FullNameGenerator fullNameGenerator=_getFullNameGenerator();
    gEmailSettingsManager.addSendAs(userId,fullNameGenerator.getFullName(firstName,middleName,lastName),emailAddress);
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
}
