{
  Folder folder=FolderLocalServiceUtil.getFolder(folderId);
  if (folderId != 0) {
    Mailbox mailbox=MailboxFactoryUtil.getMailbox(_user.getUserId(),folder.getAccountId());
    if ((pageNumber == 1) && orderByField.equals(MailConstants.ORDER_BY_SENT_DATE) && orderByType.equals("desc")&& Validator.isNull(keywords)) {
      sendSynchronizePageMessage(folderId,pageNumber,messagesPerPage);
    }
    return mailbox.getMessagesDisplay(folderId,keywords,pageNumber,messagesPerPage,orderByField,orderByType);
  }
  return new MessagesDisplay(new ArrayList<Message>(),pageNumber,messagesPerPage,0);
}
