{
  OrderByComparator comparator=new WorkflowDefinitionNameComparator();
  List<WorkflowDefinition> definitions=WorkflowDefinitionManagerUtil.getWorkflowDefinitions(QueryUtil.ALL_POS,QueryUtil.ALL_POS,comparator);
  if (definitions.size() != 3) {
    throw new Exception("There should be 3 definitions, but found " + definitions.size());
  }
  WorkflowDefinition definition3=definitions.get(0);
  String definitionName3=definition3.getWorkflowDefinitionName();
  int definitionVersion3=definition3.getWorkflowDefinitionVersion();
  if (!definitionName3.equals(TEST_DEFINITION_NAME_3)) {
    throw new Exception("The name of 1/3 workflow definition should be " + TEST_DEFINITION_NAME_3 + ", but found "+ definitionName3);
  }
  if (definitionVersion3 != 1) {
    throw new Exception("The version of 1/3 workflow definition should be " + 1 + ", but found "+ definitionVersion3);
  }
  WorkflowDefinition definition2=definitions.get(1);
  String definitionName2=definition2.getWorkflowDefinitionName();
  int definitionVersion2=definition2.getWorkflowDefinitionVersion();
  if (!definitionName2.equals(TEST_DEFINITION_NAME_2)) {
    throw new Exception("The name of 2/3 workflow definition should be " + TEST_DEFINITION_NAME_2 + ", but found "+ definitionName2);
  }
  if (definitionVersion2 != 2) {
    throw new Exception("The version of 2/3 workflow definition should be " + 2 + ", but found "+ definitionVersion2);
  }
  WorkflowDefinition definition1=definitions.get(2);
  String definitionName1=definition1.getWorkflowDefinitionName();
  int definitionVersion1=definition1.getWorkflowDefinitionVersion();
  if (!definitionName1.equals(TEST_DEFINITION_NAME_1)) {
    throw new Exception("The name of 3/3 workflow definition should be " + TEST_DEFINITION_NAME_1 + ", but found "+ definitionName1);
  }
  if (definitionVersion1 != 3) {
    throw new Exception("The version of 3/3 workflow definition should be " + 3 + ", but found "+ definitionVersion1);
  }
  definitions=WorkflowDefinitionManagerUtil.getWorkflowDefinitions(0,2,comparator);
  if (definitions.size() != 2) {
    throw new Exception("There should be 2 definitions, but found " + definitions.size());
  }
  definition3=definitions.get(0);
  definitionName3=definition3.getWorkflowDefinitionName();
  definitionVersion3=definition3.getWorkflowDefinitionVersion();
  if (!definitionName3.equals(TEST_DEFINITION_NAME_3)) {
    throw new Exception("The name of 1/2 workflow definition should be " + TEST_DEFINITION_NAME_3 + ", but found "+ definitionName3);
  }
  if (definitionVersion3 != 1) {
    throw new Exception("The version of 1/2 workflow definition should be " + 1 + ", but found "+ definitionVersion3);
  }
  definition2=definitions.get(1);
  definitionName2=definition2.getWorkflowDefinitionName();
  definitionVersion2=definition2.getWorkflowDefinitionVersion();
  if (!definitionName2.equals(TEST_DEFINITION_NAME_2)) {
    throw new Exception("The name of 2/2 workflow definition should be " + TEST_DEFINITION_NAME_2 + ", but found "+ definitionName2);
  }
  if (definitionVersion2 != 2) {
    throw new Exception("The version of 2/2 workflow definition should be " + 2 + ", but found "+ definitionVersion2);
  }
}
