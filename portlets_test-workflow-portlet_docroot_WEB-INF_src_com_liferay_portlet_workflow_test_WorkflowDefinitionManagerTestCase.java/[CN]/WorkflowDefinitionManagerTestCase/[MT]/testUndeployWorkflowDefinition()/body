{
  WorkflowDefinition testDefinition1_1=buildDeployWorkflowDefinition(TEST_DEFINITION_NAME_1,1,null);
  WorkflowDefinitionManagerUtil.undeployWorkflowDefinition(testDefinition1_1,_testUser.getUserId(),null);
  WorkflowDefinition testDefinition1_2=buildDeployWorkflowDefinition(TEST_DEFINITION_NAME_1,2,null);
  WorkflowDefinitionManagerUtil.undeployWorkflowDefinition(testDefinition1_2,_testUser.getUserId(),null);
  WorkflowDefinition testDefinition1_3=buildDeployWorkflowDefinition(TEST_DEFINITION_NAME_1,3,null);
  WorkflowDefinitionManagerUtil.undeployWorkflowDefinition(testDefinition1_3,_testUser.getUserId(),null);
  WorkflowDefinition testDefinition2_1=buildDeployWorkflowDefinition(TEST_DEFINITION_NAME_2,1,null);
  WorkflowDefinitionManagerUtil.undeployWorkflowDefinition(testDefinition2_1,_testUser.getUserId(),null);
  WorkflowDefinition testDefinition2_2=buildDeployWorkflowDefinition(TEST_DEFINITION_NAME_2,2,null);
  WorkflowDefinitionManagerUtil.undeployWorkflowDefinition(testDefinition2_2,_testUser.getUserId(),null);
  WorkflowDefinition testDefinition3_1=buildDeployWorkflowDefinition(TEST_DEFINITION_NAME_3,1,null);
  WorkflowDefinitionManagerUtil.undeployWorkflowDefinition(testDefinition3_1,_testUser.getUserId(),null);
  int count=WorkflowDefinitionManagerUtil.getWorkflowDefinitionCount();
  if (count != 0) {
    throw new Exception("There should be 0 definitions, but found " + count);
  }
}
