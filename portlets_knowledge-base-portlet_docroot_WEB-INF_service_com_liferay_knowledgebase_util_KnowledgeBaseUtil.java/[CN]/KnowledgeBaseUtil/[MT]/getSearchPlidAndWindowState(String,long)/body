{
  Article article=ArticleLocalServiceUtil.getLatestArticle(resourcePrimKey,WorkflowConstants.STATUS_APPROVED);
  long plid=PortalUtil.getPlidFromPortletId(article.getGroupId(),portletId);
  if (plid == LayoutConstants.DEFAULT_PLID) {
    return new Object[]{plid,WindowState.NORMAL};
  }
  Layout layout=LayoutLocalServiceUtil.getLayout(plid);
  PortletPreferences jxPreferences=PortletPreferencesFactoryUtil.getPortletSetup(layout,portletId,StringPool.BLANK);
  if (hasArticle(article,jxPreferences)) {
    return new Object[]{plid,WindowState.MAXIMIZED};
  }
  return new Object[]{LayoutConstants.DEFAULT_PLID,WindowState.NORMAL};
}
