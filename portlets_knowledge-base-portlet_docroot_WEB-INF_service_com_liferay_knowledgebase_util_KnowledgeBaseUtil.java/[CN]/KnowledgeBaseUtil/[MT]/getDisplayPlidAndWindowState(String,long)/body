{
  Article article=ArticleLocalServiceUtil.getLatestArticle(resourcePrimKey);
  long parentGroupId=PortalUtil.getParentGroupId(article.getGroupId());
  long plid=PortalUtil.getPlidFromPortletId(parentGroupId,portletId);
  if (plid == LayoutConstants.DEFAULT_PLID) {
    return new Object[]{plid,WindowState.NORMAL};
  }
  Object[] arguments=new Object[]{LayoutLocalServiceUtil.getLayout(plid),portletId,StringPool.BLANK};
  PortletPreferences jxPreferences=(PortletPreferences)PortalClassInvoker.invoke("com.liferay.portlet.PortletPreferencesFactoryUtil","getPortletSetup",arguments);
  if (hasArticle(article,jxPreferences)) {
    return new Object[]{plid,WindowState.NORMAL};
  }
  return new Object[]{LayoutConstants.DEFAULT_PLID,WindowState.NORMAL};
}
