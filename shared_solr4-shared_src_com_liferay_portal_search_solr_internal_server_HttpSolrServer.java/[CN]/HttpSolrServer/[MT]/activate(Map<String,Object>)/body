{
  String url=MapUtil.getString(properties,"url","http://localhost:8080/solr");
  setUrl(url);
  String authMode=MapUtil.getString(properties,"auth.mode","BASIC");
  HttpClientFactory httpClientFactory=_httpClientFactories.get(authMode);
  if (httpClientFactory == null) {
    throw new IllegalStateException("No configured HttpClientFactory for : " + authMode);
  }
  HttpClient httpClient=httpClientFactory.createInstance();
  initHttpSolrServer(httpClient);
}
