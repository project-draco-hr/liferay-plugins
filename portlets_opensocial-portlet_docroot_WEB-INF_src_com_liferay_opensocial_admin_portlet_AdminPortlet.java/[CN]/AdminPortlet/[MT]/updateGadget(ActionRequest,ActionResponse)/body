{
  checkPermissions(actionRequest);
  try {
    String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
    if (cmd.equals(Constants.ADD)) {
      doAddGadget(actionRequest,actionResponse);
    }
 else     if (cmd.equals(Constants.UPDATE)) {
      doUpdateGadget(actionRequest,actionResponse);
    }
  }
 catch (  PortalException pe) {
    SessionErrors.add(actionRequest,pe.getClass().getName());
  }
}
