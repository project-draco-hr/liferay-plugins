{
  List<KaleoTaskAssignment> reassignedKaleoTaskAssignments=new ArrayList<KaleoTaskAssignment>();
  ClassLoader contextClassLoader=Thread.currentThread().getContextClassLoader();
  for (  KaleoTaskAssignment kaleoTaskAssignment : kaleoTaskAssignments) {
    String[] assigneeScriptRequiredContexts=StringUtil.split(kaleoTaskAssignment.getAssigneeScriptRequiredContexts());
    ClassLoader[] classLoaders=ClassLoaderUtil.getClassLoaders(assigneeScriptRequiredContexts,contextClassLoader);
    Collection<KaleoTaskAssignment> calculatedKaleoTaskAssignments=_taskAssignmentSelector.calculateTaskAssignments(kaleoTaskAssignment,executionContext,classLoaders);
    reassignedKaleoTaskAssignments.addAll(calculatedKaleoTaskAssignments);
  }
  KaleoTaskInstanceToken kaleoTaskInstanceToken=executionContext.getKaleoTaskInstanceToken();
  KaleoTaskAssignmentInstanceLocalServiceUtil.deleteKaleoTaskAssignmentInstances(kaleoTaskInstanceToken);
  KaleoTaskAssignmentInstanceLocalServiceUtil.addTaskAssignmentInstances(kaleoTaskInstanceToken,reassignedKaleoTaskAssignments,executionContext.getWorkflowContext(),executionContext.getServiceContext());
}
