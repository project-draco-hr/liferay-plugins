{
  if (Validator.isNull(keywords)) {
    LinkedHashMap params=new LinkedHashMap();
    params.put("usersGroups",new Long(userId));
    return GroupLocalServiceUtil.searchCount(comapnyId,keywords,null,params);
  }
 else {
    LinkedHashMap params=new LinkedHashMap();
    List types=new ArrayList();
    types.add(new Integer(GroupConstants.TYPE_SITE_OPEN));
    types.add(new Integer(GroupConstants.TYPE_SITE_RESTRICTED));
    params.put("types",types);
    int count=GroupLocalServiceUtil.searchCount(comapnyId,keywords,null,params);
    params=new LinkedHashMap();
    params.put("usersGroups",new Long(userId));
    types=new ArrayList();
    types.add(new Integer(GroupConstants.TYPE_SITE_PRIVATE));
    params.put("types",types);
    return count + GroupLocalServiceUtil.searchCount(comapnyId,keywords,null,params);
  }
}
