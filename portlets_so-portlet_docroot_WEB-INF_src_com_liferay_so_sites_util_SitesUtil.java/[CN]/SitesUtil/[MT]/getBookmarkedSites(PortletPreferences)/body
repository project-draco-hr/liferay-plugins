{
  String bookmarkGroupIds=preferences.getValue("bookmarkGroupIds",StringPool.BLANK);
  long[] groupIds=StringUtil.split(bookmarkGroupIds,0L);
  List<Group> groups=new ArrayList<Group>(groupIds.length);
  for (  long groupId : groupIds) {
    try {
      Group group=GroupServiceUtil.getGroup(groupId);
      groups.add(group);
    }
 catch (    Exception e) {
      StringUtil.remove(bookmarkGroupIds,String.valueOf(groupId));
      preferences.setValue("bookmarkGroupIds",bookmarkGroupIds);
      preferences.store();
    }
  }
  Collections.sort(groups,new GroupNameComparator(true));
  return groups;
}
