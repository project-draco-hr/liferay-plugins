{
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(WorkflowTask.class);
  if (count) {
    dynamicQuery.setProjection(ProjectionFactoryUtil.rowCount());
  }
  Criterion assigneeRoleIdCriterion=RestrictionsFactoryUtil.in("assigneeRoleId",userCredential.getRoleIds());
  Criterion assigneeUserIdCriterion=RestrictionsFactoryUtil.eq("assigneeUserId",userCredential.getUserId());
  dynamicQuery.add(RestrictionsFactoryUtil.or(assigneeUserIdCriterion,assigneeRoleIdCriterion));
  return dynamicQuery;
}
