{
  ProcessSetup processSetup=getSetup();
  WorkflowTaskHandler workflowTaskHandler=(WorkflowTaskHandler)processSetup.getTaskHandler();
  MutableWorkflowTask mutableWorkflowTask=loadWorkflowTask(taskInstanceId);
  if (attributes != null) {
    ProcessInstance processInstance=mutableWorkflowTask.getProcessInstance();
    processInstance.getAttributeMap().copyFrom(attributes);
  }
  workflowTaskHandler.assignTaskToUser(mutableWorkflowTask,userCredential.getUserId());
  return new TaskInstanceInfoImpl(mutableWorkflowTask);
}
