{
  int count=receiverUserIds.size();
  int pages=count / Indexer.DEFAULT_INTERVAL;
  for (int i=0; i <= pages; i++) {
    int start=(i * Indexer.DEFAULT_INTERVAL);
    int end=start + Indexer.DEFAULT_INTERVAL;
    if (count < end) {
      end=count;
    }
    for (int j=start; j < end; j++) {
      long subscriptionId=getSubscriptionId(receiverUserIds.get(j),microblogsEntry);
      notificationEventJSONObject.put("subscriptionId",subscriptionId);
      int notificationType=MicroblogsUtil.getNotificationType(microblogsEntry,receiverUserIds.get(j));
      if (notificationType == 0) {
        continue;
      }
      notificationEventJSONObject.put("notificationType",notificationType);
      if (UserNotificationManagerUtil.isDeliver(receiverUserIds.get(j),PortletKeys.MICROBLOGS,0,notificationType,UserNotificationDeliveryConstants.TYPE_PUSH)) {
        UserNotificationEventLocalServiceUtil.sendUserNotificationEvents(receiverUserIds.get(j),PortletKeys.MICROBLOGS,UserNotificationDeliveryConstants.TYPE_PUSH,notificationEventJSONObject);
      }
      if (UserNotificationManagerUtil.isDeliver(receiverUserIds.get(j),PortletKeys.MICROBLOGS,0,notificationType,UserNotificationDeliveryConstants.TYPE_WEBSITE)) {
        UserNotificationEventLocalServiceUtil.sendUserNotificationEvents(receiverUserIds.get(j),PortletKeys.MICROBLOGS,UserNotificationDeliveryConstants.TYPE_WEBSITE,notificationEventJSONObject);
      }
    }
  }
}
