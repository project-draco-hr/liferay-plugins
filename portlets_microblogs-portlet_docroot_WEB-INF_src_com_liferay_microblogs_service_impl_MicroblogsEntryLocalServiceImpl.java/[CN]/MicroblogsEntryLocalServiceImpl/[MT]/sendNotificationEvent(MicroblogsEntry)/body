{
  User receiverUser=UserLocalServiceUtil.getUserById(microblogsEntry.getReceiverUserId());
  JSONObject notificationEventJSON=JSONFactoryUtil.createJSONObject();
  notificationEventJSON.put("body",microblogsEntry.getContent());
  notificationEventJSON.put("entryKeyName","receiverMicroblogsEntryId");
  notificationEventJSON.put("jspPage","/microblogs/view.jsp");
  notificationEventJSON.put("microblogsEntryId",microblogsEntry.getMicroblogsEntryId());
  notificationEventJSON.put("portletId","1_WAR_microblogsportlet");
  notificationEventJSON.put("senderUserId",microblogsEntry.getUserId());
  notificationEventJSON.put("title","commented-on-your-post");
  NotificationEvent notificationEvent=NotificationEventFactoryUtil.createNotificationEvent(System.currentTimeMillis(),"6_WAR_soportlet",notificationEventJSON);
  notificationEvent.setDeliveryRequired(0);
  ChannelHubManagerUtil.sendNotificationEvent(receiverUser.getCompanyId(),receiverUser.getUserId(),notificationEvent);
}
