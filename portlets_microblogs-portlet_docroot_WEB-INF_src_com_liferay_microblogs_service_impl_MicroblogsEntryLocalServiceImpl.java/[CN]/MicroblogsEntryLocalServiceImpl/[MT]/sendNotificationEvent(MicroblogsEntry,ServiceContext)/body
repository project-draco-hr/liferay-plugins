{
  JSONObject notificationEventJSONObject=JSONFactoryUtil.createJSONObject();
  notificationEventJSONObject.put("className",MicroblogsEntry.class.getName());
  notificationEventJSONObject.put("classPK",microblogsEntry.getMicroblogsEntryId());
  notificationEventJSONObject.put("entryTitle",microblogsEntry.getContent());
  AssetRendererFactory assetRendererFactory=AssetRendererFactoryRegistryUtil.getAssetRendererFactoryByClassName(MicroblogsEntry.class.getName());
  AssetRenderer assetRenderer=assetRendererFactory.getAssetRenderer(microblogsEntry.getMicroblogsEntryId());
  String entryURL=StringPool.BLANK;
  try {
    entryURL=assetRenderer.getURLViewInContext(serviceContext.getLiferayPortletRequest(),serviceContext.getLiferayPortletResponse(),null);
  }
 catch (  Exception e) {
  }
  notificationEventJSONObject.put("entryURL",entryURL);
  notificationEventJSONObject.put("notificationType",microblogsEntry.getType());
  notificationEventJSONObject.put("userId",microblogsEntry.getUserId());
  if (UserNotificationManagerUtil.isDeliver(microblogsEntry.getUserId(),PortletKeys.MICROBLOGS,0,MicroblogsEntryConstants.TYPE_REPLY,UserNotificationDeliveryConstants.TYPE_PUSH)) {
    UserNotificationEventLocalServiceUtil.sendUserNotificationEvents(microblogsEntry.getUserId(),PortletKeys.MICROBLOGS,UserNotificationDeliveryConstants.TYPE_PUSH,notificationEventJSONObject);
  }
  if (UserNotificationManagerUtil.isDeliver(microblogsEntry.getUserId(),PortletKeys.MICROBLOGS,0,MicroblogsEntryConstants.TYPE_REPLY,UserNotificationDeliveryConstants.TYPE_WEBSITE)) {
    UserNotificationEventLocalServiceUtil.sendUserNotificationEvents(microblogsEntry.getUserId(),PortletKeys.MICROBLOGS,UserNotificationDeliveryConstants.TYPE_WEBSITE,notificationEventJSONObject);
  }
}
