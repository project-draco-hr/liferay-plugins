{
  JSONObject notificationEventJSONObject=JSONFactoryUtil.createJSONObject();
  notificationEventJSONObject.put("className",MicroblogsEntry.class.getName());
  notificationEventJSONObject.put("classPK",microblogsEntry.getMicroblogsEntryId());
  notificationEventJSONObject.put("entryTitle",microblogsEntry.getContent());
  AssetRendererFactory assetRendererFactory=AssetRendererFactoryRegistryUtil.getAssetRendererFactoryByClassName(MicroblogsEntry.class.getName());
  AssetRenderer assetRenderer=assetRendererFactory.getAssetRenderer(microblogsEntry.getMicroblogsEntryId());
  String entryURL=StringPool.BLANK;
  try {
    entryURL=assetRenderer.getURLViewInContext(serviceContext.getLiferayPortletRequest(),serviceContext.getLiferayPortletResponse(),null);
  }
 catch (  Exception e) {
  }
  notificationEventJSONObject.put("entryURL",entryURL);
  notificationEventJSONObject.put("notificationType",microblogsEntry.getType());
  notificationEventJSONObject.put("userId",microblogsEntry.getUserId());
  List<Long> receiverUserIds=getReceiverUserIds(microblogsEntry);
  MessageBusUtil.sendMessage(DestinationNames.ASYNC_SERVICE,new NotificationProcessCallable(receiverUserIds,microblogsEntry,notificationEventJSONObject));
}
