{
  try {
    Folder folder=dlAppService.addFolder(repositoryId,parentFolderId,name,description,serviceContext);
    return SyncUtil.toSyncDLObject(folder,DLSyncConstants.EVENT_ADD);
  }
 catch (  DuplicateFolderNameException dfne) {
    if (GetterUtil.getBoolean(serviceContext.getAttribute("overwrite"))) {
      Folder folder=dlAppService.getFolder(repositoryId,parentFolderId,name);
      folder=dlAppService.updateFolder(folder.getFolderId(),name,description,serviceContext);
      return SyncUtil.toSyncDLObject(folder,DLSyncConstants.EVENT_UPDATE);
    }
 else {
      throw dfne;
    }
  }
}
