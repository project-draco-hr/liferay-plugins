{
  try {
    List<Group> groups=new ArrayList<Group>();
    for (    Group userSiteGroup : groupService.getUserSitesGroups()) {
      boolean syncEnabled=GetterUtil.getBoolean(userSiteGroup.getTypeSettingsProperty("syncEnabled"),true);
      if (syncEnabled) {
        if (userSiteGroup.isGuest()) {
          userSiteGroup.setName(userSiteGroup.getDescriptiveName());
        }
        groups.add(userSiteGroup);
      }
    }
    return groups;
  }
 catch (  PortalException pe) {
    throw new PortalException(pe.getClass().getName(),pe);
  }
}
