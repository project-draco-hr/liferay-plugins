{
  String contextName=PrincipalThreadLocal.getName();
  PermissionChecker contextPermissionChecker=PermissionThreadLocal.getPermissionChecker();
  try {
    PrincipalThreadLocal.setName(user.getUserId());
    PermissionChecker permissionChecker=PermissionCheckerFactoryUtil.create(user,true);
    PermissionThreadLocal.setPermissionChecker(permissionChecker);
    return ArticlePermission.contains(permissionChecker,_article,ActionKeys.VIEW);
  }
  finally {
    PrincipalThreadLocal.setName(contextName);
    PermissionThreadLocal.setPermissionChecker(contextPermissionChecker);
  }
}
