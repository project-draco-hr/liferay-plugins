{
  ObjectMapper objectMapper=new ObjectMapper();
  SyncContext syncContext=objectMapper.readValue(response,new TypeReference<SyncContext>(){
  }
);
  SyncAccount syncAccount=SyncAccountService.fetchSyncAccount(getSyncAccountId());
  Map<String,String> portletPreferencesMap=syncContext.getPortletPreferencesMap();
  int pollInterval=Integer.valueOf(portletPreferencesMap.get("sync.client.poll.interval"));
  syncAccount.setPollInterval(pollInterval);
  syncAccount.setSocialOfficeInstalled(syncContext.isSocialOfficeInstalled());
  syncAccount.setState(SyncAccount.STATE_CONNECTED);
  syncAccount.setUserId(syncContext.getUserId());
  SyncAccountService.update(syncAccount);
}
