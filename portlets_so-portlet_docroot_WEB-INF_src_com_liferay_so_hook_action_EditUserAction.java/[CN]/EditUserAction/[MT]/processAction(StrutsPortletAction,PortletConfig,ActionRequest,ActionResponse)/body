{
  String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject();
  try {
    updateProjectsEntries(actionRequest,actionResponse);
    if (cmd.equals("updateFieldGroup")) {
      String redirect=ParamUtil.getString(actionRequest,"redirect");
      jsonObject.put("redirect",redirect);
      jsonObject.put("success",true);
      writeJSON(actionRequest,actionResponse,jsonObject);
    }
 else {
      originalStrutsPortletAction.processAction(portletConfig,actionRequest,actionResponse);
    }
  }
 catch (  Exception e) {
    if (cmd.equals("updateFieldGroup")) {
      jsonObject.put("success",false);
      ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
      jsonObject.put("message",LanguageUtil.get(themeDisplay.getLocale(),"your-request-failed-to-complete"));
      writeJSON(actionRequest,actionResponse,jsonObject);
    }
  }
}
