{
  if (peer1.isAlreadyConnected(peer2) && peer2.isAlreadyConnected(peer1)) {
    if (peer1.getWebRTCConnection(peer2) != peer2.getWebRTCConnection(peer1)) {
      return false;
    }
    if (peer1.getWebRTCConnection(peer2).getState() != expectedState) {
      return false;
    }
  }
  return true;
}
