{
  WebRTCClient sourceWebRTCClient=getWebRTCClient(sourceUserId);
  WebRTCClient destinationWebRTCClient=getWebRTCClient(destinationUserId);
  if ((sourceWebRTCClient == null) || (destinationWebRTCClient == null)) {
    return;
  }
  if (!isValidWebRTCConnectionState(sourceWebRTCClient,destinationWebRTCClient,WebRTCConnection.State.CONNECTED)) {
    JSONObject messageJSONObject=JSONFactoryUtil.createJSONObject();
    messageJSONObject.put("id","invalid_state");
    WebRTCMail errorWebRTCMail=new ErrorWebRTCMail(destinationUserId,messageJSONObject);
    WebRTCMailbox sourceOutgoingWebRTCMailbox=sourceWebRTCClient.getOutgoingWebRTCMailbox();
    sourceOutgoingWebRTCMailbox.pushWebRTCMail(errorWebRTCMail);
    return;
  }
  WebRTCMailbox destinationOutgoingWebRTCMailbox=destinationWebRTCClient.getOutgoingWebRTCMailbox();
  destinationOutgoingWebRTCMailbox.pushWebRTCMail(webRTCMail);
}
