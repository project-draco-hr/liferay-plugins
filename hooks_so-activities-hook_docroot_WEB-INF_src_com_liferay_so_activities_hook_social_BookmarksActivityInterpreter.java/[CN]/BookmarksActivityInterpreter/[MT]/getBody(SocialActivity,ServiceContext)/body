{
  StringBundler sb=new StringBundler(5);
  sb.append("<div class=\"activity-body\"><div class=\"title\">");
  String link=StringPool.BLANK;
  BookmarksEntry entry=BookmarksEntryLocalServiceUtil.getEntry(activity.getClassPK());
  String faviconUrl=HttpUtil.getDomain(entry.getUrl()) + "/favicon.ico";
  AssetRenderer assetRenderer=getAssetRenderer(activity.getClassName(),activity.getClassPK());
  LiferayPortletRequest liferayPortletRequest=serviceContext.getLiferayPortletRequest();
  if (ping(faviconUrl)) {
    link=wrapLink(entry.getUrl(),faviconUrl,entry.getName());
  }
 else   if (Validator.isNotNull(assetRenderer.getIconPath(liferayPortletRequest))) {
    link=wrapLink(getLinkURL(activity.getClassName(),activity.getClassPK(),serviceContext),assetRenderer.getIconPath(liferayPortletRequest),HtmlUtil.escape(assetRenderer.getTitle(serviceContext.getLocale())));
  }
 else {
    link=wrapLink(entry.getUrl(),entry.getName());
  }
  sb.append(link);
  sb.append("</div><div class=\"bookmarks-page-content\">");
  sb.append(entry.getDescription());
  sb.append("</div></div>");
  return sb.toString();
}
