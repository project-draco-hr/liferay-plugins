{
  boolean appendVersion=GetterUtil.getBoolean(pluginPackageProperties.getProperty("resources-importer-append-version"),true);
  importer.setAppendVersion(appendVersion);
  importer.setCompanyId(companyId);
  boolean developerModeEnabled=GetterUtil.getBoolean(pluginPackageProperties.getProperty("resources-importer-developer-mode-enabled")) || PortalRunMode.isTestMode();
  importer.setDeveloperModeEnabled(developerModeEnabled);
  importer.setServletContext(servletContext);
  importer.setServletContextName(servletContext.getServletContextName());
  importer.setTargetClassName(getTargetClassName(pluginPackageProperties));
  String targetValue=pluginPackageProperties.getProperty("resources-importer-target-value");
  if (Validator.isNull(targetValue)) {
    targetValue=TextFormatter.format(servletContext.getServletContextName(),TextFormatter.J);
  }
  importer.setTargetValue(targetValue);
  boolean updateModeEnabled=GetterUtil.getBoolean(pluginPackageProperties.getProperty("resources-importer-update-mode-enabled"));
  importer.setUpdateModeEnabled(updateModeEnabled);
  PluginPackage pluginPackage=DeployManagerUtil.getInstalledPluginPackage(servletContext.getServletContextName());
  importer.setVersion(pluginPackage.getVersion());
  importer.afterPropertiesSet();
}
