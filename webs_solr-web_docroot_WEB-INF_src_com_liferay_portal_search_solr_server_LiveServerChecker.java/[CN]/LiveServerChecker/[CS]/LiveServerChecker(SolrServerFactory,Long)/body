{
  ScheduledExecutorService scheduledExecutorService=Executors.newSingleThreadScheduledExecutor();
  Runnable runnable=new Runnable(){
    public void run(){
      Collection<SolrServerWrapper> solrServerWrappers=solrServerFactory.getDeadServers();
      for (      SolrServerWrapper solrServerWrapper : solrServerWrappers) {
        SolrServer solrServer=solrServerFactory.getDeadServer(solrServerWrapper);
        if (solrServer == null) {
          continue;
        }
        try {
          SolrPingResponse solrPingResponse=solrServer.ping();
          if (solrPingResponse.getStatus() == 0) {
            solrServerFactory.startServer(solrServerWrapper);
          }
        }
 catch (        Exception e) {
        }
      }
    }
  }
;
  scheduledExecutorService.scheduleWithFixedDelay(runnable,0,delay,TimeUnit.SECONDS);
}
