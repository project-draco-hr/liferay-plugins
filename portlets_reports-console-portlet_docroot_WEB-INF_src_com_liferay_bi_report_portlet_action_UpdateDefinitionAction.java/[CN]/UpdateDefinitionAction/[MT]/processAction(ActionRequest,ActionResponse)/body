{
  long definitionId=ParamUtil.getLong(actionRequest,"definitionId");
  if (definitionId == -1) {
    return false;
  }
  String name=ParamUtil.getString(actionRequest,"name");
  String description=ParamUtil.getString(actionRequest,"description");
  String datasourceName=ParamUtil.getString(actionRequest,"dataSourceName");
  String format=ParamUtil.getString(actionRequest,"format");
  try {
    ReportDefinition definition=ReportDefinitionLocalServiceUtil.getReportDefinition(definitionId);
    definition.setName(name);
    definition.setDescription(description);
    definition.setDataSourceName(datasourceName);
    definition.setReportFormat(format);
    ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
    definition.setModifiedBy(themeDisplay.getUserId());
    definition=ReportDefinitionLocalServiceUtil.updateReportDefinition(definition);
    actionRequest.setAttribute("currentDefinition",definition);
    return true;
  }
 catch (  Exception e) {
    throw new PortletException("Unable to update definition: " + name,e);
  }
}
