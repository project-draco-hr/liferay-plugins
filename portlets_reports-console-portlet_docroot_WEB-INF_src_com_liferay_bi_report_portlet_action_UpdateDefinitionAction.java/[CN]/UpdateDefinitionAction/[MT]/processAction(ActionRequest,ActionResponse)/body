{
  String contentType=actionRequest.getContentType();
  String jspPageParameter=null;
  try {
    if ((contentType.startsWith(ContentTypes.MULTIPART_FORM_DATA))) {
      jspPageParameter=performUpdateWithFileUpdated(actionRequest,actionResponse);
    }
 else {
      jspPageParameter=performUpdate(actionRequest,actionResponse);
    }
  }
 catch (  PortalException e) {
    SessionErrors.add(actionRequest,e.getClass().getName());
  }
catch (  SystemException e) {
    _log.error(e);
    throw new PortletException("Unable to update definition: ",e);
  }
  actionResponse.setRenderParameter("jspPage",jspPageParameter);
  return false;
}
