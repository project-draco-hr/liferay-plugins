{
  UploadPortletRequest uploadRequest=PortalUtil.getUploadPortletRequest(actionRequest);
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long resourcePrimKey=ParamUtil.getLong(uploadRequest,"resourcePrimKey");
  String dirName=ParamUtil.getString(uploadRequest,"dirName");
  File file=uploadRequest.getFile("file");
  String fileName=uploadRequest.getFileName("file");
  ArticleServiceUtil.addAttachment(themeDisplay.getCompanyId(),themeDisplay.getScopeGroupId(),resourcePrimKey,dirName,fileName,new FileInputStream(file));
}
