{
  ProcessInstance processInstance=token.getProcessInstance();
  ProcessDefinition processDefinition=processInstance.getProcessDefinition();
  _children=new ArrayList<WorkflowInstanceInfo>();
  _context=processInstance.getContextInstance().getVariables(token);
  if (_context == null) {
    _context=new HashMap<String,Object>();
  }
  _context=Collections.unmodifiableMap(_context);
  _currentNodeName=token.getNode().getName();
  _endDate=token.getEnd();
  _startDate=token.getStart();
  _workflowDefinitionName=processDefinition.getName();
  _workflowDefinitionVersion=processDefinition.getVersion();
  _workflowInstanceId=token.getId();
}
