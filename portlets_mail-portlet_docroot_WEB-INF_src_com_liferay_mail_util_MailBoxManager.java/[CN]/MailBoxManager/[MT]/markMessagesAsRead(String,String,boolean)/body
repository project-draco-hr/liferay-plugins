{
  IMAPFolder folder=(IMAPFolder)openFolder(folderName);
  long[] messageUidsArray=GetterUtil.getLongValues(messageUids.split("\\s*,\\s*"));
  if (!folder.isOpen()) {
    folder.open(Folder.READ_WRITE);
  }
  for (  long messageUid : messageUidsArray) {
    try {
      Message message=getMessageByUid(folder,messageUid);
      message.setFlag(Flags.Flag.SEEN,read);
      updateJSONMessageField(_user,_mailAccount,folderName,messageUid,"read",String.valueOf(read));
    }
 catch (    IOException ioe) {
      _log.error(ioe,ioe);
    }
catch (    MessagingException me) {
      _log.error(me,me);
    }
  }
  folder.close(true);
  JSONObject jsonObj=new JSONObject();
  JSONUtil.put(jsonObj,"success",true);
  return jsonObj;
}
