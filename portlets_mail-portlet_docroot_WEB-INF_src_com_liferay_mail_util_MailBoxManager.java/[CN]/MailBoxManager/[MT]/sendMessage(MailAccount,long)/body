{
  Transport transport=null;
  try {
    Folder draftsFolder=getDraftsFolder();
    Message message=getMessageByUid(draftsFolder,draftMessageUid);
    Session session=getOutgoingSession(fromMailAccount);
    transport=session.getTransport("smtp");
    transport.connect(fromMailAccount.getUsername(),fromMailAccount.getPassword());
    transport.sendMessage(message,message.getAllRecipients());
    deleteMessage(draftsFolder,draftMessageUid,true);
  }
 catch (  MessagingException me) {
    _log.error(me,me);
  }
 finally {
    try {
      transport.close();
    }
 catch (    MessagingException me) {
      _log.error(me,me);
    }
  }
}
