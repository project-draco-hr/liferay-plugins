{
  JSONObject jsonObj=new JSONObject();
  JSONArray jsonArray=new JSONArray();
  List<IMAPFolder> folders=getFolders();
  for (  IMAPFolder folder : folders) {
    if (folder.getType() != Folder.HOLDS_FOLDERS) {
      jsonArray.put(getJSONFolder(folder));
    }
  }
  JSONUtil.put(jsonObj,"folderCount",folders.size());
  try {
    jsonObj.put("folders",jsonArray);
  }
 catch (  JSONException jsone) {
    if (_log.isWarnEnabled()) {
      _log.warn(jsone,jsone);
    }
  }
  return jsonObj.toString();
}
