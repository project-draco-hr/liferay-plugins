{
  try {
    Message message=getMessageByUid(folder,messageUid);
    if (Validator.isNotNull(message)) {
      message.setFlag(Flags.Flag.DELETED,true);
      if (expunge) {
        folder.close(true);
      }
    }
  }
 catch (  MessagingException me) {
    _log.error(me,me);
  }
  MessageCache mdManager=new MessageCache(_user);
  mdManager.deleteMessage(_mailAccount.getEmailAddress(),folder.getFullName(),messageUid);
}
