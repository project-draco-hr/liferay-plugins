{
  int typeId=ParamUtil.getInteger(actionRequest,"type");
  String extension=ParamUtil.getString(actionRequest,"extension");
  String id=ParamUtil.getString(actionRequest,"id");
  String number=ParamUtil.getString(actionRequest,"number");
  if (id.equals("addPhoneNumber")) {
    try {
      PhoneLocalServiceUtil.addPhone(user.getUserId(),Contact.class.getName(),user.getContactId(),number,extension,typeId,false);
    }
 catch (    Exception e) {
      if (_log.isWarnEnabled()) {
        _log.warn(e);
      }
    }
  }
 else {
    try {
      long phoneId=ParamUtil.getLong(actionRequest,"phoneId");
      Phone phone=PhoneLocalServiceUtil.getPhone(phoneId);
      phone.setNumber(number);
      phone.setExtension(extension);
      phone.setTypeId(typeId);
      PhoneLocalServiceUtil.updatePhone(phone,false);
    }
 catch (    Exception e) {
      if (_log.isWarnEnabled()) {
        _log.warn(e);
      }
    }
  }
}
