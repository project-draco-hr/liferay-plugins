{
  if (_prioritizeUpdatedKBArticles) {
    initializeNonImportedKBArticles();
  }
  if (_prioritizeByNumericalPrefix) {
    for (    Map.Entry<String,Double> entry : _importedKBArticleUrlTitlesPrioritiesMap.entrySet()) {
      if (entry.getValue() < 1.0) {
        continue;
      }
      KBArticle kbArticle=KBArticleLocalServiceUtil.getKBArticleByUrlTitle(_groupId,_parentKBFolderId,entry.getKey());
      KBArticleLocalServiceUtil.updatePriority(kbArticle.getResourcePrimKey(),entry.getValue());
      remove(_importedKBArticlesMap,kbArticle);
      remove(_importedKBArticleUrlTitlesMap,kbArticle.getUrlTitle());
      remove(_newKBArticlesMap,kbArticle);
    }
  }
  if (_prioritizeUpdatedKBArticles) {
    Map<String,Double> maxKBArticlePriorityMap=computeMaxKBArticlePriorityMap(_nonimportedKBArticlesMap);
    prioritizeKBArticles(_importedKBArticlesMap,maxKBArticlePriorityMap);
  }
 else {
    Map<String,Double> maxKBArticlePriorityMap=computeMaxKBArticlePriorityMap(_existingKBArticlesMap);
    prioritizeKBArticles(_newKBArticlesMap,maxKBArticlePriorityMap);
  }
}
