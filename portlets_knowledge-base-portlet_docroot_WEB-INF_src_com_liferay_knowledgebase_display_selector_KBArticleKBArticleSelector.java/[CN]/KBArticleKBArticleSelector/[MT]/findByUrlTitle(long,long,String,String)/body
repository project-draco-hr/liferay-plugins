{
  KBArticle ancestorKBArticle=KBArticleLocalServiceUtil.fetchLatestKBArticle(ancestorResourcePrimKey,WorkflowConstants.STATUS_APPROVED);
  if (ancestorKBArticle == null) {
    return null;
  }
  KBArticle kbArticle=KBArticleLocalServiceUtil.fetchLatestKBArticleByUrlTitle(groupId,ancestorKBArticle.getKbFolderId(),urlTitle,WorkflowConstants.STATUS_APPROVED);
  if (kbArticle == null) {
    return ancestorKBArticle;
  }
  if (!isDescendant(kbArticle,ancestorKBArticle)) {
    return findClosestMatchingKBArticle(groupId,ancestorKBArticle,kbArticle);
  }
  return kbArticle;
}
