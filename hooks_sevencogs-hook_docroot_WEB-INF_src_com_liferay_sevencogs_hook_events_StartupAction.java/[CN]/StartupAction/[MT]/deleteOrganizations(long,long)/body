{
  List<Organization> organizations=OrganizationLocalServiceUtil.search(companyId,parentOrganizationId,null,null,null,null,null,QueryUtil.ALL_POS,QueryUtil.ALL_POS,(OrderByComparator)null);
  for (  Organization organization : organizations) {
    deleteOrganizations(companyId,organization.getOrganizationId());
  }
  if (parentOrganizationId > 0) {
    long[] userIds=UserLocalServiceUtil.getOrganizationUserIds(parentOrganizationId);
    UserLocalServiceUtil.unsetOrganizationUsers(parentOrganizationId,userIds);
    OrganizationLocalServiceUtil.deleteOrganization(parentOrganizationId);
  }
}
