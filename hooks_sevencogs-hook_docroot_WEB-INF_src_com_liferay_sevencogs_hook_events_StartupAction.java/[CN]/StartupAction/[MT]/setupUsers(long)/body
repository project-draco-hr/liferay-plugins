{
  Role adminRole=RoleLocalServiceUtil.getRole(companyId,RoleConstants.ADMINISTRATOR);
  Role powerUserRole=RoleLocalServiceUtil.getRole(companyId,RoleConstants.POWER_USER);
  Role publisherRole=RoleLocalServiceUtil.getRole(companyId,"Publisher");
  Role writerRole=RoleLocalServiceUtil.getRole(companyId,"Writer");
  long[] roleIds=new long[]{adminRole.getRoleId(),powerUserRole.getRoleId()};
  User brunoUser=addUser(companyId,"bruno","Bruno","Admin",true,"Administrator",roleIds);
  roleIds=new long[]{powerUserRole.getRoleId()};
  User johnUser=addUser(companyId,"john","John","Regular",true,"Employee",roleIds);
  roleIds=new long[]{powerUserRole.getRoleId(),writerRole.getRoleId()};
  User michelleUser=addUser(companyId,"michelle","Michelle","Writer",false,"Writer",roleIds);
  roleIds=new long[]{powerUserRole.getRoleId(),publisherRole.getRoleId()};
  User richardUser=addUser(companyId,"richard","Richard","Editor",true,"Publisher",roleIds);
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setAddCommunityPermissions(true);
  serviceContext.setAddGuestPermissions(true);
  serviceContext.setScopeGroupId(brunoUser.getGroup().getGroupId());
  addBlogsEntry(brunoUser.getUserId(),"New Control Panel!!","controlpanel.xml",serviceContext);
  addBlogsEntry(brunoUser.getUserId(),"Configuration of the portal: portal.properties","portalproperties.xml",serviceContext);
  serviceContext.setScopeGroupId(johnUser.getGroup().getGroupId());
  addBlogsEntry(johnUser.getUserId(),"Using the wiki","wiki.xml",serviceContext);
  serviceContext.setScopeGroupId(michelleUser.getGroup().getGroupId());
  addBlogsEntry(michelleUser.getUserId(),"We have an amazing Chat!","chat.xml",serviceContext);
  DLFolder dlFolder=addDLFolder(brunoUser.getUserId(),brunoUser.getGroup().getGroupId(),"Important Documents","Documents related with the company");
  addDLFileEntry(brunoUser.getUserId(),dlFolder.getFolderId(),"Budget.xls","Budget","Budgets for the current year");
  addDLFolder(michelleUser.getUserId(),michelleUser.getGroup().getGroupId(),"My Documents","Personal docs");
  dlFolder=addDLFolder(michelleUser.getUserId(),michelleUser.getGroup().getGroupId(),"Work Documents","Works docs");
  addDLFileEntry(michelleUser.getUserId(),dlFolder.getFolderId(),"Notes from the last meeting.doc","Notes from the last meeting","Important notes");
  addDLFolder(richardUser.getUserId(),richardUser.getGroup().getGroupId(),"Documentation",StringPool.BLANK);
  dlFolder=addDLFolder(richardUser.getUserId(),richardUser.getGroup().getGroupId(),"Innovation","New things");
  addDLFileEntry(richardUser.getUserId(),dlFolder.getFolderId(),"New Features.ppt","New Features","Features for the current year");
  Organization sevenCogsOrganization=OrganizationLocalServiceUtil.getOrganization(companyId,"7Cogs, Inc.");
  serviceContext.setScopeGroupId(sevenCogsOrganization.getGroup().getGroupId());
  MBCategory mbCategory=addMBCategory(brunoUser.getUserId(),"Using the forum","Some advice on using the forum",serviceContext);
  addMBMessage(brunoUser.getUserId(),brunoUser.getFullName(),mbCategory.getCategoryId(),0,0,"Nice Forums","general.xml",serviceContext);
  mbCategory=addMBCategory(brunoUser.getUserId(),"General Questions","Product questions and more!",serviceContext);
  MBMessage vix1Message=addMBMessage(brunoUser.getUserId(),brunoUser.getFullName(),mbCategory.getCategoryId(),0,0,"About the Vix-998","vix1.xml",serviceContext);
  MBMessage vix2Message=addMBMessage(richardUser.getUserId(),richardUser.getFullName(),mbCategory.getCategoryId(),vix1Message.getThreadId(),vix1Message.getMessageId(),"RE: About the Vix-998","vix2.xml",serviceContext);
  addMBMessage(michelleUser.getUserId(),michelleUser.getFullName(),mbCategory.getCategoryId(),vix1Message.getThreadId(),vix2Message.getMessageId(),"RE: About the Vix-998","vix3.xml",serviceContext);
  addSocialRequest(michelleUser,brunoUser,true);
  addSocialRequest(michelleUser,johnUser,true);
  addSocialRequest(michelleUser,richardUser,true);
  addSocialRequest(johnUser,brunoUser,false);
  addSocialRequest(johnUser,richardUser,false);
}
