{
  Role adminRole=RoleLocalServiceUtil.getRole(companyId,RoleConstants.ADMINISTRATOR);
  Role powerUserRole=RoleLocalServiceUtil.getRole(companyId,RoleConstants.POWER_USER);
  Role publisherRole=RoleLocalServiceUtil.getRole(companyId,"Publisher");
  Role writerRole=RoleLocalServiceUtil.getRole(companyId,"Writer");
  long[] roleIds=new long[]{adminRole.getRoleId(),powerUserRole.getRoleId()};
  User brunoUser=addUser(companyId,"bruno","Bruno","Admin",true,"Administrator",roleIds);
  roleIds=new long[]{powerUserRole.getRoleId()};
  User johnUser=addUser(companyId,"john","John","Regular",true,"Employee",roleIds);
  roleIds=new long[]{powerUserRole.getRoleId(),writerRole.getRoleId()};
  User michelleUser=addUser(companyId,"michelle","Michelle","Writer",false,"Writer",roleIds);
  roleIds=new long[]{powerUserRole.getRoleId(),publisherRole.getRoleId()};
  User richardUser=addUser(companyId,"richard","Richard","Editor",true,"Publisher",roleIds);
  AssetCategory learningAssetCategory=_assetCategories.get("Learning");
  AssetCategory liferayAssetCategory=_assetCategories.get("Liferay");
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setAddCommunityPermissions(true);
  serviceContext.setAddGuestPermissions(true);
  serviceContext.setAssetTagNames(new String[]{"new","features","control panel"});
  serviceContext.setAssetCategoryIds(new long[]{learningAssetCategory.getCategoryId(),liferayAssetCategory.getCategoryId()});
  serviceContext.setScopeGroupId(brunoUser.getGroup().getGroupId());
  addBlogsEntry(brunoUser.getUserId(),"New Control Panel!!","controlpanel.xml",serviceContext);
  serviceContext.setAssetCategoryIds(new long[]{learningAssetCategory.getCategoryId(),liferayAssetCategory.getCategoryId()});
  serviceContext.setAssetTagNames(new String[]{"configuration","portal.properties","customization"});
  addBlogsEntry(brunoUser.getUserId(),"Configuration of the portal: portal.properties","portalproperties.xml",serviceContext);
  serviceContext.setAssetCategoryIds(new long[]{learningAssetCategory.getCategoryId(),liferayAssetCategory.getCategoryId()});
  serviceContext.setAssetTagNames(new String[]{"new","wiki","knowledge"});
  serviceContext.setScopeGroupId(johnUser.getGroup().getGroupId());
  addBlogsEntry(johnUser.getUserId(),"Using the wiki","wiki.xml",serviceContext);
  serviceContext.setAssetCategoryIds(new long[]{learningAssetCategory.getCategoryId(),liferayAssetCategory.getCategoryId()});
  serviceContext.setAssetTagNames(new String[]{"new","chat","communications","features"});
  serviceContext.setScopeGroupId(michelleUser.getGroup().getGroupId());
  addBlogsEntry(michelleUser.getUserId(),"We have an amazing Chat!","chat.xml",serviceContext);
  DLFolder dlFolder=addDLFolder(brunoUser.getUserId(),brunoUser.getGroup().getGroupId(),"Important Documents","Documents related with the company");
  serviceContext.setAssetTagNames(new String[]{"document","budget","2009"});
  addDLFileEntry(brunoUser.getUserId(),dlFolder.getGroupId(),dlFolder.getFolderId(),"Budget.xls","Budget","Budgets for the current year",serviceContext);
  addDLFolder(michelleUser.getUserId(),michelleUser.getGroup().getGroupId(),"My Documents","Personal docs");
  dlFolder=addDLFolder(michelleUser.getUserId(),michelleUser.getGroup().getGroupId(),"Work Documents","Works docs");
  serviceContext.setAssetTagNames(new String[]{"document","notes","meeting"});
  addDLFileEntry(michelleUser.getUserId(),dlFolder.getGroupId(),dlFolder.getFolderId(),"Notes from the last meeting.doc","Notes from the last meeting","Important notes",serviceContext);
  addDLFolder(richardUser.getUserId(),richardUser.getGroup().getGroupId(),"Documentation",StringPool.BLANK);
  dlFolder=addDLFolder(richardUser.getUserId(),richardUser.getGroup().getGroupId(),"Innovation","New things");
  serviceContext.setAssetTagNames(new String[]{"new","features","2009"});
  addDLFileEntry(richardUser.getUserId(),dlFolder.getGroupId(),dlFolder.getFolderId(),"New Features.ppt","New Features","Features for the current year",serviceContext);
  Organization sevenCogsOrganization=OrganizationLocalServiceUtil.getOrganization(companyId,"7Cogs, Inc.");
  serviceContext.setScopeGroupId(sevenCogsOrganization.getGroup().getGroupId());
  MBCategory mbCategory=addMBCategory(brunoUser.getUserId(),"Using the forum","Some advice on using the forum",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"forums","liferay","7cogs"});
  addMBMessage(brunoUser.getUserId(),brunoUser.getFullName(),mbCategory.getGroupId(),mbCategory.getCategoryId(),0,0,"Nice Forums","general.xml",serviceContext);
  mbCategory=addMBCategory(brunoUser.getUserId(),"General Questions","Product questions and more!",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"vix-998","liferay"});
  MBMessage vix1Message=addMBMessage(brunoUser.getUserId(),brunoUser.getFullName(),mbCategory.getGroupId(),mbCategory.getCategoryId(),0,0,"About the Vix-998","vix1.xml",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"vix-998","latin"});
  MBMessage vix2Message=addMBMessage(richardUser.getUserId(),richardUser.getFullName(),mbCategory.getGroupId(),mbCategory.getCategoryId(),vix1Message.getThreadId(),vix1Message.getMessageId(),"RE: About the Vix-998","vix2.xml",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"vix-998","vulgo"});
  addMBMessage(michelleUser.getUserId(),michelleUser.getFullName(),mbCategory.getGroupId(),mbCategory.getCategoryId(),vix1Message.getThreadId(),vix2Message.getMessageId(),"RE: About the Vix-998","vix3.xml",serviceContext);
  addSocialRequest(michelleUser,brunoUser,true);
  addSocialRequest(michelleUser,johnUser,true);
  addSocialRequest(michelleUser,richardUser,true);
  addSocialRequest(johnUser,brunoUser,false);
  addSocialRequest(johnUser,richardUser,false);
}
