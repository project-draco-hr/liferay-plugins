{
  long userId=defaultUserId;
  long parentOrganizationId=OrganizationConstants.DEFAULT_PARENT_ORGANIZATION_ID;
  String name="7Cogs, Inc.";
  String type=OrganizationConstants.TYPE_REGULAR_ORGANIZATION;
  boolean recursable=true;
  long regionId=0;
  long countryId=0;
  int statusId=GetterUtil.getInteger(PropsUtil.get("sql.data.com.liferay.portal.model.ListType.organization.status"));
  String comments=null;
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setAddCommunityPermissions(true);
  serviceContext.setAddGuestPermissions(true);
  Organization organization=OrganizationLocalServiceUtil.addOrganization(userId,parentOrganizationId,name,type,recursable,regionId,countryId,statusId,comments,serviceContext);
  Group group=organization.getGroup();
  GroupLocalServiceUtil.updateFriendlyURL(group.getGroupId(),"/7cogs");
  serviceContext.setScopeGroupId(group.getGroupId());
  LayoutSetLocalServiceUtil.updateLogo(group.getGroupId(),false,true,getInputStream("/images/seven_cogs_log.png"));
  LayoutSetLocalServiceUtil.updateLookAndFeel(group.getGroupId(),false,"sevencogs_WAR_sevencogstheme","01","",false);
  AssetVocabulary topicAssetVocabulary=AssetVocabularyLocalServiceUtil.addVocabulary(null,defaultUserId,"Topic",serviceContext);
  AssetVocabulary imageAssetVocabulary=AssetVocabularyLocalServiceUtil.addVocabulary(null,defaultUserId,"Image Type",serviceContext);
  AssetCategory iconAssetCategory=AssetCategoryLocalServiceUtil.addCategory(null,defaultUserId,0,"Icon",imageAssetVocabulary.getVocabularyId(),null,serviceContext);
  AssetCategory bannerAssetCategory=AssetCategoryLocalServiceUtil.addCategory(null,defaultUserId,0,"Banner",imageAssetVocabulary.getVocabularyId(),null,serviceContext);
  AssetCategory learningAssetCategory=AssetCategoryLocalServiceUtil.addCategory(null,defaultUserId,0,"Learning",topicAssetVocabulary.getVocabularyId(),null,serviceContext);
  AssetCategory productsAssetCategory=AssetCategoryLocalServiceUtil.addCategory(null,defaultUserId,0,"Products",topicAssetVocabulary.getVocabularyId(),null,serviceContext);
  AssetCategory liferayAssetCategory=AssetCategoryLocalServiceUtil.addCategory(null,defaultUserId,0,"Liferay",topicAssetVocabulary.getVocabularyId(),null,serviceContext);
  _assetCategories=new HashMap<String,AssetCategory>();
  _assetCategories.put("Icon",iconAssetCategory);
  _assetCategories.put("Banner",bannerAssetCategory);
  _assetCategories.put("Learning",learningAssetCategory);
  _assetCategories.put("Products",productsAssetCategory);
  _assetCategories.put("Liferay",liferayAssetCategory);
  addJournalStructure(defaultUserId,group.getGroupId());
  addJournalTemplate(defaultUserId,group.getGroupId());
  serviceContext.setScopeGroupId(group.getGroupId());
  IGFolder igFolder=IGFolderLocalServiceUtil.addFolder(defaultUserId,0,"7Cogs Web Content","Images used for content",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"add"});
  serviceContext.setAssetCategoryIds(new long[]{iconAssetCategory.getCategoryId()});
  IGImage addIconIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"add_icon.png",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"configuration"});
  serviceContext.setAssetCategoryIds(new long[]{iconAssetCategory.getCategoryId()});
  IGImage configurationIconIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"configuration_icon.png",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"edit"});
  serviceContext.setAssetCategoryIds(new long[]{iconAssetCategory.getCategoryId()});
  IGImage editIconIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"edit_icon.png",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"enterprise"});
  serviceContext.setAssetCategoryIds(new long[]{bannerAssetCategory.getCategoryId(),liferayAssetCategory.getCategoryId()});
  IGImage eeAdIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"ee_ad.png",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"gartner","quadrant"});
  serviceContext.setAssetCategoryIds(new long[]{bannerAssetCategory.getCategoryId(),liferayAssetCategory.getCategoryId()});
  IGImage gartnerIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"gartner.png",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"vix-998"});
  IGImage introducingIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"introducing.png",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"liferay","logo"});
  serviceContext.setAssetCategoryIds(new long[]{liferayAssetCategory.getCategoryId()});
  IGImage liferayLogoIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"liferay_logo.png",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"look and feel"});
  serviceContext.setAssetCategoryIds(new long[]{iconAssetCategory.getCategoryId()});
  IGImage lookIconIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"look_icon.png",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"vix-998","products"});
  serviceContext.setAssetCategoryIds(new long[]{productsAssetCategory.getCategoryId()});
  IGImage productsIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"products.png",serviceContext);
  Layout layout=addLayout(group,"Home",false,"/home","1_2_columns_ii");
  String portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-1");
  removePortletBorder(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"liferay","7cogs"});
  JournalArticle journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Banner","front_page_banner.xml",serviceContext);
  String content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$GROUP_ID$]","[$INTRODUCING_IG_IMAGE_UUID$]"},new String[]{String.valueOf(group.getGroupId()),String.valueOf(introducingIGImage.getUuid())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-2");
  removePortletBorder(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"front"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Front Page Intro","front_page_intro.xml",serviceContext);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-2");
  configurePortletTitle(layout,portletId,"Edit and Add Content");
  serviceContext.setAssetTagNames(new String[]{"liferay","tips"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Fron Page - Edit and Create","front_page_edit_and_create.xml",serviceContext);
  content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$ADD_ICON_IG_IMAGE_UUID$]","[$CONFIGURATION_ICON_IG_IMAGE_UUID$]","[$EDIT_ICON_IG_IMAGE_UUID$]","[$GROUP_ID$]","[$LOOK_ICON_IG_IMAGE_UUID$]"},new String[]{String.valueOf(addIconIGImage.getUuid()),String.valueOf(configurationIconIGImage.getUuid()),String.valueOf(editIconIGImage.getUuid()),String.valueOf(group.getGroupId()),String.valueOf(lookIconIGImage.getUuid())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-3");
  configurePortletTitle(layout,portletId,"Advertisement");
  serviceContext.setAssetTagNames(new String[]{"liferay","enterprise"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Front Page - EE Ad","ee_ad.xml",serviceContext);
  content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$GROUP_ID$]","[$EE_AD_IG_IMAGE_UUID$]"},new String[]{String.valueOf(group.getGroupId()),String.valueOf(eeAdIGImage.getUuid())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-3");
  highlightPortlet(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"liferay","permissions"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Front Page - Permissions","front_page_permissions.xml",serviceContext);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  layout=addLayout(group,"Products",false,"/products","2_columns_iii");
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-1");
  removePortletBorder(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"Vix-998","7cogs"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Products Image","products_banner.xml",serviceContext);
  content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$GROUP_ID$]","[$PRODUCTS_IG_IMAGE_UUID$]"},new String[]{String.valueOf(group.getGroupId()),String.valueOf(productsIGImage.getUuid())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-2");
  configurePortletTitle(layout,portletId,"News");
  serviceContext.setAssetTagNames(new String[]{"liferay","gartner"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Gartner","gartner.xml",serviceContext);
  content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$GROUP_ID$]","[$GARTNER_IG_IMAGE_UUID$]"},new String[]{String.valueOf(group.getGroupId()),String.valueOf(gartnerIGImage.getUuid())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-1");
  removePortletBorder(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"Vix-998","7cogs"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Introducing Vix","introducing_vix.xml",serviceContext);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-1");
  highlightPortlet(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"info"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Products - More Information","products_more.xml",serviceContext);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  layout=addLayout(group,"Blogs",false,"/blogs","2_columns_ii");
  addPortletId(layout,PortletKeys.RECENT_BLOGGERS,"column-1");
  addPortletId(layout,PortletKeys.BLOGS_AGGREGATOR,"column-2");
  layout=addLayout(group,"Wiki",false,"/wiki","1_column");
  addPortletId(layout,PortletKeys.WIKI,"column-1");
  WikiNode wikiNode=WikiNodeLocalServiceUtil.addNode(defaultUserId,"Main",StringPool.BLANK,serviceContext);
  serviceContext.setAssetTagNames(new String[]{"new","features"});
  serviceContext.setAssetCategoryIds(new long[]{learningAssetCategory.getCategoryId()});
  addWikiPage(defaultUserId,wikiNode.getNodeId(),"FrontPage","FrontPage.xml",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"vix-998","features"});
  serviceContext.setAssetCategoryIds(new long[]{productsAssetCategory.getCategoryId()});
  addWikiPage(defaultUserId,wikiNode.getNodeId(),"Vix-998","Vix-998.xml",serviceContext);
  layout=addLayout(group,"Forums",false,"/forums","1_column");
  addPortletId(layout,PortletKeys.MESSAGE_BOARDS,"column-1");
  layout=addLayout(group,"About Us",false,"/about_us","2_columns_ii");
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-1");
  highlightPortlet(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"liferay"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"About Us","7cogs_about_us.xml",serviceContext);
  content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$GROUP_ID$]","[$LIFERAY_LOGO_IG_IMAGE_UUID$]"},new String[]{String.valueOf(group.getGroupId()),String.valueOf(liferayLogoIGImage.getUuid())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  addPortletId(layout,"1_WAR_webformportlet","column-2");
  portletId=addPortletId(layout,"1_WAR_googlemapsportlet","column-1");
  Map<String,String> preferences=new HashMap<String,String>();
  preferences.put("map-address","Los Angeles, USA");
  preferences.put("height","300");
  updatePortletSetup(layout,portletId,preferences);
  layout=addLayout(group,"Home",true,"/home","2_columns_ii");
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-1");
  highlightPortlet(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"7cogs","tips"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Home","7cogs_private_pages.xml",serviceContext);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.ACTIVITIES,"column-2");
  configurePortletTitle(layout,portletId,"Last Activities in 7Cogs Organization");
  layout=addLayout(group,"Documents",true,"/documents","2_columns_iii");
  addPortletId(layout,PortletKeys.DOCUMENT_LIBRARY,"column-1");
  addPortletId(layout,PortletKeys.IMAGE_GALLERY,"column-1");
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-2");
  highlightPortlet(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"documents","sharing"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Shared Documents","shared_docs.xml",serviceContext);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
}
