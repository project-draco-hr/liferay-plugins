{
  long userId=defaultUserId;
  long parentOrganizationId=OrganizationConstants.DEFAULT_PARENT_ORGANIZATION_ID;
  String name="7Cogs, Inc.";
  String type=OrganizationConstants.TYPE_REGULAR_ORGANIZATION;
  boolean recursable=true;
  long regionId=0;
  long countryId=0;
  int statusId=GetterUtil.getInteger(PropsUtil.get("sql.data.com.liferay.portal.model.ListType.organization.status"));
  String comments=null;
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setAddCommunityPermissions(true);
  serviceContext.setAddGuestPermissions(true);
  Organization organization=OrganizationLocalServiceUtil.addOrganization(userId,parentOrganizationId,name,type,recursable,regionId,countryId,statusId,comments,serviceContext);
  Group group=organization.getGroup();
  GroupLocalServiceUtil.updateFriendlyURL(group.getGroupId(),"/7cogs");
  serviceContext.setScopeGroupId(group.getGroupId());
  LayoutSetLocalServiceUtil.updateLogo(group.getGroupId(),false,true,getInputStream("/sample/images/logo.png"));
  LayoutSetLocalServiceUtil.updateLookAndFeel(group.getGroupId(),false,"sevencogs_WAR_sevencogstheme","01","",false);
  AssetVocabulary topicAssetVocabulary=addAssetVocabulary(defaultUserId,"Topic",serviceContext);
  AssetVocabulary imageAssetVocabulary=addAssetVocabulary(defaultUserId,"Image Type",serviceContext);
  AssetCategory iconAssetCategory=addAssetCategory(defaultUserId,0,"Icon",imageAssetVocabulary.getVocabularyId(),serviceContext);
  AssetCategory bannerAssetCategory=addAssetCategory(defaultUserId,0,"Banner",imageAssetVocabulary.getVocabularyId(),serviceContext);
  AssetCategory learningAssetCategory=addAssetCategory(defaultUserId,0,"Learning",topicAssetVocabulary.getVocabularyId(),serviceContext);
  AssetCategory productsAssetCategory=addAssetCategory(defaultUserId,0,"Products",topicAssetVocabulary.getVocabularyId(),serviceContext);
  AssetCategory liferayAssetCategory=addAssetCategory(defaultUserId,0,"Liferay",topicAssetVocabulary.getVocabularyId(),serviceContext);
  _assetCategories=new HashMap<String,AssetCategory>();
  _assetCategories.put("Icon",iconAssetCategory);
  _assetCategories.put("Banner",bannerAssetCategory);
  _assetCategories.put("Learning",learningAssetCategory);
  _assetCategories.put("Products",productsAssetCategory);
  _assetCategories.put("Liferay",liferayAssetCategory);
  addJournalStructure(defaultUserId,group.getGroupId(),"/sample/journal/structures/single_image.xml");
  addJournalTemplate(defaultUserId,group.getGroupId(),"/sample/journal/templates/single_image.xml");
  serviceContext.setScopeGroupId(group.getGroupId());
  IGFolder igFolder=IGFolderLocalServiceUtil.addFolder(null,defaultUserId,0,"7Cogs Web Content","Images used for content",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"icons"});
  serviceContext.setAssetCategoryIds(new long[]{iconAssetCategory.getCategoryId()});
  IGImage cogBlueIconIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"cog_blue.png","/sample/images/cog_blue.png",serviceContext);
  IGImage cogLightBlueIconIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"cog_light_blue.png","/sample/images/cog_light_blue.png",serviceContext);
  IGImage cogOrangeIconIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"cog_orange.png","/sample/images/cog_orange.png",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"home page","blogs"});
  serviceContext.setAssetCategoryIds(new long[]{iconAssetCategory.getCategoryId()});
  IGImage blogsIconIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"blogs_icon.png","/sample/images/blogs_icon.png",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"home page"});
  serviceContext.setAssetCategoryIds(new long[]{productsAssetCategory.getCategoryId()});
  IGImage cogNetworkAdIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"cog_network_advertisement.png","/sample/images/cog_network_advertisement.png",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"home page","forums"});
  serviceContext.setAssetCategoryIds(new long[]{iconAssetCategory.getCategoryId()});
  IGImage forumsIconIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"forums_icon.png","/sample/images/forums_icon.png",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"liferay","logo"});
  serviceContext.setAssetCategoryIds(new long[]{liferayAssetCategory.getCategoryId()});
  IGImage liferayLogoIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"liferay_logo.png","/sample/images/liferay_logo.png",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"home page"});
  serviceContext.setAssetCategoryIds(new long[]{bannerAssetCategory.getCategoryId()});
  IGImage homePageBannerIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"home_page_banner.png","/sample/images/home_page_banner.png",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"home page","products"});
  serviceContext.setAssetCategoryIds(new long[]{iconAssetCategory.getCategoryId()});
  IGImage productsIconIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"products_icon.png","/sample/images/products_icon.png",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"products"});
  serviceContext.setAssetCategoryIds(new long[]{productsAssetCategory.getCategoryId()});
  IGImage productLandingIGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"product_landing.png","/sample/images/product_landing.png",serviceContext);
  Layout layout=addLayout(group,"Home",false,"/home","home");
  String portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-1");
  removePortletBorder(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"liferay","7cogs"});
  JournalArticle journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Banner","/sample/journal/articles/home_page_banner.xml",serviceContext);
  String content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$GROUP_ID$]","[$HOME_PAGE_BANNER_IG_IMAGE_UUID$]"},new String[]{String.valueOf(group.getGroupId()),String.valueOf(homePageBannerIGImage.getUuid())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-2");
  removePortletBorder(layout,portletId);
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Products Button","/sample/journal/articles/home_page_products_button.xml",serviceContext);
  content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$GROUP_ID$]","[$HOME_PAGE_PRODUCTS_IG_IMAGE_UUID$]"},new String[]{String.valueOf(group.getGroupId()),String.valueOf(productsIconIGImage.getUuid())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-3");
  removePortletBorder(layout,portletId);
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Blogs Button","/sample/journal/articles/home_page_blogs_button.xml",serviceContext);
  content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$GROUP_ID$]","[$HOME_PAGE_BLOGS_IG_IMAGE_UUID$]"},new String[]{String.valueOf(group.getGroupId()),String.valueOf(blogsIconIGImage.getUuid())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-4");
  removePortletBorder(layout,portletId);
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Forums Button","/sample/journal/articles/home_page_forums_button.xml",serviceContext);
  content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$GROUP_ID$]","[$HOME_PAGE_FORUMS_IG_IMAGE_UUID$]"},new String[]{String.valueOf(group.getGroupId()),String.valueOf(forumsIconIGImage.getUuid())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-5");
  removePortletBorder(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"front"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Home Page Intro","/sample/journal/articles/products_landing_intro.xml",serviceContext);
  content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$GROUP_ID$]","[$PRODUCT_LANDING_IG_IMAGE_UUID$]"},new String[]{String.valueOf(group.getGroupId()),String.valueOf(productLandingIGImage.getUuid())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-5");
  removePortletBorder(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"front"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Home Page Intro Info","/sample/journal/articles/products_landing_intro_info.xml",serviceContext);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-8");
  configurePortletTitle(layout,portletId,"Advertisement");
  serviceContext.setAssetTagNames(new String[]{"liferay","enterprise"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Home Page - EE Ad","/sample/journal/articles/ee_ad.xml",serviceContext);
  content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$GROUP_ID$]","[$EE_AD_IG_IMAGE_UUID$]"},new String[]{String.valueOf(group.getGroupId()),String.valueOf(cogNetworkAdIGImage.getUuid())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  layout=addLayout(group,"Products",false,"/products","1_2_columns_ii");
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-1");
  removePortletBorder(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"Vix-998","7cogs"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Products Banner","/sample/journal/articles/products_banner.xml",serviceContext);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-2");
  configurePortletTitle(layout,portletId,"Products Landing Intro");
  serviceContext.setAssetTagNames(new String[]{"products"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Gartner","/sample/journal/articles/products_landing_intro.xml",serviceContext);
  content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$GROUP_ID$]","[$PRODUCT_LANDING_IG_IMAGE_UUID$]"},new String[]{String.valueOf(group.getGroupId()),String.valueOf(productLandingIGImage.getUuid())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-2");
  configurePortletTitle(layout,portletId,"Products Landing Intro Info");
  serviceContext.setAssetTagNames(new String[]{"products"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Gartner","/sample/journal/articles/products_landing_intro_info.xml",serviceContext);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-3");
  removePortletBorder(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"Vix-998","7cogs"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Products Catalog","/sample/journal/articles/products_catalog.xml",serviceContext);
  content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$COG_BLUE_IG_IMAGE_UUID$]","[$COG_LIGHT_BLUE_IG_IMAGE_UUID$]","[$COG_ORANGE_IG_IMAGE_UUID$]","[$GROUP_ID$]"},new String[]{String.valueOf(cogBlueIconIGImage.getUuid()),String.valueOf(cogLightBlueIconIGImage.getUuid()),String.valueOf(cogOrangeIconIGImage.getUuid()),String.valueOf(group.getGroupId())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  layout=addLayout(group,"Blogs",false,"/blogs","1_2_columns_i");
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-1");
  removePortletBorder(layout,portletId);
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Blogs Banner","/sample/journal/articles/blogs_banner.xml",serviceContext);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  addPortletId(layout,PortletKeys.RECENT_BLOGGERS,"column-2");
  addPortletId(layout,PortletKeys.BLOGS_AGGREGATOR,"column-3");
  layout=addLayout(group,"Wiki",false,"/wiki","1_column");
  addPortletId(layout,PortletKeys.WIKI,"column-1");
  WikiNode wikiNode=WikiNodeLocalServiceUtil.addNode(defaultUserId,"Main",StringPool.BLANK,serviceContext);
  serviceContext.setAssetTagNames(new String[]{"new","features"});
  serviceContext.setAssetCategoryIds(new long[]{learningAssetCategory.getCategoryId()});
  addWikiPage(defaultUserId,wikiNode.getNodeId(),"FrontPage","/sample/wiki/FrontPage.xml",serviceContext);
  serviceContext.setAssetTagNames(new String[]{"vix-998","features"});
  serviceContext.setAssetCategoryIds(new long[]{productsAssetCategory.getCategoryId()});
  addWikiPage(defaultUserId,wikiNode.getNodeId(),"Vix-998","/sample/wiki/Vix-998.xml",serviceContext);
  layout=addLayout(group,"Forums",false,"/forums","1_column");
  addPortletId(layout,PortletKeys.MESSAGE_BOARDS,"column-1");
  layout=addLayout(group,"About Us",false,"/about_us","2_columns_ii");
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-1");
  highlightPortlet(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"liferay"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"About Us","/sample/journal/articles/home_7cogs_about_us.xml",serviceContext);
  content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$GROUP_ID$]","[$LIFERAY_LOGO_IG_IMAGE_UUID$]"},new String[]{String.valueOf(group.getGroupId()),String.valueOf(liferayLogoIGImage.getUuid())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  addPortletId(layout,"1_WAR_webformportlet","column-2");
  portletId=addPortletId(layout,"1_WAR_googlemapsportlet","column-1");
  Map<String,String> preferences=new HashMap<String,String>();
  preferences.put("map-address","Los Angeles, USA");
  preferences.put("height","300");
  updatePortletSetup(layout,portletId,preferences);
  layout=addLayout(group,"Home",true,"/home","2_columns_ii");
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-1");
  highlightPortlet(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"7cogs","tips"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Home","/sample/journal/articles/home_7cogs_private_pages.xml",serviceContext);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  portletId=addPortletId(layout,PortletKeys.ACTIVITIES,"column-2");
  configurePortletTitle(layout,portletId,"Last Activities in 7Cogs Organization");
  layout=addLayout(group,"Documents",true,"/documents","2_columns_iii");
  addPortletId(layout,PortletKeys.DOCUMENT_LIBRARY,"column-1");
  addPortletId(layout,PortletKeys.IMAGE_GALLERY,"column-1");
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-2");
  highlightPortlet(layout,portletId);
  serviceContext.setAssetTagNames(new String[]{"documents","sharing"});
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Shared Documents","/sample/journal/articles/shared_docs.xml",serviceContext);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  parentOrganizationId=organization.getOrganizationId();
  name="7Cogs, Inc. Mobile";
  organization=OrganizationLocalServiceUtil.addOrganization(userId,parentOrganizationId,name,type,recursable,regionId,countryId,statusId,comments,serviceContext);
  group=organization.getGroup();
  GroupLocalServiceUtil.updateFriendlyURL(group.getGroupId(),"/7cogs-mobile");
  serviceContext.setScopeGroupId(group.getGroupId());
  LayoutSetLocalServiceUtil.updateLogo(group.getGroupId(),false,true,getInputStream("/mobile/images/seven_cogs_mobile_logo.png"));
  LayoutSetLocalServiceUtil.updateLookAndFeel(group.getGroupId(),false,"sevencogsmobile_WAR_sevencogsmobiletheme","01","",false);
  serviceContext.setScopeGroupId(group.getGroupId());
  igFolder=IGFolderLocalServiceUtil.addFolder(null,defaultUserId,0,"7Cogs Mobile Content","Images used for mobile content",serviceContext);
  serviceContext.setAssetTagNames(null);
  serviceContext.setAssetCategoryIds(null);
  IGImage mobileProduct1IGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"mobile_product_1.png","/mobile/images/mobile_product_1.png",serviceContext);
  IGImage mobileProduct2IGImage=addIGImage(defaultUserId,igFolder.getFolderId(),"mobile_product_2.png","/mobile/images/mobile_product_2.png",serviceContext);
  layout=addLayout(group,"Home",false,"/home","1_column");
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-1");
  removePortletBorder(layout,portletId);
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Mobile Welcome","/mobile/journal/articles/mobile_welcome.xml",serviceContext);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
  layout=addLayout(group,"Products",false,"/products","1_column");
  portletId=addPortletId(layout,PortletKeys.JOURNAL_CONTENT,"column-1");
  removePortletBorder(layout,portletId);
  journalArticle=addJournalArticle(defaultUserId,group.getGroupId(),"Mobile Products","/mobile/journal/articles/mobile_products.xml",serviceContext);
  content=StringUtil.replace(journalArticle.getContent(),new String[]{"[$GROUP_ID$]","[$IG_IMAGE_1_UUID$]","[$IG_IMAGE_2_UUID$]"},new String[]{String.valueOf(group.getGroupId()),String.valueOf(mobileProduct1IGImage.getUuid()),String.valueOf(mobileProduct2IGImage.getUuid())});
  JournalArticleLocalServiceUtil.updateContent(group.getGroupId(),journalArticle.getArticleId(),journalArticle.getVersion(),content);
  configureJournalContent(layout,portletId,journalArticle.getArticleId());
}
