{
  PortletPreferences portletSetup=PortletPreferencesFactoryUtil.getLayoutPortletSetup(layout,portletId);
  String[] indexes=new String[chartBlocks.length];
  for (int i=0; i < chartBlocks.length; i++) {
    indexes[i]=String.valueOf(i);
    portletSetup.setValue("chartType" + (i),chartBlocks[i][1]);
    portletSetup.setValue("chartWidth" + (i),chartBlocks[i][3]);
    portletSetup.setValue("dataRange" + (i),chartBlocks[i][2]);
    portletSetup.setValue("displayActivityCounterName" + (i),chartBlocks[i][0]);
  }
  portletSetup.setValue("displayActivityCounterNameIndexes",StringUtil.merge(indexes));
  portletSetup.store();
}
