{
  String articleURL=null;
  Layout layout=layoutLocalService.getLayout(serviceContext.getPlid());
  LayoutTypePortlet layoutTypePortlet=(LayoutTypePortlet)layout.getLayoutType();
  if (layoutTypePortlet.hasDefaultScopePortletId(article.getGroupId(),PortletKeys.KNOWLEDGE_BASE_ADMIN)) {
    String namespace=PortalUtil.getPortletNamespace(PortletKeys.KNOWLEDGE_BASE_ADMIN);
    articleURL=HttpUtil.setParameter(serviceContext.getLayoutFullURL(),"p_p_id",PortletKeys.KNOWLEDGE_BASE_ADMIN);
    articleURL=HttpUtil.setParameter(articleURL,namespace + "jspPage","/admin/view_article.jsp");
    articleURL=HttpUtil.setParameter(articleURL,namespace + "resourcePrimKey",article.getResourcePrimKey());
  }
  if (articleURL == null) {
    articleURL=serviceContext.getLayoutFullURL();
  }
  return articleURL;
}
