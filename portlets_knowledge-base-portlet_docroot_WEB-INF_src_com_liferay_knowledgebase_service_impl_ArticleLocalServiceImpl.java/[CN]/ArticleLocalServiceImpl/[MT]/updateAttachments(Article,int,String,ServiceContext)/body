{
  if (article.getVersion() > oldVersion) {
    String oldDirName=ArticleConstants.DIR_NAME_PREFIX + article.getResourcePrimKey();
    if (Validator.isNull(dirName)) {
      addAttachments(article,oldDirName,serviceContext);
    }
 else {
      addAttachments(article,dirName,serviceContext);
    }
  }
 else   if (Validator.isNotNull(dirName)) {
    deleteAttachments(article,article.getClassPK());
    addAttachments(article,dirName,serviceContext);
  }
}
