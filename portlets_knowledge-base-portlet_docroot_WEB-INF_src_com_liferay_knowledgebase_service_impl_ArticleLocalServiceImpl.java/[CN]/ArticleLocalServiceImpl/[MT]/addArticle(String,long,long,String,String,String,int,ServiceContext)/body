{
  User user=userPersistence.findByPrimaryKey(userId);
  long resourcePrimKey=counterLocalService.increment(Article.class.getName());
  long groupId=serviceContext.getScopeGroupId();
  double version=1.0;
  Date now=new Date();
  validate(title,content);
  long articleId=counterLocalService.increment();
  Article article=articlePersistence.create(articleId);
  article.setUuid(uuid);
  article.setResourcePrimKey(resourcePrimKey);
  article.setGroupId(groupId);
  article.setCompanyId(user.getCompanyId());
  article.setUserId(user.getUserId());
  article.setUserName(user.getFullName());
  article.setCreateDate(now);
  article.setModifiedDate(now);
  article.setParentResourcePrimKey(parentResourcePrimKey);
  article.setVersion(version);
  article.setTitle(title);
  article.setContent(content);
  article.setDescription(description);
  article.setPriority(priority);
  articlePersistence.update(article,false);
  updateDisplayOrder(article,parentResourcePrimKey,priority);
  return article;
}
