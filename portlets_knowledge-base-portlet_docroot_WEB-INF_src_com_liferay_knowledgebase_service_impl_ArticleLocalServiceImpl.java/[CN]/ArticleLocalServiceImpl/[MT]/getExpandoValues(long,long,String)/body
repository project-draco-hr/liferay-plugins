{
  DynamicQuery dynamicQuery=DynamicQueryFactoryUtil.forClass(ExpandoValue.class,"expandoValue",PortalClassLoaderUtil.getClassLoader());
  Property tableIdProperty=PropertyFactoryUtil.forName("tableId");
  Property columnIdProperty=PropertyFactoryUtil.forName("columnId");
  Property dataProperty=PropertyFactoryUtil.forName("data");
  ExpandoColumn expandoColumn=expandoColumnLocalService.getColumn(companyId,Subscription.class.getName(),"KB","portletPrimKeys");
  String portletPrimKey=ArticleConstants.getPortletPrimKey(plid,portletId);
  Conjunction conjunction=RestrictionsFactoryUtil.conjunction();
  conjunction.add(tableIdProperty.eq(expandoColumn.getTableId()));
  conjunction.add(columnIdProperty.eq(expandoColumn.getColumnId()));
  conjunction.add(dataProperty.like(StringPool.PERCENT + portletPrimKey + StringPool.PERCENT));
  dynamicQuery.add(conjunction);
  return expandoValuePersistence.findWithDynamicQuery(dynamicQuery);
}
