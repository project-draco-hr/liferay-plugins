{
  List<NotificationRecipient> notificationRecipients=_getNotificationRecipients(calendarBooking);
  for (  NotificationRecipient notificationRecipient : notificationRecipients) {
    User user=notificationRecipient.getUser();
    long startTime=calendarBooking.getStartTime();
    if (nowTime > startTime) {
      return;
    }
    NotificationType notificationType=null;
    long diff=(startTime - nowTime) / _CHECK_INTERVAL;
    if (diff == (calendarBooking.getFirstReminder() / _CHECK_INTERVAL)) {
      notificationType=calendarBooking.getFirstReminderNotificationType();
    }
 else     if (diff == (calendarBooking.getSecondReminder() / _CHECK_INTERVAL)) {
      notificationType=calendarBooking.getSecondReminderNotificationType();
    }
    NotificationTemplateContext notificationTemplateContext=NotificationTemplateContextFactory.getInstance(notificationType,NotificationTemplateType.REMINDER,calendarBooking,user);
    if (notificationType != null) {
      NotificationSender notificationSender=NotificationSenderFactory.getNotificationSender(notificationType.toString());
      notificationSender.sendNotification(notificationRecipient,notificationTemplateContext);
    }
  }
}
