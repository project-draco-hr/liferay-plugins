{
  List<String> keys=new ArrayList<String>();
  Collections.addAll(keys,"[$BOOKING_END_DATE$]","[$BOOKING_LOCATION$]","[$BOOKING_START_DATE$]","[$BOOKING_TITLE$]","[$FROM_ADDRESS$]","[$FROM_NAME$]","[$PORTAL_URL$]","[$PORTLET_NAME$]","[$TO_ADDRESS$]","[$TO_NAME$]");
  List<String> values=new ArrayList<String>();
  Collections.addAll(values,GetterUtil.getString(notificationContext.get("endTime")),GetterUtil.getString(notificationContext.get("location")),GetterUtil.getString(notificationContext.get("startTime")),GetterUtil.getString(notificationContext.get("title")),GetterUtil.getString(notificationContext.get("fromAddress")),GetterUtil.getString(notificationContext.get("fromName")),GetterUtil.getString(notificationContext.get("portalUrl")),GetterUtil.getString(notificationContext.get("portletName")),GetterUtil.getString(notificationContext.get("toAddress")),GetterUtil.getString(notificationContext.get("toName")));
  String bookingURL=GetterUtil.getString(notificationContext.get("bookingURL"));
  if (Validator.isNotNull(bookingURL)) {
    keys.add("[$BOOKING_URL$]");
    values.add(bookingURL);
  }
  String[] keysArray=keys.toArray(new String[keys.size()]);
  String[] valuesArray=values.toArray(new String[values.size()]);
  return StringUtil.replace(notificationTemplate,keysArray,valuesArray);
}
