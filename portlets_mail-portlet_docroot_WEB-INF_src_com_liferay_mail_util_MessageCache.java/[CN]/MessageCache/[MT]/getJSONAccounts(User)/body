{
  if (Validator.isNull(user)) {
    return null;
  }
  String userPath=_getUserPath(user);
  String[] emailAddresses=FileUtil.listDirs(userPath);
  JSONObject jsonObj=JSONFactoryUtil.createJSONObject();
  JSONArray jsonArray=JSONFactoryUtil.createJSONArray();
  jsonObj.put("accounts",jsonArray);
  for (  String emailAddress : emailAddresses) {
    JSONObject jsonAccount=getJSONAccount(emailAddress);
    if (Validator.isNull(jsonAccount)) {
      continue;
    }
    jsonArray.put(jsonAccount);
  }
  return jsonObj;
}
