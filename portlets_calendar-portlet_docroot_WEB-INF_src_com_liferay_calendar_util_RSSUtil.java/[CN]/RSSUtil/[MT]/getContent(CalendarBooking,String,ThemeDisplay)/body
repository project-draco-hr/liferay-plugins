{
  if (displayStyle.equals(DISPLAY_STYLE_ABSTRACT)) {
    return StringUtil.shorten(calendarBooking.getDescription(themeDisplay.getLocale()),200);
  }
 else   if (displayStyle.equals(DISPLAY_STYLE_TITLE)) {
    return calendarBooking.getTitle(themeDisplay.getLocale());
  }
 else {
    String content=ContentUtil.get(PortletProps.get(PortletPropsKeys.CALENDAR_RSS_TEMPLATE));
    Format dateFormatDateTime=FastDateFormatFactoryUtil.getDateTime(themeDisplay.getLocale(),themeDisplay.getTimeZone());
    content=StringUtil.replace(content,new String[]{"[$BOOKING_DESCRIPTION$]","[$BOOKING_END_DATE$]","[$BOOKING_LOCATION$]","[$BOOKING_START_DATE$]","[$BOOKING_TITLE$]"},new String[]{calendarBooking.getDescription(themeDisplay.getLocale()),dateFormatDateTime.format(calendarBooking.getEndTime()),calendarBooking.getLocation(),dateFormatDateTime.format(calendarBooking.getStartTime()),calendarBooking.getTitle(themeDisplay.getLocale())});
    return content;
  }
}
