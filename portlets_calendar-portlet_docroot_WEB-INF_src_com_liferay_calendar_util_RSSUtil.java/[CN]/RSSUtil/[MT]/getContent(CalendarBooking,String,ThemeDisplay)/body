{
  Locale locale=themeDisplay.getLocale();
  String content=null;
  if (displayStyle.equals(DISPLAY_STYLE_ABSTRACT)) {
    content=StringUtil.shorten(calendarBooking.getDescription(locale),200);
  }
 else   if (displayStyle.equals(DISPLAY_STYLE_TITLE)) {
    content=calendarBooking.getTitle(locale);
  }
 else {
    TimeZone timeZone=themeDisplay.getTimeZone();
    String rssEntryTemplate=ContentUtil.get(PortletProps.get(PortletPropsKeys.CALENDAR_RSS_TEMPLATE));
    Format dateFormatDateTime=FastDateFormatFactoryUtil.getDateTime(locale,timeZone);
    content=StringUtil.replace(rssEntryTemplate,new String[]{"[$BOOKING_LOCATION$]","[$BOOKING_START_DATE$]","[$BOOKING_END_DATE$]","[$BOOKING_TITLE$]","[$BOOKING_DESCRIPTION$]"},new String[]{calendarBooking.getLocation(),dateFormatDateTime.format(calendarBooking.getStartTime()),dateFormatDateTime.format(calendarBooking.getEndTime()),calendarBooking.getTitle(locale),calendarBooking.getDescription(locale)});
  }
  return content;
}
