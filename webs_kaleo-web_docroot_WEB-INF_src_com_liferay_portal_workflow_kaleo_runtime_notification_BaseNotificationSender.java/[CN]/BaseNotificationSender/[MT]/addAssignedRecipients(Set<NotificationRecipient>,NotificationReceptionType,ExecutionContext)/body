{
  KaleoTaskInstanceToken kaleoTaskInstanceToken=executionContext.getKaleoTaskInstanceToken();
  if (kaleoTaskInstanceToken == null) {
    return;
  }
  List<KaleoTaskAssignmentInstance> kaleoTaskAssignmentInstances=kaleoTaskInstanceToken.getKaleoTaskAssignmentInstances();
  for (  KaleoTaskAssignmentInstance kaleoTaskAssignmentInstance : kaleoTaskAssignmentInstances) {
    String assigneeClassName=kaleoTaskAssignmentInstance.getAssigneeClassName();
    if (assigneeClassName.equals(User.class.getName())) {
      addUserNotificationRecipient(notificationRecipients,kaleoTaskAssignmentInstance.getAssigneeClassPK(),notificationReceptionType,executionContext);
    }
 else {
      long roleId=kaleoTaskAssignmentInstance.getAssigneeClassPK();
      Role role=RoleLocalServiceUtil.getRole(roleId);
      addRoleRecipientAddresses(notificationRecipients,roleId,role.getType(),notificationReceptionType,executionContext);
    }
  }
}
