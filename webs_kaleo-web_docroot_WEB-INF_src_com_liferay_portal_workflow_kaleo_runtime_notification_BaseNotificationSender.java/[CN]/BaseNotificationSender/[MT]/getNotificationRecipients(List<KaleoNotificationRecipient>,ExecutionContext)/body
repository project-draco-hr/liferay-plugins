{
  Set<NotificationRecipient> notificationRecipients=new HashSet<>();
  if (kaleoNotificationRecipients.isEmpty()) {
    addAssignedRecipients(notificationRecipients,executionContext);
    return notificationRecipients;
  }
  for (  KaleoNotificationRecipient kaleoNotificationRecipient : kaleoNotificationRecipients) {
    String recipientClassName=kaleoNotificationRecipient.getRecipientClassName();
    if (recipientClassName.equals(RecipientType.ADDRESS.name())) {
      String address=kaleoNotificationRecipient.getAddress();
      NotificationRecipient notificationRecipient=new NotificationRecipient(address);
      notificationRecipients.add(notificationRecipient);
    }
 else     if (recipientClassName.equals(RecipientType.ASSIGNEES.name())) {
      addAssignedRecipients(notificationRecipients,executionContext);
    }
 else     if (recipientClassName.equals(Role.class.getName())) {
      addRoleRecipientAddresses(notificationRecipients,kaleoNotificationRecipient.getRecipientClassPK(),kaleoNotificationRecipient.getRecipientRoleType(),executionContext);
    }
 else     if (recipientClassName.equals(RecipientType.SCRIPT.name())) {
      addScriptRecipientAddresses(notificationRecipients,kaleoNotificationRecipient.getRecipientScript(),kaleoNotificationRecipient.getRecipientScriptLanguage(),kaleoNotificationRecipient.getRecipientScriptRequiredContexts(),executionContext);
    }
 else     if (recipientClassName.equals(User.class.getName())) {
      addUserNotificationRecipient(notificationRecipients,kaleoNotificationRecipient.getRecipientClassPK(),executionContext);
    }
 else {
      if (_log.isWarnEnabled()) {
        _log.warn("Unsupported recipient " + kaleoNotificationRecipient);
      }
    }
  }
  return notificationRecipients;
}
