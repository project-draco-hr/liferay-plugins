{
  Set<NotificationRecipient> notificationRecipients=new HashSet<NotificationRecipient>();
  if (kaleoNotificationRecipients.isEmpty()) {
    addAssignedRecipients(notificationRecipients,executionContext);
    return notificationRecipients;
  }
  for (  KaleoNotificationRecipient kaleoNotificationRecipient : kaleoNotificationRecipients) {
    if (Validator.isNotNull(kaleoNotificationRecipient.getAddress())) {
      NotificationRecipient notificationRecipient=new NotificationRecipient(kaleoNotificationRecipient.getAddress());
      notificationRecipients.add(notificationRecipient);
    }
 else {
      String recipientClassName=kaleoNotificationRecipient.getRecipientClassName();
      if (recipientClassName.equals(User.class.getName())) {
        addUserNotificationRecipient(notificationRecipients,kaleoNotificationRecipient.getRecipientClassPK(),executionContext);
      }
 else {
        addRoleRecipientAddresses(notificationRecipients,kaleoNotificationRecipient.getRecipientClassPK(),kaleoNotificationRecipient.getRecipientRoleType(),executionContext);
      }
    }
  }
  return notificationRecipients;
}
