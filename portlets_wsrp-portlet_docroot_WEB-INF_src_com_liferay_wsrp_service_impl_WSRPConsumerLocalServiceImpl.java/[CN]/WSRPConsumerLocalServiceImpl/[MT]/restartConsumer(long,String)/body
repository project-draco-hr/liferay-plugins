{
  WSRPConsumer wsrpConsumer=wsrpConsumerPersistence.findByPrimaryKey(wsrpConsumerId);
  try {
    WSRPConsumerManagerFactory.destroyWSRPConsumerManager(wsrpConsumer.getUrl());
    WSRPConsumerManager wsrpConsumerManager=WSRPConsumerManagerFactory.getWSRPConsumerManager(wsrpConsumer,userToken);
    RegistrationContext registrationContext=wsrpConsumer.getRegistrationContext();
    wsrpConsumerManager.updateServiceDescription(registrationContext);
    List<WSRPConsumerPortlet> wsrpConsumerPortlets=wsrpConsumerPortletLocalService.getWSRPConsumerPortlets(wsrpConsumerId,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
    for (    WSRPConsumerPortlet wsrpConsumerPortlet : wsrpConsumerPortlets) {
      long companyId=wsrpConsumerPortlet.getCompanyId();
      long wsrpConsumerPortletId=wsrpConsumerPortlet.getWsrpConsumerPortletId();
      String wsrpConsumerPortletUuid=wsrpConsumerPortlet.getUuid();
      String name=wsrpConsumerPortlet.getName();
      String portletHandle=wsrpConsumerPortlet.getPortletHandle();
      wsrpConsumerPortletLocalService.initWSRPConsumerPortlet(companyId,wsrpConsumerId,wsrpConsumerPortletId,wsrpConsumerPortletUuid,name,portletHandle,userToken);
    }
  }
 catch (  PortalException pe) {
    throw pe;
  }
catch (  SystemException se) {
    throw se;
  }
catch (  Exception e) {
    throw new PortalException(e);
  }
}
