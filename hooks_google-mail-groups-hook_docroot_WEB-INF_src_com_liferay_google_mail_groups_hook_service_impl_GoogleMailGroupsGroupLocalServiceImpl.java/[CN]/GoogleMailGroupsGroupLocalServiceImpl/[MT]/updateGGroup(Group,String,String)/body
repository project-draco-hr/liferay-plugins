{
  if (oldFriendlyURL.equals(group.getFriendlyURL())) {
    return;
  }
  if (!GoogleMailGroupsUtil.isSync(group)) {
    return;
  }
  Directory directory=GoogleMailGroupsUtil.getDirectory();
  GoogleMailGroupsUtil.deleteGGroup(directory,oldGroupEmailAddress);
  String groupEmailAddress=GoogleMailGroupsUtil.getGroupEmailAddress(group);
  GoogleMailGroupsUtil.addGGroup(directory,group.getDescriptiveName(),groupEmailAddress);
  LinkedHashMap<String,Object> userParams=new LinkedHashMap<String,Object>();
  userParams.put("inherit",Boolean.TRUE);
  userParams.put("usersGroups",new Long(group.getGroupId()));
  List<User> users=UserLocalServiceUtil.search(group.getCompanyId(),null,WorkflowConstants.STATUS_APPROVED,userParams,QueryUtil.ALL_POS,QueryUtil.ALL_POS,(OrderByComparator)null);
  for (  User user : users) {
    GoogleMailGroupsUtil.addGGroupMember(directory,groupEmailAddress,GoogleMailGroupsUtil.getUserEmailAddress(user));
  }
}
