{
  ProcessInstance processInstance=token.getProcessInstance();
  ProcessDefinition processDefinition=processInstance.getProcessDefinition();
  setEndDate(token.getEnd());
  setStartDate(token.getStart());
  setState(token.getNode().getName());
  ContextInstance contextInstance=processInstance.getContextInstance();
  Map<String,Object> variables=contextInstance.getVariables(token);
  Map<String,Serializable> workflowContext=WorkflowContextUtil.convert(variables);
  setWorkflowContext(workflowContext);
  setWorkflowDefinitionName(processDefinition.getName());
  setWorkflowDefinitionVersion(processDefinition.getVersion());
  setWorkflowInstanceId(token.getId());
}
