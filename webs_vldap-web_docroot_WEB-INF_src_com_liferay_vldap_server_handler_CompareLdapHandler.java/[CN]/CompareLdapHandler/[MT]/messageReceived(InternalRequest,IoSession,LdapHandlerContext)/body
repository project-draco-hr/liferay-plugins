{
  InternalCompareRequest internalCompareRequest=(InternalCompareRequest)internalRequest;
  String attributeId=internalCompareRequest.getAttributeId();
  Value<?> value=internalCompareRequest.getAssertionValue();
  Directory directory=new RootDirectory(internalRequest);
  directory=directory.findBase(internalCompareRequest.getName());
  if (directory != null) {
    directory.getDirectories();
    Attribute attribute=directory.getAttribute(attributeId,value.getString());
    if (attribute != null) {
      return toList(getInternalResponse(internalRequest,ResultCodeEnum.COMPARE_TRUE));
    }
  }
  return toList(getInternalResponse(internalRequest,ResultCodeEnum.COMPARE_FALSE));
}
