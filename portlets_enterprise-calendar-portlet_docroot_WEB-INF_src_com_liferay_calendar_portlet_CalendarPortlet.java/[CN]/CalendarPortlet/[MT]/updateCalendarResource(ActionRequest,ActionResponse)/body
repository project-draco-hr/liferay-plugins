{
  long calendarResourceId=ParamUtil.getLong(actionRequest,"calendarResourceId");
  long defaultCalendarId=ParamUtil.getLong(actionRequest,"defaultCalendarId");
  String code=ParamUtil.getString(actionRequest,"code");
  Map<Locale,String> nameMap=LocalizationUtil.getLocalizationMap(actionRequest,"name");
  Map<Locale,String> descriptionMap=LocalizationUtil.getLocalizationMap(actionRequest,"description");
  String type=ParamUtil.getString(actionRequest,"type");
  boolean active=ParamUtil.getBoolean(actionRequest,"active");
  ServiceContext serviceContext=ServiceContextFactory.getInstance(CalendarResource.class.getName(),actionRequest);
  if (calendarResourceId <= 0) {
    CalendarResourceServiceUtil.addCalendarResource(serviceContext.getScopeGroupId(),null,0,PortalUUIDUtil.generate(),defaultCalendarId,code,nameMap,descriptionMap,type,active,serviceContext);
  }
 else {
    CalendarResourceServiceUtil.updateCalendarResource(calendarResourceId,defaultCalendarId,code,nameMap,descriptionMap,type,active,serviceContext);
  }
}
