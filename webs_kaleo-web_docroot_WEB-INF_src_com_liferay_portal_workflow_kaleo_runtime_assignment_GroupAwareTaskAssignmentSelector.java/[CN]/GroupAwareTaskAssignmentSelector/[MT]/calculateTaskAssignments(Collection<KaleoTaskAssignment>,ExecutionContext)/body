{
  KaleoInstanceToken kaleoInstanceToken=executionContext.getKaleoInstanceToken();
  long groupId=kaleoInstanceToken.getGroupId();
  Group group=GroupLocalServiceUtil.getGroup(groupId);
  if (group.isLayout()) {
    group=GroupLocalServiceUtil.getGroup(group.getParentGroupId());
  }
  List<KaleoTaskAssignment> calculatedKaleoTaskAssignments=new ArrayList<KaleoTaskAssignment>();
  for (  KaleoTaskAssignment kaleoTaskAssignment : kaleoTaskAssignments) {
    if (isValidAssignment(kaleoTaskAssignment,group)) {
      calculatedKaleoTaskAssignments.add(kaleoTaskAssignment);
    }
  }
  return calculatedKaleoTaskAssignments;
}
