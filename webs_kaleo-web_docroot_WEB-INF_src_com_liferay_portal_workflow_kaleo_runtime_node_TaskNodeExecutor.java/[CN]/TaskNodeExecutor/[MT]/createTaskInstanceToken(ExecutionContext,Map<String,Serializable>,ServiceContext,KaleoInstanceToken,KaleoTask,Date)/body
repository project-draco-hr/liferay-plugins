{
  Collection<KaleoTaskAssignment> configuredKaleoTaskAssignments=kaleoTask.getKaleoTaskAssignments();
  Collection<KaleoTaskAssignment> kaleoTaskAssignments=new ArrayList<KaleoTaskAssignment>();
  for (  KaleoTaskAssignment configuredKaleoTaskAssignment : configuredKaleoTaskAssignments) {
    Collection<KaleoTaskAssignment> calculatedKaleoTaskAssignments=_taskAssignmentSelector.calculateTaskAssignments(configuredKaleoTaskAssignment,executionContext);
    kaleoTaskAssignments.addAll(calculatedKaleoTaskAssignments);
  }
  return kaleoTaskInstanceTokenLocalService.addKaleoTaskInstanceToken(kaleoInstanceToken.getKaleoInstanceTokenId(),kaleoTask.getKaleoTaskId(),kaleoTask.getName(),kaleoTaskAssignments,dueDate,workflowContext,serviceContext);
}
