{
  if (!_terminalStates.isEmpty()) {
    return _terminalStates;
  }
  for (  Node node : _nodesMap.values()) {
    if (node instanceof State) {
      State state=(State)node;
      if (state.isTerminal()) {
        _terminalStates.add(state);
      }
    }
  }
  return _terminalStates;
}
