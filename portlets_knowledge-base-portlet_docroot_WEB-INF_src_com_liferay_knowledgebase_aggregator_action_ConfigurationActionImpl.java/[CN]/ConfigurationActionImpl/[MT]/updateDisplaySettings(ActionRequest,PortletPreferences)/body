{
  String childArticlesDisplayStyle=ParamUtil.getString(actionRequest,"childArticlesDisplayStyle");
  boolean enableArticleComments=ParamUtil.getBoolean(actionRequest,"enableArticleComments");
  boolean enableArticleCommentRatings=ParamUtil.getBoolean(actionRequest,"enableArticleCommentRatings");
  preferences.setValue("child-articles-display-style",childArticlesDisplayStyle);
  preferences.setValue("enable-article-comments",String.valueOf(enableArticleComments));
  preferences.setValue("enable-article-comment-ratings",String.valueOf(enableArticleCommentRatings));
  if (getRootPortletId().equals(PortletKeys.KNOWLEDGE_BASE_AGGREGATOR)) {
    String articlesTitle=ParamUtil.getString(actionRequest,"articlesTitle");
    String articlesDisplayStyle=ParamUtil.getString(actionRequest,"articlesDisplayStyle");
    String articleWindowState=ParamUtil.getString(actionRequest,"articleWindowState");
    preferences.setValue("articles-title",articlesTitle);
    preferences.setValue("articles-display-style",articlesDisplayStyle);
    preferences.setValue("article-window-state",articleWindowState);
  }
  if (getRootPortletId().equals(PortletKeys.KNOWLEDGE_BASE_AGGREGATOR) || getRootPortletId().equals(PortletKeys.KNOWLEDGE_BASE_SEARCH)) {
    int articlesDelta=ParamUtil.getInteger(actionRequest,"articlesDelta");
    preferences.setValue("articles-delta",String.valueOf(articlesDelta));
  }
}
