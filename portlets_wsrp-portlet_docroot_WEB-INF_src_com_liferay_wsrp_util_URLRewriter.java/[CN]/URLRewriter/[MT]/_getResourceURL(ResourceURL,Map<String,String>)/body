{
  for (  String key : params.keySet()) {
    String value=params.get(key);
    if (key.equalsIgnoreCase(WSRPSpecKeys.WINDOW_STATE) || key.equalsIgnoreCase(WSRPSpecKeys.MODE) || key.equalsIgnoreCase(WSRPSpecKeys.NAVIGATIONAL_STATE)|| key.equalsIgnoreCase(WSRPSpecKeys.INTERACTION_STATE)) {
      url.setParameter(key,value);
    }
 else     if (key.equalsIgnoreCase(WSRPSpecKeys.URL)) {
      url.setResourceID(value);
    }
  }
  return url.toString() + "&compress=0&strip=0";
}
