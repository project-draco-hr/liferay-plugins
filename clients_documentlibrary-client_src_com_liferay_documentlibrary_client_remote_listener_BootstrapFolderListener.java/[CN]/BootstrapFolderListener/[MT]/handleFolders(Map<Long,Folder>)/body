{
  for (  Entry<Long,Folder> folder : folders.entrySet()) {
    Folder newFolder=folder.getValue();
    FolderData folderData=new FolderData(newFolder);
    Long folderId=folder.getKey();
    if (FileSystemManagerUtil.containsFolder(folderId)) {
      FolderData oldFolder=FileSystemManagerUtil.getFolderData(folderId);
      String oldFolderName=oldFolder.getTitle();
      String newFolderName=newFolder.getName();
      if (!oldFolderName.equals(newFolderName) || (oldFolder.getParentFolderId() != newFolder.getParentFolderId())) {
        _removeFolder(oldFolder);
        _addFolder(folderData);
      }
    }
 else {
      FileSystemManagerUtil.addFolder(folderData);
      _addFolder(folderData);
    }
  }
}
