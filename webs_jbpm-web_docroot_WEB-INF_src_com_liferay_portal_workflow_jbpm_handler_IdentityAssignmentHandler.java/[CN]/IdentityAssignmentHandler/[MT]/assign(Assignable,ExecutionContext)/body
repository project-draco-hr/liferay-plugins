{
  Set<Assignment> assignments=new HashSet<Assignment>();
  if (roles != null) {
    for (    Map<String,String> role : roles) {
      long roleId=GetterUtil.getLong(role.get("role-id"));
      String roleType=role.get("role-type");
      String roleName=role.get("role-name");
      RoleAssignment roleAssignment=null;
      if (Validator.isNotNull(roleName)) {
        boolean autoCreate=GetterUtil.getBoolean(role.get("auto-create"),true);
        roleAssignment=new RoleAssignment(roleName,roleType);
        roleAssignment.setAutoCreate(autoCreate);
      }
 else {
        roleAssignment=new RoleAssignment(roleId,roleType);
      }
      assignments.add(roleAssignment);
    }
  }
  if (user != null) {
    long userId=GetterUtil.getLong(user.get("user-id"));
    String screenName=user.get("screen-name");
    String emailAddress=user.get("email-address");
    UserAssignment userAssignment=new UserAssignment(userId,screenName,emailAddress);
    assignments.add(userAssignment);
  }
  setAssignee(assignable,executionContext,assignments);
}
