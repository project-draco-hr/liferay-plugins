{
  long userId=GetterUtil.getLong(securityToken.getViewerId());
  String gadgetKey=securityToken.getAppId();
  OAuthToken oAuthToken=null;
  try {
    oAuthToken=OAuthTokenLocalServiceUtil.fetchOAuthToken(userId,gadgetKey,serviceName,securityToken.getModuleId(),tokenName);
  }
 catch (  SystemException se) {
    throw new GadgetException(GadgetException.Code.INTERNAL_SERVER_ERROR,se);
  }
  return oAuthToken;
}
