{
  String journalArticleId=getJournalArticleId(fileName);
  String title=FileUtil.stripExtension(fileName);
  Map<Locale,String> titleMap=getNameMap(title);
  String content=StringUtil.read(inputStream);
  content=processJournalArticleContent(content);
  setServiceContext(fileName);
  JournalArticle journalArticle=JournalArticleLocalServiceUtil.addArticle(userId,groupId,0,0,0,journalArticleId,false,JournalArticleConstants.VERSION_DEFAULT,titleMap,null,content,"general",journalStructureId,journalTemplateId,StringPool.BLANK,1,1,2010,0,0,0,0,0,0,0,true,0,0,0,0,0,true,true,false,StringPool.BLANK,null,new HashMap<String,byte[]>(),StringPool.BLANK,serviceContext);
  JournalArticleLocalServiceUtil.updateStatus(userId,groupId,journalArticle.getArticleId(),journalArticle.getVersion(),WorkflowConstants.STATUS_APPROVED,StringPool.BLANK,serviceContext);
}
