{
  DDMStructure ddmStructure=DDMStructureLocalServiceUtil.getStructure(groupId,PortalUtil.getClassNameId(DDLRecordSet.class),ddmStructureKey);
  long ddmStructureId=ddmStructure.getStructureId();
  File ddlStructureDisplayTemplateDir=new File(_resourcesDir,displayTemplateDir + "/" + ddmStructure.getName(Locale.getDefault()));
  if (!ddlStructureDisplayTemplateDir.isDirectory() || !ddlStructureDisplayTemplateDir.canRead()) {
    return;
  }
  File[] files=listFiles(ddlStructureDisplayTemplateDir);
  for (  File file : files) {
    String language=getDDMTemplateLanguage(file.getName());
    String script=StringUtil.read(getInputStream(file));
    if (Validator.isNull(script)) {
      return;
    }
    addDDMTemplate(groupId,ddmStructureId,file.getName(),language,script,DDMTemplateConstants.TEMPLATE_TYPE_DISPLAY,null);
  }
}
