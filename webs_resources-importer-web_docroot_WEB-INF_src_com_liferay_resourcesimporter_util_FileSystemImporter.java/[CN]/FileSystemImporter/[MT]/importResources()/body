{
  _resourcesDir=new File(resourcesDir);
  if (!_resourcesDir.exists() || !_resourcesDir.isDirectory() || !_resourcesDir.canRead()) {
    throw new IllegalArgumentException("Unaccessible resource directory " + resourcesDir);
  }
  serviceContext=new ServiceContext();
  serviceContext.setAddGroupPermissions(true);
  if (!privateLayout) {
    serviceContext.setAddGuestPermissions(true);
  }
  serviceContext.setScopeGroupId(groupId);
  setupSettings("settings.json");
  addDLFileEntries("/document_library/documents");
  addJournalArticles(StringPool.BLANK,StringPool.BLANK,"/journal/articles");
  addJournalStructures("/journal/structures");
  addJournalTemplates(StringPool.BLANK,"/journal/templates");
  addLayouts("sitemap.json");
}
