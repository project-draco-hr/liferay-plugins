{
  String journalStructureId=getJournalId(fileName);
  String name=FileUtil.stripExtension(fileName);
  Map<Locale,String> nameMap=getMap(name);
  String xsd=StringUtil.read(inputStream);
  setServiceContext(fileName);
  long classNameId=PortalUtil.getClassNameId(JournalArticle.class);
  DDMStructure ddmStructure=DDMStructureLocalServiceUtil.addStructure(userId,groupId,parentStructureId,classNameId,journalStructureId,nameMap,null,xsd,StorageType.XML.getValue(),DDMStructureConstants.TYPE_DEFAULT,serviceContext);
  addJournalTemplates(ddmStructure.getStructureKey(),_JOURNAL_TEMPLATES_DIR_NAME + name);
  if (Validator.isNull(parentStructureId)) {
    addJournalStructures(ddmStructure.getStructureKey(),_JOURNAL_STRUCTURES_DIR_NAME + name);
  }
}
