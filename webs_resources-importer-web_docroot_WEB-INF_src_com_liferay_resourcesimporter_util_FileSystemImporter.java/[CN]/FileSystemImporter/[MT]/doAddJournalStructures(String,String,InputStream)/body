{
  String journalStructureId=getId(fileName);
  String name=FileUtil.stripExtension(fileName);
  Map<Locale,String> nameMap=getNameMap(name);
  String xsd=StringUtil.read(inputStream);
  setServiceContext(fileName);
  JournalStructure journalStructure=JournalStructureLocalServiceUtil.addStructure(userId,groupId,journalStructureId,false,parentStructureId,nameMap,null,xsd,serviceContext);
  addJournalTemplates(journalStructure.getStructureId(),_JOURNAL_TEMPLATES_DIR_NAME + name);
  if (Validator.isNull(parentStructureId)) {
    addJournalStructures(journalStructure.getStructureId(),_JOURNAL_STRUCTURES_DIR_NAME + name);
  }
}
