{
  Map<Locale,String> nameMap=getMap(fileName);
  String xsd=StringUtil.read(inputStream);
  DDMStructure ddmStructure=DDMStructureLocalServiceUtil.addStructure(userId,groupId,DDMStructureConstants.DEFAULT_PARENT_STRUCTURE_ID,PortalUtil.getClassNameId(DDLRecordSet.class),null,nameMap,null,xsd,PropsUtil.get(PropsKeys.DYNAMIC_DATA_LISTS_STORAGE_TYPE),DDMStructureConstants.TYPE_DEFAULT,serviceContext);
  addDDLDisplayTemplates(ddmStructure.getStructureKey(),_DDL_STRUCTURE_DISPLAY_TEMPLATE_DIR);
  addDDLFormTemplates(ddmStructure.getStructureKey(),_DDL_STRUCTURE_FORM_TEMPLATE_DIR);
}
