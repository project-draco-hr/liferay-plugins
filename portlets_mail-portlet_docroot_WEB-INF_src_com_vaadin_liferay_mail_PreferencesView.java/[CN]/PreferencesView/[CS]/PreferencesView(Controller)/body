{
  this.controller=controller;
  setSpacing(true);
  accountPanel=new Panel(Lang.get("your-email-accounts"));
  updateAccountList();
  addComponent(accountPanel);
  HorizontalLayout buttons=new HorizontalLayout();
  buttons.setSpacing(true);
  addComponent(buttons);
  Button createAccountButton=new Button(Lang.get("create-account"));
  createAccountButton.addListener(new ClickListener(){
    public void buttonClick(    ClickEvent event){
      editAccount(null);
    }
  }
);
  buttons.addComponent(createAccountButton);
  Button createGmailButton=new Button("Create GMail account");
  createGmailButton.addListener(new ClickListener(){
    public void buttonClick(    ClickEvent event){
      editGmailAccount(null);
    }
  }
);
  buttons.addComponent(createGmailButton);
  Link poweredByVaadin=new Link("",new ExternalResource("http://vaadin.com"));
  poweredByVaadin.setIcon(new PortletResource("images/vaadin/powered-by-vaadin.png"));
  poweredByVaadin.setDescription("Mail portlet interface created using Vaadin - RIA's with pure Java.");
  addComponent(poweredByVaadin);
}
