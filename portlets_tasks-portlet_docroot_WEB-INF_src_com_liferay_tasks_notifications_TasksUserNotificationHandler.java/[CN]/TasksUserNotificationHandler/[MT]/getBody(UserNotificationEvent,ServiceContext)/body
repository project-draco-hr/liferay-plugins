{
  JSONObject jsonObject=JSONFactoryUtil.createJSONObject(userNotificationEvent.getPayload());
  long tasksEntryId=jsonObject.getLong("classPK");
  TasksEntry tasksEntry=TasksEntryLocalServiceUtil.fetchTasksEntry(tasksEntryId);
  if (tasksEntry == null) {
    UserNotificationEventLocalServiceUtil.deleteUserNotificationEvent(userNotificationEvent.getUserNotificationEventId());
    return null;
  }
  StringBundler sb=new StringBundler(5);
  sb.append("<div class=\"title\">");
  sb.append(serviceContext.translate(jsonObject.getString("title"),PortalUtil.getUserName(jsonObject.getLong("userId"),StringPool.BLANK)));
  sb.append("</div><div class=\"body\">");
  sb.append(HtmlUtil.escape(tasksEntry.getTitle()));
  sb.append("</div>");
  return sb.toString();
}
