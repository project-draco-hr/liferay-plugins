{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long wsrpProducerId=ParamUtil.getLong(actionRequest,"wsrpProducerId");
  String name=ParamUtil.getString(actionRequest,"name");
  String portletIds=ParamUtil.getString(actionRequest,"portletIds");
  String version=ParamUtil.getString(actionRequest,"version");
  if (wsrpProducerId <= 0) {
    WSRPProducerLocalServiceUtil.addWSRPProducer(themeDisplay.getUserId(),name,portletIds,version);
  }
 else {
    WSRPProducerLocalServiceUtil.updateWSRPProducer(wsrpProducerId,name,portletIds,version);
  }
}
