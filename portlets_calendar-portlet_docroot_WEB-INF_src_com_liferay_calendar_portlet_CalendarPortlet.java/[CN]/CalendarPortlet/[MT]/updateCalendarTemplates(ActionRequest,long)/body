{
  String notificationTypeString=ParamUtil.getString(actionRequest,"notificationType");
  String templateTypeString=ParamUtil.getString(actionRequest,"notificationTemplateType");
  if (Validator.isNull(notificationTypeString) || Validator.isNull(templateTypeString))   return;
  NotificationType notificationType=NotificationType.parse(notificationTypeString);
  NotificationTemplateType templateType=NotificationTemplateType.parse(templateTypeString);
  String bodyParameterName=NotificationUtil.getPreferenceName(notificationType,templateType,NotificationField.BODY);
  String subjectParameterName=NotificationUtil.getPreferenceName(notificationType,templateType,NotificationField.SUBJECT);
  String body=ParamUtil.getString(actionRequest,bodyParameterName);
  String subject=ParamUtil.getString(actionRequest,subjectParameterName);
  String notificationSettings=getNotificationSettings(notificationType,actionRequest);
  if (validateTemplate(actionRequest,bodyParameterName,body) && validateTemplate(actionRequest,bodyParameterName,body)) {
    NotificationUtil.saveNotificationTemplate(calendarId,notificationType,templateType,subject,body,notificationSettings);
  }
}
