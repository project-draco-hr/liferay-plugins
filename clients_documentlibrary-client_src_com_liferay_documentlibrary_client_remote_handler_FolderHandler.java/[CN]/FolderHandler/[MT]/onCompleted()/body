{
  ResponseBuilder responseBuilder=getResponseBuilder();
  Response response=responseBuilder.build();
  try {
    JSONArray foldersJson=new JSONArray(response.getResponseBody());
    Map<Long,Folder> foldersMap=new HashMap<Long,Folder>();
    for (int i=0; i < foldersJson.length(); i++) {
      JSONObject folderJson=foldersJson.getJSONObject(i);
      Folder folder=new Folder(folderJson);
      folder.setParentFolder(_parentFolder);
      foldersMap.put(folder.getFolderId(),folder);
    }
    _folderListener.handleFolders(foldersMap);
    for (    Folder folderData : foldersMap.values()) {
      RemoteFileSystemUtil.bootstrapFolders(folderData,new BootstrapFolderListener());
      RemoteFileSystemUtil.bootstrapFiles(folderData,new BootstrapFileEntryListener());
    }
  }
 catch (  Exception e) {
    _log.error(e.getMessage());
  }
  return response;
}
