{
  if (messages == null || messages.isEmpty()) {
    return;
  }
  try {
    Message message=messages.get(0);
    Mailbox mailbox=getMailbox(message.getAccountId());
    long[] messageIds=new long[messages.size()];
    for (int i=0; i < messages.size(); ++i) {
      messageIds[i]=messages.get(i).getMessageId();
    }
    mailbox.deleteMessages(message.getFolderId(),messageIds);
  }
 catch (  MailException me) {
    _log.error(me);
    throw me;
  }
  Controller.get().notifyMessagesAddedOrRemovedListeners();
}
