{
  setMockPostResponse("dependencies/watcher_test_delete_file.json");
  SyncWatchEventProcessor syncWatchEventProcessor=new SyncWatchEventProcessor();
  syncWatchEventProcessor.process();
  WatchEventListener watchEventListener=new SyncSiteWatchEventListener(syncAccount.getSyncAccountId());
  Path filePath=Paths.get(syncAccount.getFilePathName());
  Watcher watcher=new Watcher(filePath,true,watchEventListener);
  Thread thread=new Thread(watcher);
  thread.start();
  Path addFilePath=Paths.get(_syncSite.getFilePathName() + "/test.txt");
  Files.createFile(addFilePath);
  thread.sleep(5000);
  Files.delete(addFilePath);
  thread.sleep(5000);
  _syncFiles=SyncFileService.findSyncFiles(syncAccount.getSyncAccountId());
  Assert.assertEquals(2,_syncFiles.size());
  Assert.assertNull(SyncFileService.fetchSyncFile(FilePathNameUtil.getFilePathName(addFilePath),syncAccount.getSyncAccountId()));
}
