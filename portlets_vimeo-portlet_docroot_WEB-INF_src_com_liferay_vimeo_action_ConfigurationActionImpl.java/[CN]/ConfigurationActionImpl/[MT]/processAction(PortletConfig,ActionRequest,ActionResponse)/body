{
  String cmd=ParamUtil.getString(actionRequest,Constants.CMD);
  if (!cmd.equals(Constants.UPDATE)) {
    return;
  }
  boolean autoplay=ParamUtil.getBoolean(actionRequest,"autoplay");
  boolean enableFullscreen=ParamUtil.getBoolean(actionRequest,"enableFullscreen");
  boolean showByline=ParamUtil.getBoolean(actionRequest,"showByline");
  boolean showPortrait=ParamUtil.getBoolean(actionRequest,"showPortrait");
  boolean showTitle=ParamUtil.getBoolean(actionRequest,"showTitle");
  String annotations=ParamUtil.getString(actionRequest,"annotations");
  String borderColor=ParamUtil.getString(actionRequest,"borderColor");
  String height=ParamUtil.getString(actionRequest,"height");
  String playerColor=ParamUtil.getString(actionRequest,"playerColor");
  String startTime=ParamUtil.getString(actionRequest,"startTime");
  String url=ParamUtil.getString(actionRequest,"url");
  String width=ParamUtil.getString(actionRequest,"width");
  String portletResource=ParamUtil.getString(actionRequest,"portletResource");
  PortletPreferences preferences=PortletPreferencesFactoryUtil.getPortletSetup(actionRequest,portletResource);
  preferences.setValue("autoplay",String.valueOf(autoplay));
  preferences.setValue("enableFullscreen",String.valueOf(enableFullscreen));
  preferences.setValue("showByline",String.valueOf(showByline));
  preferences.setValue("showPortrait",String.valueOf(showPortrait));
  preferences.setValue("showTitle",String.valueOf(showTitle));
  preferences.setValue("height",height);
  preferences.setValue("playerColor",playerColor);
  preferences.setValue("url",url);
  preferences.setValue("width",width);
  preferences.store();
  SessionMessages.add(actionRequest,portletConfig.getPortletName() + ".doConfigure");
}
