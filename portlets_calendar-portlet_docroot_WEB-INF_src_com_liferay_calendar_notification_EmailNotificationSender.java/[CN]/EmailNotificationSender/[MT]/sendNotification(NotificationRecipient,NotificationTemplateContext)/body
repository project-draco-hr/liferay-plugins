{
  try {
    CalendarNotificationTemplate calendarNotificationTemplate=notificationTemplateContext.getCalendarNotificationTemplate();
    Calendar calendar=CalendarLocalServiceUtil.getCalendar(notificationTemplateContext.getCalendarId());
    User defaultSenderUser=NotificationUtil.getDefaultSenderUser(calendar);
    String fromAddress=NotificationUtil.getTemplatePropertyValue(calendarNotificationTemplate,CalendarNotificationTemplateConstants.PROPERTY_FROM_ADDRESS,defaultSenderUser.getEmailAddress());
    String fromName=NotificationUtil.getTemplatePropertyValue(calendarNotificationTemplate,CalendarNotificationTemplateConstants.PROPERTY_FROM_NAME,defaultSenderUser.getFullName());
    sendNotification(fromAddress,fromName,notificationRecipient,notificationTemplateContext.getSubject(),notificationTemplateContext.getBody());
  }
 catch (  Exception e) {
    throw new NotificationSenderException(e);
  }
}
