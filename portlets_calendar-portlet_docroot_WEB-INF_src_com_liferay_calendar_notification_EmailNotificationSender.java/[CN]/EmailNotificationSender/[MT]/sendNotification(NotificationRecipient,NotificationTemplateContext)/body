{
  try {
    CalendarNotificationTemplate calendarNotificationTemplate=notificationTemplateContext.getCalendarNotificationTemplate();
    Calendar calendar=CalendarLocalServiceUtil.getCalendar(notificationTemplateContext.getCalendarId());
    User defaultSender=NotificationUtil.getDefaultSender(calendar);
    String fromAddress=NotificationUtil.getTemplateProperty(calendarNotificationTemplate,CalendarNotificationTemplateConstants.PROPERTY_FROM_ADDRESS,defaultSender.getEmailAddress());
    String fromName=NotificationUtil.getTemplateProperty(calendarNotificationTemplate,CalendarNotificationTemplateConstants.PROPERTY_FROM_NAME,defaultSender.getFullName());
    sendNotification(fromAddress,fromName,notificationRecipient,notificationTemplateContext.getSubject(),notificationTemplateContext.getBody());
  }
 catch (  Exception e) {
    throw new NotificationSenderException(e);
  }
}
