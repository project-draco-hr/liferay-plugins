{
  _hotDeployMessageListener=new HotDeployMessageListener(ClpSerializer.getServletContextName()){
    @Override protected void onDeploy() throws Exception {
      if (!PortletPropsValues.CALENDAR_SYNC_CALEVENTS_ON_STARTUP) {
        return;
      }
      StopWatch stopWatch=null;
      if (_log.isInfoEnabled()) {
        stopWatch=new StopWatch();
        stopWatch.start();
      }
      CalendarImporterLocalServiceUtil.importCalEvents();
      if (_log.isInfoEnabled()) {
        StringBundler sb=new StringBundler(5);
        sb.append("Calendar events synchronization takes ");
        sb.append(stopWatch.getTime() + " ms. Set the property ");
        sb.append("\"calendar.sync.calevents.on.startup\" ");
        sb.append("to \"false\" to disable calendar events ");
        sb.append("synchronization.");
        _log.info(sb.toString());
      }
    }
  }
;
  MessageBusUtil.registerMessageListener(DestinationNames.HOT_DEPLOY,_hotDeployMessageListener);
}
