{
  _hotDeployMessageListener=new HotDeployMessageListener(ClpSerializer.getServletContextName()){
    @Override protected void onDeploy() throws Exception {
      if (PortletPropsValues.CALENDAR_SYNC_CALEVENTS_ON_STARTUP) {
        StopWatch stopWatch=null;
        if (_log.isInfoEnabled()) {
          stopWatch=new StopWatch();
          stopWatch.start();
        }
        CalendarImporterLocalServiceUtil.importCalEvents();
        if (_log.isInfoEnabled()) {
          _log.info("Calendar events synchronization takes " + stopWatch.getTime() + " ms. Please set the "+ "calendar.sync.calevents.on.startup "+ "property to false.");
        }
      }
    }
  }
;
  MessageBusUtil.registerMessageListener(DestinationNames.HOT_DEPLOY,_hotDeployMessageListener);
}
