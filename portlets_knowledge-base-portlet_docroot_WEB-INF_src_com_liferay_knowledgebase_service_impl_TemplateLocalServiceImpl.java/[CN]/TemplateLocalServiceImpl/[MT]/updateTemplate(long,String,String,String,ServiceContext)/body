{
  validate(title,content);
  Template template=templatePersistence.findByPrimaryKey(templateId);
  template.setModifiedDate(serviceContext.getModifiedDate(null));
  template.setTitle(title);
  template.setContent(content);
  template.setDescription(description);
  templatePersistence.update(template,false);
  if ((serviceContext.getCommunityPermissions() != null) || (serviceContext.getGuestPermissions() != null)) {
    updateTemplateResources(template,serviceContext.getCommunityPermissions(),serviceContext.getGuestPermissions());
  }
  SocialActivityLocalServiceUtil.addActivity(template.getUserId(),template.getGroupId(),Template.class.getName(),templateId,AdminActivityKeys.UPDATE_TEMPLATE,StringPool.BLANK,0);
  return template;
}
