{
  String regex="((==\\s((.)*)\\s==)*(\\Q[[\\E((.)*)\\Q]]\\E)*)*";
  Pattern pattern=Pattern.compile(regex);
  List<EntryDisplay> entries=new LinkedList<EntryDisplay>();
  Matcher matcher=pattern.matcher(page.getContent());
  EntryDisplay parent=null;
  while (matcher.find()) {
    String title=matcher.group(3);
    if (title != null) {
      parent=new EntryDisplay();
      parent.setLabel(title);
      entries.add(parent);
    }
    String temp=matcher.group(6);
    if (temp != null) {
      EntryDisplay child=new EntryDisplay();
      int index=temp.indexOf("|");
      if (index != -1) {
        String url=temp.substring(0,index);
        String label=temp.substring(index + 1,temp.length());
        if (!url.startsWith("http")) {
          portletURL.setParameter("title",url);
          portletURL.setParameter("nodeId",String.valueOf(page.getNodeId()));
          url=portletURL.toString();
        }
 else {
          child.setExternalURL(true);
        }
        child.setLabel(label);
        child.setUrl(url);
      }
 else {
        child.setLabel(temp);
        String url=temp;
        if (!url.startsWith("http")) {
          portletURL.setParameter("title",url);
          portletURL.setParameter("nodeId",String.valueOf(page.getNodeId()));
          url=portletURL.toString();
        }
        child.setUrl(url);
      }
      parent.addChild(child);
    }
  }
  return entries;
}
