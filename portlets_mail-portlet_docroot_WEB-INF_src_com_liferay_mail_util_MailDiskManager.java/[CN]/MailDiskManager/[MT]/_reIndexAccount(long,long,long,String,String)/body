{
  String accountPath=userPath + emailAddress + "/";
  if (!FileUtil.exists(accountPath)) {
    return;
  }
  MessageIndexer.deleteMessages(companyId,userId,emailAddress);
  String[] folders=FileUtil.listDirs(accountPath + "/");
  for (  String folderName : folders) {
    String folderPath=accountPath + folderName + "/";
    if (!FileUtil.exists(folderPath)) {
      continue;
    }
    String[] messageUids=FileUtil.listDirs(folderPath + "/");
    for (    String messageUid : messageUids) {
      _reIndexMessage(companyId,groupId,userId,emailAddress,folderName,folderPath,GetterUtil.getLong(messageUid));
    }
  }
}
