{
  String messagePath=getMessagePath(user,emailAddress,folderName,messageUid);
  FileUtil.deltree(messagePath);
  try {
    Indexer indexer=IndexerRegistryUtil.getIndexer(MessageEntry.class);
    MessageEntry entry=new MessageEntry(user.getCompanyId(),user.getUserId(),emailAddress,_encodeFolderName(folderName),messageUid);
    indexer.delete(entry);
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
}
