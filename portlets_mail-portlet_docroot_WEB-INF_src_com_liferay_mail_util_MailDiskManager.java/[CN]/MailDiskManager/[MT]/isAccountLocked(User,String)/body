{
  boolean locked=false;
  try {
    String filePath=MailDiskManager.getAccountLockPath(user,emailAddress);
    if (!FileUtil.exists(filePath)) {
      return false;
    }
    JSONObject jsonObj=JSONFactoryUtil.createJSONObject(FileUtil.read(filePath));
    if (GetterUtil.getBoolean(jsonObj.get("locked").toString())) {
      DateFormat df=new SimpleDateFormat("yyyyMMddHHmmss");
      Date dateLocked=GetterUtil.getDate(jsonObj.get("dateLocked").toString(),df);
      Date now=new Date();
      long nowTime=now.getTime();
      long expireTime=dateLocked.getTime() + 360000;
      if (nowTime < expireTime) {
        return true;
      }
    }
  }
 catch (  IOException ioe) {
    _log.error(ioe,ioe);
  }
catch (  JSONException jsone) {
    _log.error(jsone,jsone);
  }
  return locked;
}
