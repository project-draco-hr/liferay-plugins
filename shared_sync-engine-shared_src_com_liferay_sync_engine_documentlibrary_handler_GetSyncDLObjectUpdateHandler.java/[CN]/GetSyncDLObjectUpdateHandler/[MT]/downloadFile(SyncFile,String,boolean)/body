{
  Map<String,Object> parameters=new HashMap<String,Object>();
  parameters.put("syncFile",syncFile);
  String targetVersion=syncFile.getVersion();
  if (patch && (Double.valueOf(targetVersion) > Double.valueOf(sourceVersion))) {
    parameters.put("patch",true);
    parameters.put("sourceVersion",sourceVersion);
    parameters.put("targetVersion",targetVersion);
  }
 else {
    parameters.put("patch",false);
  }
  if (sourceVersion == null) {
    parameters.put("uiEvent",SyncFile.UI_EVENT_DOWNLOADED_NEW);
  }
 else {
    parameters.put("uiEvent",SyncFile.UI_EVENT_DOWNLOADED_UPDATE);
  }
  DownloadFileEvent downloadFileEvent=new DownloadFileEvent(getSyncAccountId(),parameters);
  downloadFileEvent.run();
}
