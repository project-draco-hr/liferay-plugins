{
  if (!_useSAW) {
    try {
      WorkflowURL url=getWorkflowURL();
      url.setParameter(Constants.CMD,"getUserTasksCountXml");
      url.setParameter("instanceId",instanceId);
      url.setParameter("taskName",taskName);
      url.setParameter("definitionName",definitionName);
      url.setParameter("assignedTo",assignedTo);
      url.setParameter("createDateGT",createDateGT);
      url.setParameter("createDateLT",createDateLT);
      url.setParameter("startDateGT",startDateGT);
      url.setParameter("startDateLT",startDateLT);
      url.setParameter("endDateGT",endDateGT);
      url.setParameter("endDateLT",endDateLT);
      url.setParameter("hideEndedTasks",hideEndedTasks);
      url.setParameter("andOperator",andOperator);
      return url.getContent();
    }
 catch (    Exception e) {
      throw new WorkflowComponentException(e);
    }
  }
 else {
    String userId=_getLoggedInUserId();
    if (definitionName == null) {
      definitionName="";
    }
    if (assignedTo == null) {
      assignedTo="";
    }
    if (endDateLT == null) {
      endDateLT="";
    }
    if (startDateGT == null) {
      startDateGT="";
    }
    if (startDateLT == null) {
      startDateLT="";
    }
    if (endDateGT == null) {
      endDateGT="";
    }
    if (userId == null) {
      userId="";
    }
    if (createDateLT == null) {
      createDateLT="";
    }
    if (createDateGT == null) {
      createDateGT="";
    }
    return SAWWorkflowLocalServiceUtil.getUserTasksCountXml(instanceId,taskName,definitionName,assignedTo,userId,createDateGT,createDateLT,startDateGT,startDateLT,endDateGT,endDateLT,hideEndedTasks,andOperator);
  }
}
