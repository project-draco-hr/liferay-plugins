{
  DateValue instanceStartDaveValue=_toDateValue(instanceStartTime);
  DateValue dateValue=null;
  int count=0;
  try {
    RecurrenceIterator recurrenceIterator=RecurrenceIteratorFactory.createRecurrenceIterator(recurrence,_toDateValue(calendarBookingStartTime),TimeUtils.utcTimezone());
    while (recurrenceIterator.hasNext()) {
      dateValue=recurrenceIterator.next();
      if (dateValue.compareTo(instanceStartDaveValue) < 0) {
        count++;
      }
 else {
        break;
      }
    }
  }
 catch (  ParseException e) {
    _log.error("Unable to parse data ",e);
  }
  return count;
}
