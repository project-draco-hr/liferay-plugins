{
  long userId=0;
  try {
    userId=getUserId();
  }
 catch (  PrincipalException pe) {
    userId=counterLocalService.increment();
  }
  PollsQuestionPermission.check(getPermissionChecker(),pollsQuestionId,ActionKeys.ADD_VOTE);
  return pollsVoteLocalService.addPollsVote(userId,pollsQuestionId,pollsChoiceId,serviceContext);
}
