{
  try {
    String fullName=displayName;
    if (Validator.isNotNull(_account.getFolderPrefix())) {
      Store store=_imapConnection.getStore(true);
      Folder defaultIMAPFolder=store.getDefaultFolder();
      fullName=_account.getFolderPrefix() + defaultIMAPFolder.getSeparator() + displayName;
    }
    Folder imapFolder=getFolder(fullName);
    if (imapFolder.exists()) {
      throw new MailException(MailException.FOLDER_ALREADY_EXISTS);
    }
 else {
      if (imapFolder.create(Folder.HOLDS_MESSAGES)) {
        return new String[]{imapFolder.getFullName(),imapFolder.getName()};
      }
      throw new MailException(MailException.FOLDER_CREATE_FAILED);
    }
  }
 catch (  MessagingException me) {
    throw new MailException(me);
  }
}
