{
  ProcessInstance processInstance=taskInstance.getProcessInstance();
  ProcessDefinition processDefinition=processInstance.getProcessDefinition();
  Token token=taskInstance.getToken();
  setAsynchronous(!taskInstance.isBlocking());
  setCompletionDate(taskInstance.getEnd());
  setCreateDate(taskInstance.getCreate());
  setDescription(taskInstance.getDescription());
  setDueDate(taskInstance.getDueDate());
  setName(taskInstance.getName());
  setOptionalAttributes(WorkflowContextUtil.convertToMap(taskInstance.getVariables()));
  setWorkflowDefinitionId(processDefinition.getId());
  setWorkflowDefinitionName(processDefinition.getName());
  setWorkflowDefinitionVersion(processDefinition.getVersion());
  setWorkflowInstanceId(token.getId());
  ContextInstance contextInstance=processInstance.getContextInstance();
  long companyId=GetterUtil.getLong((String)contextInstance.getVariable("companyId"));
  List<Assignee> assignees=AssigneeRetrievalUtil.getAssignees(companyId,taskInstance.getActorId(),taskInstance.getPooledActors());
  setWorkflowTaskAssignees(toWorkflowTaskAssignees(assignees));
  setWorkflowTaskId(taskInstance.getId());
}
