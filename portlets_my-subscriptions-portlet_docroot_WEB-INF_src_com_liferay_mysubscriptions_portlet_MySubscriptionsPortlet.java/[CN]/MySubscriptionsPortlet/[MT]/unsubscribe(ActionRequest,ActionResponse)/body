{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  if (!themeDisplay.isSignedIn()) {
    return;
  }
  long[] subscriptionIds=StringUtil.split(ParamUtil.getString(actionRequest,"subscriptionIds"),0L);
  for (  long subscriptionId : subscriptionIds) {
    if (subscriptionId <= 0) {
      continue;
    }
    Subscription subscription=SubscriptionLocalServiceUtil.getSubscription(subscriptionId);
    if (themeDisplay.getUserId() != subscription.getUserId()) {
      throw new PrincipalException();
    }
    SubscriptionLocalServiceUtil.deleteSubscription(subscription);
  }
}
