{
  Role role=null;
  try {
    role=RoleLocalServiceUtil.getRole(serviceContext.getCompanyId(),name);
    if (role.getType() != roleType) {
      throw new DuplicateRoleException("Role already exists with name " + name);
    }
  }
 catch (  NoSuchRoleException nsre) {
    if (!autoCreate) {
      throw nsre;
    }
    Map<Locale,String> descriptionMap=new HashMap<Locale,String>();
    descriptionMap.put(LocaleUtil.getDefault(),"Autogenerated role from workflow definition");
    role=RoleLocalServiceUtil.addRole(serviceContext.getUserId(),serviceContext.getCompanyId(),name,null,descriptionMap,roleType);
  }
  return role;
}
