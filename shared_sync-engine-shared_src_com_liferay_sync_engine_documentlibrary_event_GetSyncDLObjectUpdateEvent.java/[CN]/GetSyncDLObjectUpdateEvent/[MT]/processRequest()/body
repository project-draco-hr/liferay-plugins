{
  SyncSite syncSite=(SyncSite)getParameterValue("syncSite");
  syncSite=SyncSiteService.fetchSyncSite(syncSite.getGroupId(),syncSite.getSyncAccountId());
  if (syncSite.getLastRemoteSyncTime() == 0) {
    Map<String,Object> parameters=new HashMap<String,Object>();
    parameters.put("folderId",0);
    parameters.put("repositoryId",syncSite.getGroupId());
    parameters.put("syncSite",syncSite);
    GetAllSyncDLObjectsEvent getAllSyncDLObjectsEvent=new GetAllSyncDLObjectsEvent(getSyncAccountId(),parameters);
    getAllSyncDLObjectsEvent.run();
    return;
  }
  Map<String,Object> parameters=new HashMap<String,Object>();
  parameters.put("companyId",syncSite.getCompanyId());
  parameters.put("lastAccessTime",syncSite.getLastRemoteSyncTime());
  parameters.put("repositoryId",syncSite.getGroupId());
  executePost(_URL_PATH,parameters);
}
