{
  _username=username;
  _password=password;
  _poolingClientConnectionManager=new PoolingClientConnectionManager();
  DefaultHttpClient defaultHttpClient=new DefaultHttpClient(_poolingClientConnectionManager);
  if ((_username != null) && (_password != null)) {
    if (authScope == null) {
      authScope=AuthScope.ANY;
    }
    CredentialsProvider credentialsProvider=defaultHttpClient.getCredentialsProvider();
    credentialsProvider.setCredentials(authScope,new UsernamePasswordCredentials(_username,_password));
    defaultHttpClient.addRequestInterceptor(new PreemptiveAuthInterceptor(),0);
  }
  _server=new HttpSolrServer(url,defaultHttpClient);
}
