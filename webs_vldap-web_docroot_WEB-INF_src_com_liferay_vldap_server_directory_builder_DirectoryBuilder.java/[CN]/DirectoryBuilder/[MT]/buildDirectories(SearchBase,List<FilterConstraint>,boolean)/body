{
  if (_built) {
    return Collections.emptyList();
  }
  List<Directory> directories=null;
  try {
    directories=buildDirectories(searchBase,filterConstraints);
  }
 catch (  Exception e) {
    _log.error(e,e);
    return Collections.emptyList();
  }
  if (subtree) {
    for (    DirectoryBuilder directoryBuilder : _directoryBuilders) {
      directories.addAll(directoryBuilder.buildDirectories(searchBase,filterConstraints,subtree));
    }
  }
  _built=true;
  return directories;
}
