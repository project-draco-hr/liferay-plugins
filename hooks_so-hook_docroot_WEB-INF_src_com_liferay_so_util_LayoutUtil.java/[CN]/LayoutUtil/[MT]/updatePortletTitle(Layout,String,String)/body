{
  PortletPreferences portletSetup=PortletPreferencesFactoryUtil.getLayoutPortletSetup(layout,portletId);
  Locale[] locales=LanguageUtil.getAvailableLocales();
  for (  Locale locale : locales) {
    String languageId=LocaleUtil.toLanguageId(locale);
    if (Validator.isNotNull(languageId)) {
      String localizedTitle=LanguageUtil.get(locale,title);
      portletSetup.setValue("portletSetupTitle_" + languageId,localizedTitle);
    }
  }
  portletSetup.setValue("portletSetupUseCustomTitle",String.valueOf(Boolean.TRUE));
  portletSetup.store();
}
