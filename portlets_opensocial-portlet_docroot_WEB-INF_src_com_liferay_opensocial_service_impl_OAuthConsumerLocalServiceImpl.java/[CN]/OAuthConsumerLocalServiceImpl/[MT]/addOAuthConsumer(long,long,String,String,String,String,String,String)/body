{
  Date now=new Date();
  long oAuthConsumerId=counterLocalService.increment();
  OAuthConsumer oAuthConsumer=oAuthConsumerPersistence.create(oAuthConsumerId);
  oAuthConsumer.setCompanyId(companyId);
  oAuthConsumer.setCreateDate(now);
  oAuthConsumer.setModifiedDate(now);
  oAuthConsumer.setGadgetId(gadgetId);
  oAuthConsumer.setServiceName(serviceName);
  oAuthConsumer.setConsumerKey(consumerKey);
  oAuthConsumer.setConsumerSecret(consumerSecret);
  oAuthConsumer.setKeyType(keyType);
  oAuthConsumer.setCallbackUrl(callbackUrl);
  oAuthConsumer.setKeyName(keyName);
  oAuthConsumerPersistence.update(oAuthConsumer,false);
  return oAuthConsumer;
}
