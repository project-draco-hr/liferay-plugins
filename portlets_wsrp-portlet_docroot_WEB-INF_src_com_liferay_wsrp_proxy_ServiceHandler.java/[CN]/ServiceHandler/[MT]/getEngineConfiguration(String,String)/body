{
  SimpleChain simpleChain=new SimpleChain();
  if (Validator.isNotNull(userToken)) {
    Handler handler=new WSDoAllSender();
    handler.setOption(WSHandlerConstants.ACTION,"UsernameToken");
    handler.setOption(WSHandlerConstants.MUST_UNDERSTAND,"false");
    handler.setOption(UsernameToken.PASSWORD_TYPE,WSConstants.PW_NONE);
    handler.setOption(WSHandlerConstants.PW_CALLBACK_CLASS,PasswordCallback.class.getName());
    handler.setOption(WSHandlerConstants.USER,userToken);
    simpleChain.addHandler(handler);
  }
  SimpleProvider simpleProvider=new SimpleProvider();
  HTTPSender httpSender=new WSRPHTTPSender(forwardCookies);
  simpleProvider.deployTransport(HTTPTransport.DEFAULT_TRANSPORT_NAME,new SimpleTargetedChain(simpleChain,httpSender,null));
  return simpleProvider;
}
