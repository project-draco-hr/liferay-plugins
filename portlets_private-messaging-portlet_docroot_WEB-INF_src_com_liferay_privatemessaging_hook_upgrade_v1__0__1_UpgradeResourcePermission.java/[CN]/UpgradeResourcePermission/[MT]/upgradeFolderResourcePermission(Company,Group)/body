{
  Repository repository=RepositoryLocalServiceUtil.fetchRepository(group.getGroupId(),PortletKeys.MESSAGE_BOARDS);
  if (repository == null) {
    return;
  }
  long folderId=repository.getDlFolderId();
  Role guestRole=RoleLocalServiceUtil.getRole(company.getCompanyId(),RoleConstants.GUEST);
  if (ResourcePermissionLocalServiceUtil.hasResourcePermission(company.getCompanyId(),DLFolder.class.getName(),ResourceConstants.SCOPE_INDIVIDUAL,String.valueOf(folderId),guestRole.getRoleId(),ActionKeys.VIEW)) {
    return;
  }
  ResourceLocalServiceUtil.addResources(company.getCompanyId(),group.getGroupId(),0,DLFolder.class.getName(),folderId,false,true,true);
}
