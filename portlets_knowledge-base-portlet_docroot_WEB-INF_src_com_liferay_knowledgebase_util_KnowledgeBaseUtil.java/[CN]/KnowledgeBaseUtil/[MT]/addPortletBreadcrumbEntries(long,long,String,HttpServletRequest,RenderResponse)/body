{
  PortletURL portletURL=renderResponse.createRenderURL();
  portletURL.setParameter("mvcPath",mvcPath);
  portletURL.setParameter("parentResourcePrimKey",String.valueOf(parentResourcePrimKey));
  portletURL.setParameter("parentResourceClassNameId",String.valueOf(parentResourceClassNameId));
  if (parentResourcePrimKey == KBFolderConstants.DEFAULT_PARENT_FOLDER_ID) {
    ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
    PortalUtil.addPortletBreadcrumbEntry(request,themeDisplay.translate("home"),portletURL.toString());
  }
 else   if (parentResourceClassNameId == PortalUtil.getClassNameId(KBFolderConstants.getClassName())) {
    KBFolder kbFolder=KBFolderServiceUtil.getKBFolder(parentResourcePrimKey);
    addPortletBreadcrumbEntries(kbFolder.getClassNameId(),kbFolder.getParentKBFolderId(),mvcPath,request,renderResponse);
    PortalUtil.addPortletBreadcrumbEntry(request,kbFolder.getName(),portletURL.toString());
  }
 else {
    KBArticle kbArticle=KBArticleServiceUtil.getLatestKBArticle(parentResourcePrimKey,WorkflowConstants.STATUS_ANY);
    addPortletBreadcrumbEntries(kbArticle.getParentResourceClassNameId(),kbArticle.getParentResourcePrimKey(),mvcPath,request,renderResponse);
    PortalUtil.addPortletBreadcrumbEntry(request,kbArticle.getTitle(),portletURL.toString());
  }
}
