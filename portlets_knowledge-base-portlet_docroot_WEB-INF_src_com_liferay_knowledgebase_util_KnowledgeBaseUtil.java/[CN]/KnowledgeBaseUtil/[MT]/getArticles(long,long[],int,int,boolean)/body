{
  if ((start == QueryUtil.ALL_POS) && (end == QueryUtil.ALL_POS)) {
    start=0;
    end=resourcePrimKeys.length;
  }
  List<Long> selResourcePrimKeys=new ArrayList<Long>();
  for (int i=start; (i < end) && (i < resourcePrimKeys.length); i++) {
    selResourcePrimKeys.add(resourcePrimKeys[i]);
  }
  resourcePrimKeys=StringUtil.split(StringUtil.merge(selResourcePrimKeys),0L);
  List<Article> unsortedArticles=null;
  if (checkPermission) {
    unsortedArticles=ArticleServiceUtil.getArticles(groupId,resourcePrimKeys,WorkflowConstants.STATUS_APPROVED,null,QueryUtil.ALL_POS,QueryUtil.ALL_POS,null);
  }
 else {
    unsortedArticles=ArticleLocalServiceUtil.getArticles(resourcePrimKeys,WorkflowConstants.STATUS_APPROVED,QueryUtil.ALL_POS,QueryUtil.ALL_POS,null);
  }
  unsortedArticles=ListUtil.copy(unsortedArticles);
  List<Article> articles=new ArrayList<Article>();
  for (  long resourcePrimKey : resourcePrimKeys) {
    for (int i=0; i < unsortedArticles.size(); i++) {
      Article article=unsortedArticles.get(i);
      if (article.getResourcePrimKey() == resourcePrimKey) {
        articles.add(article);
        unsortedArticles.remove(article);
        break;
      }
    }
  }
  return articles;
}
