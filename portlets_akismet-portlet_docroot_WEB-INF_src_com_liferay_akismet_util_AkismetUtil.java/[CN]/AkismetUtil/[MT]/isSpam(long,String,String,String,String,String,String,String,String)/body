{
  StringBundler sb=new StringBundler(5);
  sb.append(Http.HTTP_WITH_SLASH);
  sb.append(PrefsPortletPropsUtil.getString(companyId,PortletPropsKeys.AKISMET_API_KEY));
  sb.append(StringPool.PERIOD);
  sb.append(AkismetConstants.URL_REST);
  sb.append(AkismetConstants.PATH_CHECK_SPAM);
  String location=sb.toString();
  String response=_sendRequest(location,companyId,ipAddress,userAgent,referrer,permalink,commentType,userName,emailAddress,content);
  if (Validator.isNull(response) || response.equals("invalid")) {
    _log.error("There was an issue with Akismet comment validation");
    return false;
  }
 else   if (response.equals("true")) {
    if (_log.isDebugEnabled()) {
      _log.debug("Spam Detected: " + permalink);
    }
    return true;
  }
  if (_log.isDebugEnabled()) {
    _log.debug("Passed: " + permalink);
  }
  return false;
}
