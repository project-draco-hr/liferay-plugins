{
  SyncDLObject syncDLObject=new SyncDLObjectImpl();
  DLFileVersion dlFileVersion=null;
  Lock lock=fileEntry.getLock();
  if (lock != null) {
    dlFileVersion=DLFileVersionLocalServiceUtil.getFileVersion(fileEntry.getFileEntryId(),DLFileEntryConstants.PRIVATE_WORKING_COPY_VERSION);
    syncDLObject.setLockExpirationDate(lock.getExpirationDate());
    syncDLObject.setLockUserId(lock.getUserId());
    syncDLObject.setLockUserName(lock.getUserName());
    syncDLObject.setType(SyncConstants.TYPE_PWC);
  }
 else {
    dlFileVersion=DLFileVersionLocalServiceUtil.getFileVersion(fileEntry.getFileEntryId(),fileEntry.getVersion());
    syncDLObject.setLockExpirationDate(null);
    syncDLObject.setLockUserId(0);
    syncDLObject.setLockUserName(StringPool.BLANK);
    syncDLObject.setType(SyncConstants.TYPE_FILE);
  }
  syncDLObject.setCompanyId(dlFileVersion.getCompanyId());
  syncDLObject.setCreateDate(dlFileVersion.getCreateDate());
  syncDLObject.setModifiedDate(dlFileVersion.getModifiedDate());
  syncDLObject.setRepositoryId(dlFileVersion.getRepositoryId());
  syncDLObject.setParentFolderId(dlFileVersion.getFolderId());
  syncDLObject.setName(dlFileVersion.getTitle());
  syncDLObject.setExtension(dlFileVersion.getExtension());
  syncDLObject.setMimeType(dlFileVersion.getMimeType());
  syncDLObject.setDescription(dlFileVersion.getDescription());
  syncDLObject.setChangeLog(dlFileVersion.getChangeLog());
  syncDLObject.setExtraSettings(dlFileVersion.getExtraSettings());
  syncDLObject.setVersion(dlFileVersion.getVersion());
  syncDLObject.setSize(dlFileVersion.getSize());
  syncDLObject.setChecksum(getChecksum(dlFileVersion));
  syncDLObject.setEvent(event);
  syncDLObject.setTypePK(fileEntry.getFileEntryId());
  syncDLObject.setTypeUuid(fileEntry.getUuid());
  return syncDLObject;
}
