{
  List<Article> articles=new ArrayList<Article>();
  if (ArticlePermission.contains(getPermissionChecker(),article,ActionKeys.VIEW)) {
    articles.add(article);
  }
  int index=-1;
  while ((index=index + 1) < articles.size()) {
    Article curArticle=articles.get(index);
    Map<String,Object> params=new HashMap<String,Object>();
    params.put("groupId",curArticle.getGroupId());
    params.put("parentResourcePrimKey",curArticle.getResourcePrimKey());
    List<Article> childArticles=getArticles(params,false,QueryUtil.ALL_POS,QueryUtil.ALL_POS,null);
    articles.addAll(childArticles);
  }
  Collections.sort(articles,new ArticleModifiedDateComparator());
  return ListUtil.subList(articles,0,max);
}
