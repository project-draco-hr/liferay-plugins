{
  List<Article> articles=new ArrayList<Article>();
  Long[][] params=new Long[][]{ArrayUtil.toArray(resourcePrimKeys)};
  while ((params=KnowledgeBaseUtil.getParams(params[0])) != null) {
    List<Article> curArticles=null;
    if (status == WorkflowConstants.STATUS_ANY) {
      curArticles=articlePersistence.filterFindByR_G_L(ArrayUtil.toArray(params[1]),groupId,new int[]{ArticleConstants.LATEST_VERSION});
    }
 else {
      curArticles=articlePersistence.filterFindByR_G_L_S(ArrayUtil.toArray(params[1]),groupId,ArticleConstants.LATEST_ANY,status);
    }
    articles.addAll(curArticles);
  }
  if (orderByComparator != null) {
    articles=ListUtil.sort(articles,orderByComparator);
  }
 else {
    articles=KnowledgeBaseUtil.sort(resourcePrimKeys,articles);
  }
  return new UnmodifiableList<Article>(articles);
}
