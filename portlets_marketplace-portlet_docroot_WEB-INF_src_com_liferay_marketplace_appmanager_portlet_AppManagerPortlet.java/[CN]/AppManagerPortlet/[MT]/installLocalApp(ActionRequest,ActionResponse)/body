{
  UploadPortletRequest uploadPortletRequest=PortalUtil.getUploadPortletRequest(actionRequest);
  String fileName=GetterUtil.getString(uploadPortletRequest.getFileName("file"));
  File file=uploadPortletRequest.getFile("file");
  byte[] bytes=FileUtil.getBytes(file);
  if ((bytes == null) || (bytes.length == 0)) {
    SessionErrors.add(actionRequest,UploadException.class.getName());
    return;
  }
  String source=file.toString();
  String deployDir=PrefsPropsUtil.getString(PropsKeys.AUTO_DEPLOY_DEPLOY_DIR);
  String destination=deployDir + StringPool.SLASH + fileName;
  FileUtil.copyFile(source,destination);
  SessionMessages.add(actionRequest,"pluginUploaded");
}
