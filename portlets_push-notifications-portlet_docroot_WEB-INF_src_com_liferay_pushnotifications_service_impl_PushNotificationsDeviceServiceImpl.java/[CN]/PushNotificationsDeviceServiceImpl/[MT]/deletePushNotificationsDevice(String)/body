{
  PushNotificationsDevice pushNotificationsDevice=pushNotificationsDevicePersistence.fetchByToken(token);
  if (pushNotificationsDevice == null) {
    if (_log.isInfoEnabled()) {
      _log.info("No device found with token " + token);
    }
  }
 else {
    if (getUserId() == pushNotificationsDevice.getUserId()) {
      pushNotificationsDevice=pushNotificationsDeviceLocalService.deletePushNotificationsDevice(token);
    }
  }
  return pushNotificationsDevice;
}
