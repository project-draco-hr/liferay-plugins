{
  List<String> badZips=new ArrayList<String>();
  String apiKey=preferences.getValue("apiKey",null);
  String[] zips=preferences.getValues("zips",new String[0]);
  for (  String zip : zips) {
    Weather weather=WeatherUtil.getWeather(apiKey,zip);
    if (weather == null) {
      badZips.add(zip);
    }
  }
  if (badZips.size() > 0) {
    throw new ValidatorException("Failed to retrieve zips",badZips);
  }
}
