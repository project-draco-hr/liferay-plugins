{
  InternalRequest internalRequest=(InternalRequest)message;
  LdapHandler ldapHandler=getLdapHandler(internalRequest);
  if (ldapHandler != null) {
    try {
      LdapHandlerContext ldapHandlerContext=getLdapHandlerContext(ioSession);
      List<InternalResponse> internalResposes=ldapHandler.messageReceived(internalRequest,ioSession,ldapHandlerContext);
      writeResponses(internalResposes,ioSession);
    }
 catch (    Exception e) {
      _log.error(e,e);
    }
  }
 else {
    if (_log.isWarnEnabled()) {
      _log.warn(internalRequest.getType() + " is not supported");
    }
  }
}
