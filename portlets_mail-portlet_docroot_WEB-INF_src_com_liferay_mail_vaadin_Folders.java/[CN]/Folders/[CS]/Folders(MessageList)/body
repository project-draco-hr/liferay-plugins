{
  this.messageList=messageList;
  mainLayout=new VerticalLayout();
  mainLayout.setSizeFull();
  mainPanel=new Accordion();
  mainPanel.setSizeFull();
  mainPanel.setStyleName("borderless");
  accountLayout=new VerticalLayout();
  accountLayout.setCaption(Lang.get("accounts"));
  mainLayout.addComponent(createComposeButton());
  mainLayout.addComponent(mainPanel);
  mainLayout.setExpandRatio(mainPanel,1);
  mainPanel.addComponent(accountLayout);
  tree=new FolderTree(this,messageList);
  accountLayout.addComponent(tree);
  setSizeFull();
  setCompositionRoot(mainLayout);
  Controller.get().addListener(this);
}
