{
  final String token="token";
  final RemoteProject remoteProject=new RemoteProject();
  remoteProject.setKey("test");
  remoteProject.setName("TestProject");
  remoteProject.setId("testID");
  _testContext.checking(new Expectations(){
{
      one(_mockService).getProjects(token);
      RemoteProject[] projects=new RemoteProject[]{remoteProject};
      will(returnValue(projects));
    }
  }
);
  Collection projects=_proxy.getProjects(token);
  _testContext.assertIsSatisfied();
  Assert.assertEquals(projects.size(),1);
  Project project=(Project)projects.iterator().next();
  Assert.assertEquals(project.getKey(),remoteProject.getKey());
  Assert.assertEquals(project.getName(),remoteProject.getName());
  Assert.assertEquals(project.getId(),remoteProject.getId());
}
