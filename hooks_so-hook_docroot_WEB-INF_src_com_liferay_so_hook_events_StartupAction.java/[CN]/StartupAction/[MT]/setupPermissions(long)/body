{
  Role role=RoleLocalServiceUtil.getRole(companyId,RoleConstants.COMMUNITY_MEMBER);
  long roleId=role.getRoleId();
  String name="com.liferay.portlet.blogs";
  int scope=ResourceConstants.SCOPE_GROUP_TEMPLATE;
  String primKey=String.valueOf(GroupConstants.DEFAULT_PARENT_GROUP_ID);
  String[] actionIds=new String[]{ActionKeys.ADD_ENTRY};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
  name="com.liferay.portlet.calendar";
  actionIds=new String[]{ActionKeys.ADD_EVENT,ActionKeys.EXPORT_ALL_EVENTS};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
  name=CalEvent.class.getName();
  actionIds=new String[]{ActionKeys.VIEW};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
  name=Group.class.getName();
  actionIds=new String[]{ActionKeys.ASSIGN_MEMBERS};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
  name="com.liferay.portlet.documentlibrary";
  actionIds=new String[]{ActionKeys.ADD_FOLDER,ActionKeys.ADD_DOCUMENT};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
  name=DLFileEntry.class.getName();
  actionIds=new String[]{ActionKeys.ADD_DISCUSSION,ActionKeys.UPDATE,ActionKeys.VIEW};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
  name=DLFolder.class.getName();
  actionIds=new String[]{ActionKeys.ADD_DOCUMENT,ActionKeys.ADD_SUBFOLDER,ActionKeys.VIEW};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
  name="com.liferay.portlet.messageboards";
  actionIds=new String[]{ActionKeys.ADD_CATEGORY};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
  name=MBCategory.class.getName();
  actionIds=new String[]{ActionKeys.ADD_FILE,ActionKeys.ADD_MESSAGE,ActionKeys.ADD_SUBCATEGORY,ActionKeys.MOVE_THREAD,ActionKeys.REPLY_TO_MESSAGE,ActionKeys.SUBSCRIBE,ActionKeys.VIEW};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
  name=MBMessage.class.getName();
  actionIds=new String[]{ActionKeys.VIEW};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
  name="com.liferay.portlet.wiki";
  actionIds=new String[]{ActionKeys.ADD_NODE};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
  name=WikiNode.class.getName();
  actionIds=new String[]{ActionKeys.ADD_ATTACHMENT,ActionKeys.ADD_PAGE,ActionKeys.SUBSCRIBE,ActionKeys.VIEW};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
  name=WikiPage.class.getName();
  actionIds=new String[]{ActionKeys.ADD_DISCUSSION,ActionKeys.DELETE,ActionKeys.SUBSCRIBE,ActionKeys.UPDATE,ActionKeys.VIEW};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
  role=RoleLocalServiceUtil.getRole(companyId,RoleConstants.COMMUNITY_OWNER);
  roleId=role.getRoleId();
  name=PortletKeys.ANNOUNCEMENTS;
  actionIds=new String[]{ActionKeys.ADD_ENTRY};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
  role=RoleLocalServiceUtil.getRole(companyId,RoleConstants.POWER_USER);
  roleId=role.getRoleId();
  name=PortletKeys.PORTAL;
  scope=ResourceConstants.SCOPE_COMPANY;
  primKey=String.valueOf(companyId);
  actionIds=new String[]{ActionKeys.ADD_COMMUNITY};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
  name=PortletKeys.DIRECTORY;
  actionIds=new String[]{ActionKeys.VIEW};
  ResourcePermissionLocalServiceUtil.setResourcePermissions(companyId,name,scope,primKey,roleId,actionIds);
}
