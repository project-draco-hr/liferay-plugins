{
  KaleoTaskInstanceToken kaleoTaskInstanceToken=kaleoTaskInstanceTokenPersistence.findByPrimaryKey(kaleoTaskInstanceTokenId);
  kaleoTaskInstanceToken.setCompletionUserId(serviceContext.getUserId());
  kaleoTaskInstanceToken.setCompleted(true);
  kaleoTaskInstanceToken.setCompletionDate(new Date());
  kaleoTaskInstanceTokenPersistence.update(kaleoTaskInstanceToken,false);
  kaleoTaskAssignmentInstanceLocalService.completeKaleoTaskInstanceToken(kaleoTaskInstanceTokenId,serviceContext);
  kaleoInstanceTokenLocalService.completeKaleoInstanceToken(kaleoTaskInstanceToken.getKaleoInstanceTokenId());
  return kaleoTaskInstanceToken;
}
