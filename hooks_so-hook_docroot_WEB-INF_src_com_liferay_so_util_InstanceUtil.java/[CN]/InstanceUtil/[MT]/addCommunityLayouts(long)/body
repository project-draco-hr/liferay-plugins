{
  LayoutSetPrototype layoutSetPrototype=addLayoutSetPrototype(companyId,"Social Office Community");
  Group group=layoutSetPrototype.getGroup();
  LayoutLocalServiceUtil.deleteLayouts(group.getGroupId(),true);
  LayoutSetLocalServiceUtil.updateLookAndFeel(group.getGroupId(),"so_WAR_sotheme","01","",false);
  Layout layout=addLayout(group,"Home","/home",PortletPropsValues.SITE_LAYOUT_TEMPLATE);
  addPortlets(group,layout,PortletPropsKeys.SITE_LAYOUT_PORTLETS + "home.");
  configureRSS(layout);
  updatePermissions(layout,true);
  layout=addLayout(group,"Calendar","/calendar","1_column");
  addPortlets(group,layout,PortletPropsKeys.SITE_LAYOUT_PORTLETS + "calendar.");
  removePortletBorder(layout,PortletKeys.CALENDAR);
  updatePermissions(layout,true);
  layout=addLayout(group,"Documents","/documents","2_columns_iii");
  addPortlets(group,layout,PortletPropsKeys.SITE_LAYOUT_PORTLETS + "documents.");
  removePortletBorder(layout,PortletKeys.DOCUMENT_LIBRARY);
  configureAssetPublisher(layout);
  updatePermissions(layout,true);
  layout=addLayout(group,"Forums","/forums","2_columns_iii");
  addPortlets(group,layout,PortletPropsKeys.SITE_LAYOUT_PORTLETS + "forums.");
  removePortletBorder(layout,PortletKeys.MESSAGE_BOARDS);
  configureAssetPublisher(layout);
  configureMessageBoards(layout);
  updatePermissions(layout,true);
  layout=addLayout(group,"Blog","/blog","2_columns_iii");
  addPortlets(group,layout,PortletPropsKeys.SITE_LAYOUT_PORTLETS + "blog.");
  removePortletBorder(layout,PortletKeys.BLOGS);
  configureAssetPublisher(layout);
  updatePermissions(layout,true);
  layout=addLayout(group,"Wiki","/wiki","2_columns_iii");
  addPortlets(group,layout,PortletPropsKeys.SITE_LAYOUT_PORTLETS + "wiki.");
  removePortletBorder(layout,PortletKeys.WIKI);
  configureAssetPublisher(layout);
  updatePermissions(layout,true);
  layout=addLayout(group,"Members","/members","2_columns_ii");
  addPortlets(group,layout,PortletPropsKeys.SITE_LAYOUT_PORTLETS + "members.");
  removePortletBorder(layout,"2_WAR_soportlet");
  removePortletBorder(layout,"3_WAR_soportlet");
  removePortletBorder(layout,"4_WAR_soportlet");
  updatePermissions(layout,true);
}
