{
  StringBundler sb=new StringBundler(15);
  sb.append("<div class=\"activity-body\"><div class=\"title\">");
  String pageTitle=StringPool.BLANK;
  AssetRenderer assetRenderer=getAssetRenderer(activity.getClassName(),activity.getClassPK());
  LiferayPortletRequest liferayPortletRequest=serviceContext.getLiferayPortletRequest();
  if (Validator.isNotNull(assetRenderer.getIconPath(liferayPortletRequest))) {
    pageTitle=wrapLink(getLinkURL(activity.getClassName(),activity.getClassPK(),serviceContext),assetRenderer.getIconPath(liferayPortletRequest),HtmlUtil.escape(assetRenderer.getTitle(serviceContext.getLocale())));
  }
 else {
    pageTitle=wrapLink(getLinkURL(activity.getClassName(),activity.getClassPK(),serviceContext),HtmlUtil.escape(assetRenderer.getTitle(serviceContext.getLocale())));
  }
  sb.append(pageTitle);
  sb.append("</div><div class=\"date\"><strong>");
  sb.append(serviceContext.translate("date"));
  sb.append(": </strong>");
  Format dateFormatDate=getFormatDateTime(serviceContext.getLocale(),serviceContext.getTimeZone());
  CalEvent event=CalEventLocalServiceUtil.getEvent(activity.getClassPK());
  sb.append(dateFormatDate.format((event.getStartDate())));
  sb.append("</div><div class=\"location\"><strong>");
  sb.append(serviceContext.translate("location"));
  sb.append(": </strong>");
  sb.append(event.getLocation());
  sb.append("</div><div class=\"description\"><strong>");
  sb.append(serviceContext.translate("description"));
  sb.append(": </strong>");
  sb.append(StringUtil.shorten(assetRenderer.getSummary(serviceContext.getLocale()),200));
  sb.append("</div></div>");
  return sb.toString();
}
