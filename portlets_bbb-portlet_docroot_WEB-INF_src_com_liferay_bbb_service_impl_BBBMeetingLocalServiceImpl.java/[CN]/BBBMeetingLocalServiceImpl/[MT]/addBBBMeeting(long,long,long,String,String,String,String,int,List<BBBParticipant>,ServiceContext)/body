{
  User user=userPersistence.findByPrimaryKey(userId);
  Date now=new Date();
  long bbbMeetingId=counterLocalService.increment();
  BBBMeeting bbbMeeting=bbbMeetingPersistence.create(bbbMeetingId);
  bbbMeeting.setGroupId(groupId);
  bbbMeeting.setCompanyId(user.getCompanyId());
  bbbMeeting.setUserId(user.getUserId());
  bbbMeeting.setUserName(user.getFullName());
  bbbMeeting.setCreateDate(serviceContext.getCreateDate(now));
  bbbMeeting.setModifiedDate(serviceContext.getModifiedDate(now));
  bbbMeeting.setBbbServerId(bbbServerId);
  bbbMeeting.setName(name);
  bbbMeeting.setDescription(description);
  bbbMeeting.setAttendeePassword(attendeePassword);
  bbbMeeting.setModeratorPassword(moderatorPassword);
  bbbMeeting.setStatus(status);
  bbbMeetingPersistence.update(bbbMeeting);
  resourceLocalService.addModelResources(bbbMeeting,serviceContext);
  updateBBBParticipants(userId,groupId,bbbMeetingId,bbbParticipants,serviceContext);
  return bbbMeeting;
}
