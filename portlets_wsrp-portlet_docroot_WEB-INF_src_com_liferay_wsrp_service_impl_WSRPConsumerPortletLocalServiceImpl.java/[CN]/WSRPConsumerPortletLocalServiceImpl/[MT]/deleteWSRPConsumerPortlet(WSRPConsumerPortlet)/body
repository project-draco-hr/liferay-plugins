{
  Portlet portlet=_portletsPool.get(wsrpConsumerPortlet.getWsrpConsumerPortletId());
  if (portlet != null) {
    PortletLocalServiceUtil.destroyRemotePortlet(portlet);
    PortletInstanceFactoryUtil.destroy(portlet);
  }
  wsrpConsumerPortletPersistence.remove(wsrpConsumerPortlet);
  Message message=new Message();
  message.put("command","delete");
  WSRPConsumer wsrpConsumer=wsrpConsumerPersistence.findByPrimaryKey(wsrpConsumerPortlet.getWsrpConsumerId());
  message.put("url",wsrpConsumer.getUrl());
  message.put("wsrpConsumerPortletId",wsrpConsumerPortlet.getWsrpConsumerPortletId());
  MessageBusUtil.sendMessage(DestinationNames.WSRP,message);
}
