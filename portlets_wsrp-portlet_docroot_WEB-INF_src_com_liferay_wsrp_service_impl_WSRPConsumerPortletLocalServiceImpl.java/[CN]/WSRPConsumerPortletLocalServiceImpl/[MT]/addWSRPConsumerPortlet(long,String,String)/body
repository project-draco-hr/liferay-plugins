{
  Date now=new Date();
  validate(name);
  long wsrpConsumerPortletId=CounterLocalServiceUtil.increment();
  WSRPConsumerPortlet wsrpConsumerPortlet=wsrpConsumerPortletPersistence.create(wsrpConsumerPortletId);
  wsrpConsumerPortlet.setCreateDate(now);
  wsrpConsumerPortlet.setModifiedDate(now);
  wsrpConsumerPortlet.setWsrpConsumerId(wsrpConsumerId);
  wsrpConsumerPortlet.setName(name);
  wsrpConsumerPortlet.setPortletHandle(portletHandle);
  wsrpConsumerPortletPersistence.update(wsrpConsumerPortlet,false);
  initWSRPConsumerPortlet(wsrpConsumerPortlet);
  return wsrpConsumerPortlet;
}
