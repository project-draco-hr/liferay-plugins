{
  if (!(attribute instanceof BaseModel)) {
    return null;
  }
  try {
    BaseModel<?> baseModel=(BaseModel<?>)attribute;
    String servletContextName=PortalUtil.getServletContextName(baseModel);
    String className=baseModel.getClass().getName();
    BasePersistence basePersistence=PortalUtil.getBasePersistence(servletContextName,className);
    basePersistence.update(baseModel,true);
    Serializable primaryKeyObj=baseModel.getPrimaryKeyObj();
    if (primaryKeyObj instanceof Long) {
      return new ServiceBuilderObjectIdentityLong(servletContextName,className,primaryKeyObj,attributeName,attribute);
    }
 else {
      return new ServiceBuilderObjectIdentity(servletContextName,className,primaryKeyObj,attributeName,attribute);
    }
  }
 catch (  Exception e) {
    throw new ProcessException(e.getMessage(),e);
  }
}
