{
  List<WorkflowInstance> workflowInstances=null;
  try {
    if (onlyOpen) {
      workflowInstances=WorkflowInstanceUtil.findByC_P_R_F(parentInstance.getTenantId(),parentInstance.getPrimaryKey(),cause,false);
    }
 else {
      workflowInstances=WorkflowInstanceUtil.findByC_P_R(parentInstance.getTenantId(),parentInstance.getPrimaryKey(),cause);
    }
    return (List<? extends MutableProcessInstance>)WorkflowEntityTransferUtil.transferLoadedObjects(workflowInstances,(WorkflowInstanceImpl)parentInstance,false);
  }
 catch (  SystemException se) {
    throw new ProcessException("Could not load children for workflow instance with id " + parentInstance.getPrimaryKey(),se);
  }
}
