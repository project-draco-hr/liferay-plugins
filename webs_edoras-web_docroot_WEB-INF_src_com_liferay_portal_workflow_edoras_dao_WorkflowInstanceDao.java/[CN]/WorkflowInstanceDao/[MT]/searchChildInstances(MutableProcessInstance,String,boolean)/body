{
  List<WorkflowInstance> list=null;
  try {
    if (onlyOpen) {
      list=WorkflowInstanceUtil.findByC_P_R_F(parentInstance.getTenantId(),parentInstance.getPrimaryKey(),cause,false);
    }
 else {
      list=WorkflowInstanceUtil.findByC_P_R(parentInstance.getTenantId(),parentInstance.getPrimaryKey(),cause);
    }
    return (List<? extends MutableProcessInstance>)WorkflowEntityTransferUtil.transferLoadedObjects(list,(WorkflowInstanceImpl)parentInstance,false);
  }
 catch (  SystemException se) {
    throw new ProcessException("Could not load children for workflow instance with id [" + parentInstance.getPrimaryKey() + "]",se);
  }
}
