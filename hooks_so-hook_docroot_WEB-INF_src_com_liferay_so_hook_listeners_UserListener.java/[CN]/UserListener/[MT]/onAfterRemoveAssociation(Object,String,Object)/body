{
  try {
    if (!associationClassPK.equals(Role.class.getName())) {
      return;
    }
    Role role=RoleLocalServiceUtil.getRole((Long)associationClassPK);
    String name=role.getName();
    if (!name.equals(RoleConstants.SOCIAL_OFFICE_USER)) {
      return;
    }
    User user=UserLocalServiceUtil.getUser((Long)classPK);
    Group group=user.getGroup();
    ExpandoBridge expandoBridge=group.getExpandoBridge();
    boolean socialOfficeEnabled=GetterUtil.getBoolean(expandoBridge.getAttribute("socialOfficeEnabled"));
    if (!socialOfficeEnabled) {
      return;
    }
    LayoutSetPrototypeUtil.removeLayoutSetPrototype(group,false,SocialOfficeConstants.LAYOUT_SET_PROTOTYPE_KEY_USER_PUBLIC);
    LayoutSetPrototypeUtil.removeLayoutSetPrototype(group,true,SocialOfficeConstants.LAYOUT_SET_PROTOTYPE_KEY_USER_PRIVATE);
    SocialOfficeUtil.disableSocialOffice(group);
  }
 catch (  NoSuchGroupException nsge) {
  }
catch (  Exception e) {
    throw new ModelListenerException(e);
  }
}
