{
  try {
    if (!associationClassName.equals(Role.class.getName())) {
      return;
    }
    Role role=RoleLocalServiceUtil.getRole((Long)associationClassPK);
    if (role.getName().equals(RoleConstants.SOCIAL_OFFICE_USER)) {
      User user=UserLocalServiceUtil.getUser((Long)classPK);
      Group group=user.getGroup();
      ServiceContext serviceContext=new ServiceContext();
      LayoutSetLocalServiceUtil.deleteLayoutSet(group.getGroupId(),false,serviceContext);
      LayoutSetLocalServiceUtil.deleteLayoutSet(group.getGroupId(),true,serviceContext);
      LayoutSetLocalServiceUtil.addLayoutSet(group.getGroupId(),false);
      LayoutSetLocalServiceUtil.addLayoutSet(group.getGroupId(),true);
      UnicodeProperties typeSettingsProperties=group.getTypeSettingsProperties();
      typeSettingsProperties.remove("customJspServletContextName");
      GroupLocalServiceUtil.updateGroup(group.getGroupId(),typeSettingsProperties.toString());
    }
  }
 catch (  Exception e) {
    throw new ModelListenerException(e);
  }
}
