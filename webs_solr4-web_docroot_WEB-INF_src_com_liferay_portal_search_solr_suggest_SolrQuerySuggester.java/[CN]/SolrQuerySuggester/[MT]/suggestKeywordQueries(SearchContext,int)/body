{
  SolrQuery solrQuery=new SolrQuery();
  StringBundler sb=new StringBundler(6);
  sb.append("start");
  sb.append(searchContext.getKeywords().length());
  sb.append(StringPool.COLON);
  sb.append(StringPool.QUOTE);
  sb.append(searchContext.getKeywords());
  sb.append(StringPool.QUOTE);
  solrQuery.setQuery(sb.toString());
  solrQuery.setRows(max);
  solrQuery.setFilterQueries(getFilterQueries(searchContext,QUERY_SUGGESTION_TYPE));
  try {
    QueryResponse queryResponse=_solrServer.query(solrQuery);
    SolrDocumentList solrDocumentList=queryResponse.getResults();
    int numDocuments=solrDocumentList.size();
    String[] results=new String[numDocuments];
    for (int i=0; i < numDocuments; i++) {
      SolrDocument solrDocument=solrDocumentList.get(i);
      results[i]=(String)solrDocument.getFieldValue(Field.KEYWORD_SEARCH);
    }
    return results;
  }
 catch (  Exception e) {
    if (_log.isDebugEnabled()) {
      _log.debug("Unable to execute Solr query",e);
    }
    throw new SearchException(e.getMessage());
  }
}
