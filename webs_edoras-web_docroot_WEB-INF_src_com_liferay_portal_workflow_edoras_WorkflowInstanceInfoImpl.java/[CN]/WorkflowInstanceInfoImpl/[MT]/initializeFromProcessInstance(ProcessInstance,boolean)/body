{
  _context=new HashMap<String,Object>();
  processInstance.getAttributeMap().copyTo(_context);
  _currentNodeName=processInstance.getCurrentElement();
  _endDate=processInstance.getFinishedAt();
  _relationId=processInstance.getRelationId();
  _relationType=processInstance.getRelationType();
  _startDate=processInstance.getCreatedAt();
  _workflowDefinitionName=processInstance.getProcessModelId();
  _workflowDefinitionVersion=processInstance.getProcessModelVersion();
  _workflowInstanceId=processInstance.getPrimaryKey();
  if (includeChildren) {
    List<ProcessInstance> children=processInstance.getChildren();
    _children=new ArrayList<WorkflowInstanceInfo>(children.size());
    for (    ProcessInstance child : children) {
      _children.add(new WorkflowInstanceInfoImpl(child,true));
    }
  }
  ProcessInstance parent=processInstance.getParent();
  if (parent != null) {
    _parent=new WorkflowInstanceInfoImpl(parent,false);
  }
}
