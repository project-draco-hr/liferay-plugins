{
  mainLayout=new VerticalLayout();
  mainLayout.setHeight("100%");
  setHeight("-1px");
  setWidth("100.0%");
  setHeight("100.0%");
  fromLayout=buildFromLayout();
  fromLayout.setStyleName("black");
  fromLayout.setImmediate(false);
  fromLayout.setHeight("-1px");
  fromLayout.setWidth("100.0%");
  mainLayout.addComponent(fromLayout);
  innerLayout=new VerticalLayout();
  innerLayout.setImmediate(false);
  innerLayout.setHeight("-1px");
  innerLayout.setWidth("100.0%");
  mainLayout.addComponent(innerLayout);
  recipientsLayout=buildRecipientsLayout();
  recipientsLayout.setImmediate(false);
  recipientsLayout.setHeight("-1px");
  recipientsLayout.setWidth("100.0%");
  innerLayout.addComponent(recipientsLayout);
  subjectLayout=buildSubjectLayout();
  subjectLayout.setStyleName("blue");
  subjectLayout.setImmediate(false);
  subjectLayout.setHeight("-1px");
  subjectLayout.setWidth("100.0%");
  innerLayout.addComponent(subjectLayout);
  messageLayout=buildMessageLayout();
  messageLayout.setImmediate(false);
  messageLayout.setHeight("100.0%");
  messageLayout.setWidth("100.0%");
  innerLayout.addComponent(messageLayout);
  bottomLayout=new VerticalLayout();
  bottomLayout.setSpacing(true);
  bottomLayout.setStyleName("blue");
  bottomLayout.setWidth("100.0%");
  innerLayout.addComponent(bottomLayout);
  addAttachment=new Button(Lang.get("add-attachment"),new Button.ClickListener(){
    public void buttonClick(    ClickEvent event){
      addAttachment();
    }
  }
);
  addAttachment.setStyleName("small");
  addAttachment.setImmediate(true);
  addAttachment.setHeight("-1px");
  addAttachment.setWidth("-1px");
  bottomLayout.addComponent(addAttachment);
  actionsLayout=buildActionsLayout();
  actionsLayout.setStyleName("black");
  actionsLayout.setImmediate(false);
  actionsLayout.setHeight("-1px");
  actionsLayout.setWidth("100.0%");
  mainLayout.addComponent(actionsLayout);
  return mainLayout;
}
