{
  SyncEngineUtil.fireSyncEngineStateChanged(SyncEngineUtil.SYNC_ENGINE_STATE_STOPPING);
  _logger.info("Stopping {}",PropsValues.SYNC_PRODUCT_NAME);
  for (  long syncAccountId : _syncAccountTasks.keySet()) {
    cancelSyncAccountTasks(syncAccountId);
  }
  _syncWatchEventProcessorExecutorService.shutdown();
  SyncAccountService.unregisterModelListener(_syncAccountModelListener);
  SyncFileService.unregisterModelListener(_syncFileModelListener);
  SyncSiteService.unregisterModelListener(_syncSiteModelListener);
  SyncEngineUtil.fireSyncEngineStateChanged(SyncEngineUtil.SYNC_ENGINE_STATE_STOPPED);
  _running=false;
}
