{
  setDataSource(InfrastructureUtil.getDataSource());
  setSessionFactory((SessionFactory)PortalBeanLocatorUtil.locate("liferaySessionFactory"));
  ClassLoader classLoader=PortalClassLoaderUtil.getClassLoader();
  try {
    _userImplClass=classLoader.loadClass("com.liferay.portal.model.impl.UserImpl");
  }
 catch (  ClassNotFoundException cnfe) {
    throw new RuntimeException(cnfe.getMessage(),cnfe);
  }
}
