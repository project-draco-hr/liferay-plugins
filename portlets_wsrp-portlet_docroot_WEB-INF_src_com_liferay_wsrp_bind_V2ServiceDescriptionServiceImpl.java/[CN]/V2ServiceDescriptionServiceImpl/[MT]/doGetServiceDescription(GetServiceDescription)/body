{
  WSRPProducer wsrpProducer=null;
  try {
    wsrpProducer=getWSRPProducer();
  }
 catch (  NoSuchProducerException e) {
    _log.warn(e.getMessage());
    return null;
  }
  ServiceDescription serviceDescription=new ServiceDescription();
  serviceDescription.setOfferedPortlets(getPortletDescriptions(wsrpProducer));
  serviceDescription.setRequiresInitCookie(_cookieProtocol);
  return serviceDescription;
}
