{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  Layout layout=themeDisplay.getLayout();
  Group group=layout.getGroup();
  if (themeDisplay.isSignedIn() && layout.getLayoutId() == 1 && group.getName().equals(GroupConstants.GUEST)) {
    try {
      User user=themeDisplay.getUser();
      String redirect="/web/" + user.getScreenName() + "/home";
      response.sendRedirect(redirect);
    }
 catch (    Exception e) {
      if (_log.isWarnEnabled()) {
        _log.warn(e,e);
      }
    }
  }
}
