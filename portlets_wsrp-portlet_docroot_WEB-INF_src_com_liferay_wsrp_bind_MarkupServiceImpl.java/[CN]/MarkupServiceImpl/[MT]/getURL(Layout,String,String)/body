{
  HttpServletRequest request=ServletUtil.getRequest();
  String portalURL=PortalUtil.getPortalURL(request);
  String mainPath=PortalUtil.getPathMain();
  StringBuilder sb=new StringBuilder();
  sb.append(portalURL);
  sb.append(mainPath);
  sb.append(_PATH_RENDER_PORTLET);
  sb.append(StringPool.QUESTION);
  sb.append("p_l_id=");
  sb.append(layout.getPlid());
  sb.append("&p_p_id=");
  sb.append(portletId);
  sb.append("&p_p_lifecycle=0&p_p_state=exclusive&p_p_mode=");
  sb.append(portletMode.substring(5));
  return sb.toString();
}
