{
  String cmd=ParamUtil.getString(req,Constants.CMD);
  if (!cmd.equals(Constants.UPDATE)) {
    return;
  }
  PortletPreferences prefs=req.getPreferences();
  boolean safeSearch=ParamUtil.getBoolean(req,"safeSearch");
  prefs.setValue("safe-search",Boolean.toString(safeSearch));
  prefs.store();
  PortletConfig config=getPortletConfig();
  SessionMessages.add(req,config.getPortletName() + ".doEdit");
}
