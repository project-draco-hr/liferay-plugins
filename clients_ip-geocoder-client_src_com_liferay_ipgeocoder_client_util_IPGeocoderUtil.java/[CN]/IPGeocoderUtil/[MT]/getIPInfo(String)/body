{
  JSONObject ipGeocoderRequestJSON=JSONFactoryUtil.createJSONObject();
  ipGeocoderRequestJSON.put("ipAddress",ipAddress);
  String ipGeocoderResponse=MessageBusUtil.sendSynchronizedMessage(DestinationNames.IP_GEOCODER,ipGeocoderRequestJSON.toString());
  if (ipGeocoderResponse == null) {
    return null;
  }
  JSONObject ipGeocoderResponseJSON=JSONFactoryUtil.createJSONObject(ipGeocoderResponse);
  JSONObject ipInfoJSON=ipGeocoderResponseJSON.getJSONObject("ipInfo");
  if (ipInfoJSON == null) {
    return null;
  }
  float latitude=GetterUtil.getFloat(ipInfoJSON.getString("latitude"));
  float longitude=GetterUtil.getFloat(ipInfoJSON.getString("longitude"));
  if ((latitude == 0) && (longitude == 0)) {
    return null;
  }
  return new IPInfo(ipAddress,latitude,longitude);
}
