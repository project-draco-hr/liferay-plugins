{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  long resourcePrimKey=ParamUtil.getLong(request,NAMESPACE + "resourcePrimKey");
  if (resourcePrimKey <= 0) {
    return null;
  }
  String articleURL=getArticleURL(false,resourcePrimKey,themeDisplay);
  if (articleURL == null) {
    articleURL=getArticleURL(true,resourcePrimKey,themeDisplay);
  }
  if (articleURL == null) {
    articleURL=getAdminPortletURL(resourcePrimKey,themeDisplay);
  }
  if (articleURL == null) {
    articleURL=getDisplayPortletURL(resourcePrimKey,request);
  }
  return articleURL;
}
