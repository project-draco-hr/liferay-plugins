{
  KaleoTaskInstanceToken kaleoTaskInstanceToken=executionContext.getKaleoTaskInstanceToken();
  if (kaleoTaskInstanceToken == null) {
    return;
  }
  List<KaleoTaskAssignmentInstance> kaleoTaskAssignmentInstances=kaleoTaskInstanceToken.getKaleoTaskAssignmentInstances();
  for (  KaleoTaskAssignmentInstance kaleoTaskAssignmentInstance : kaleoTaskAssignmentInstances) {
    String assigneeClassName=kaleoTaskAssignmentInstance.getAssigneeClassName();
    if (assigneeClassName.equals(User.class.getName())) {
      getUserEmailAddress(kaleoTaskAssignmentInstance.getAssigneeClassPK(),internetAddresses,executionContext);
    }
 else {
      long roleId=kaleoTaskAssignmentInstance.getAssigneeClassPK();
      Role role=RoleLocalServiceUtil.getRole(roleId);
      getRoleRecipientAddresses(roleId,role.getType(),internetAddresses,executionContext);
    }
  }
}
