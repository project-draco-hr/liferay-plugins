{
  List<InternetAddress> internetAddresses=new ArrayList<InternetAddress>();
  if (kaleoNotificationRecipients.isEmpty()) {
    getAssignedRecipients(internetAddresses,executionContext);
  }
 else {
    for (    KaleoNotificationRecipient kaleoNotificationRecipient : kaleoNotificationRecipients) {
      if (Validator.isNotNull(kaleoNotificationRecipient.getAddress())) {
        InternetAddress internetAddress=new InternetAddress(kaleoNotificationRecipient.getAddress());
        internetAddresses.add(internetAddress);
      }
 else {
        String recipientClassName=kaleoNotificationRecipient.getRecipientClassName();
        if (User.class.getName().equals(recipientClassName)) {
          getUserEmailAddress(kaleoNotificationRecipient.getRecipientClassPK(),internetAddresses);
        }
 else {
          getRoleRecipientAddresses(kaleoNotificationRecipient.getRecipientRoleType(),kaleoNotificationRecipient.getRecipientClassPK(),internetAddresses,executionContext);
        }
      }
    }
  }
  return internetAddresses.toArray(new InternetAddress[internetAddresses.size()]);
}
