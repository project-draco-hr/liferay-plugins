{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  long companyId=themeDisplay.getCompanyId();
  long groupId=themeDisplay.getScopeGroupId();
  int cur=ParamUtil.getInteger(actionRequest,ReportDefinitionSearch.DEFAULT_CUR_PARAM,ReportDefinitionSearch.DEFAULT_CUR);
  int delta=ParamUtil.getInteger(actionRequest,ReportDefinitionSearch.DEFAULT_DELTA_PARAM,ReportDefinitionSearch.DEFAULT_DELTA);
  int start=(cur - 1) * delta;
  int end=start + delta;
  boolean isAdvancedSearch=ParamUtil.getBoolean(actionRequest,ReportDefinitionDisplayTerms.ADVANCED_SEARCH);
  try {
    if (isAdvancedSearch) {
      performAdvancedSearch(actionRequest,actionResponse,themeDisplay,start,end);
    }
 else {
      performBasicSearch(actionRequest,actionResponse,companyId,groupId,start,end);
    }
    actionResponse.setRenderParameter(ReportDefinitionSearch.DEFAULT_CUR_PARAM,String.valueOf(cur));
    actionResponse.setRenderParameter(ReportDefinitionSearch.DEFAULT_DELTA_PARAM,String.valueOf(delta));
    actionResponse.setRenderParameter(ReportDefinitionDisplayTerms.ADVANCED_SEARCH,String.valueOf(isAdvancedSearch));
  }
 catch (  SystemException e) {
    throw new PortletException("Unable to retrieve report definitions",e);
  }
  return false;
}
