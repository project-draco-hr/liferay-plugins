{
  List<MessageElement> formParameters=new ArrayList<MessageElement>();
  Enumeration<String> enu=portletRequest.getParameterNames();
  while (enu.hasMoreElements()) {
    String name=enu.nextElement();
    if (isReservedParameter(name)) {
      continue;
    }
    String[] values=portletRequest.getParameterValues(name);
    if (values == null) {
      continue;
    }
    for (    String value : values) {
      ExtensionUtil.addMessageElement(formParameters,name,value);
    }
  }
  if (!formParameters.isEmpty()) {
    mimeRequest.setExtensions(ExtensionUtil.getExtensions(formParameters));
  }
}
