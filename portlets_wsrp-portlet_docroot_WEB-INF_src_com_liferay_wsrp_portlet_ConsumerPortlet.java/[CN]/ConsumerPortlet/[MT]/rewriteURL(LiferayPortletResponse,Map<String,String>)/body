{
  String lifecycle=parameterMap.get("wsrp-urlType");
  LiferayPortletURL portletURL=null;
  if (lifecycle.equals("blockingAction")) {
    portletURL=(LiferayPortletURL)portletResponse.createActionURL();
  }
 else   if (lifecycle.equals("render")) {
    portletURL=(LiferayPortletURL)portletResponse.createRenderURL();
  }
 else   if (lifecycle.equals("resource")) {
    portletURL=(LiferayPortletURL)portletResponse.createResourceURL();
  }
  for (  Map.Entry<String,String> parameter : parameterMap.entrySet()) {
    String name=parameter.getKey();
    String value=parameter.getValue();
    if (name.equals("wsrp-mode")) {
      portletURL.setPortletMode(getPortletMode(value));
    }
 else     if (name.equals("wsrp-resourceID")) {
      portletURL.setResourceID(value);
    }
 else     if (name.equals("wsrp-urlType")) {
    }
 else     if (name.equals("wsrp-windowState")) {
      portletURL.setWindowState(getWindowState(value));
    }
 else {
      portletURL.setParameter(name,value);
    }
  }
  return portletURL.toString();
}
