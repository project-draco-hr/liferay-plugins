{
  int pos1=friendlyURLPath.indexOf("/",1);
  int pos2=friendlyURLPath.indexOf("/",pos1 + 1);
  int pos3=friendlyURLPath.indexOf("/",pos2 + 1);
  int pos4=friendlyURLPath.indexOf("/",pos3 + 1);
  int pos5=friendlyURLPath.indexOf("/",pos4 + 1);
  int pos6=friendlyURLPath.indexOf("/",pos5 + 1);
  String portletId=friendlyURLPath.substring(pos1 + 1,pos2);
  addParam(params,"p_p_id",portletId);
  addParam(params,"p_p_state",friendlyURLPath.substring(pos2 + 1,pos3));
  addParam(params,"p_p_mode",friendlyURLPath.substring(pos3 + 1,pos4));
  addParam(params,"p_p_resource_id",friendlyURLPath.substring(pos4 + 1,pos5));
  addParam(params,"p_p_cacheability",friendlyURLPath.substring(pos5 + 1,pos6));
  String name=PortalUtil.getPortletNamespace(portletId) + "wsrp-navigationalState";
  addParam(params,name,friendlyURLPath.substring(pos6 + 1));
}
