{
  ObjectMapper objectMapper=new ObjectMapper();
  SyncDLObjectUpdate syncDLObjectUpdate=objectMapper.readValue(response,new TypeReference<SyncDLObjectUpdate>(){
  }
);
  for (  SyncFile syncFile : syncDLObjectUpdate.getSyncDLObjects()) {
    SyncFile parentSyncFile=SyncFileService.fetchSyncFile(syncFile.getParentFolderId(),syncFile.getRepositoryId(),getSyncAccountId());
    String filePathName=null;
    if (parentSyncFile != null) {
      filePathName=FilePathNameUtil.getFilePathName(parentSyncFile.getFilePathName(),syncFile.getName());
    }
    syncFile.setFileKey(FileUtil.getFileKey(filePathName));
    syncFile.setFilePathName(filePathName);
    syncFile.setSyncAccountId(getSyncAccountId());
    SyncFileService.update(syncFile);
    Map<String,Object> parameters=new HashMap<String,Object>();
    parameters.put("patch",false);
    parameters.put("syncFile",syncFile);
    DownloadFileEvent downloadFileEvent=new DownloadFileEvent(getSyncAccountId(),parameters);
    downloadFileEvent.run();
  }
}
