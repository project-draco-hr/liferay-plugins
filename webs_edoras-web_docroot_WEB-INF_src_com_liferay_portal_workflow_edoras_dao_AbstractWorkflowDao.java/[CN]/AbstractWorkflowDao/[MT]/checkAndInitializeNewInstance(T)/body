{
  if (workflowEntity.getPrimaryKey() == 0) {
    try {
      workflowEntity.setNew(true);
      workflowEntity.setPrimaryKey(CounterLocalServiceUtil.increment());
      return true;
    }
 catch (    SystemException se) {
      throw new ProcessException("Could not obtain a new primary key from counter service",se);
    }
  }
 else {
    workflowEntity.setNew(false);
    return false;
  }
}
