{
  validate(title,content);
  KBTemplate kbTemplate=kbTemplatePersistence.findByPrimaryKey(kbTemplateId);
  kbTemplate.setModifiedDate(serviceContext.getModifiedDate(null));
  kbTemplate.setTitle(title);
  kbTemplate.setContent(content);
  kbTemplate.setDescription(description);
  kbTemplatePersistence.update(kbTemplate,false);
  if ((serviceContext.getCommunityPermissions() != null) || (serviceContext.getGuestPermissions() != null)) {
    updateKBTemplateResources(kbTemplate,serviceContext.getCommunityPermissions(),serviceContext.getGuestPermissions());
  }
  socialActivityLocalService.addActivity(kbTemplate.getUserId(),kbTemplate.getGroupId(),KBTemplate.class.getName(),kbTemplateId,AdminActivityKeys.UPDATE_KB_TEMPLATE,StringPool.BLANK,0);
  return kbTemplate;
}
