{
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  PermissionChecker permissionChecker=themeDisplay.getPermissionChecker();
  long groupId=themeDisplay.getScopeGroupId();
  long gadgetId=ParamUtil.getLong(actionRequest,"gadgetId");
  GadgetPermission.check(permissionChecker,groupId,gadgetId,ActionKeys.DELETE);
  try {
    GadgetLocalServiceUtil.deleteGadget(gadgetId);
  }
 catch (  PortalException pe) {
    SessionErrors.add(actionRequest,pe.getClass().getName());
  }
}
