{
  if (injector == null) {
    HttpServletRequest httpServletRequest=(HttpServletRequest)servletRequest;
    _init(httpServletRequest.getSession().getServletContext());
  }
  PermissionChecker permissionChecker=PermissionThreadLocal.getPermissionChecker();
  if (permissionChecker == null) {
    setPermissionChecker(servletRequest);
  }
  String host=servletRequest.getServerName().concat(StringPool.COLON).concat(String.valueOf(servletRequest.getServerPort()));
  ShindigUtil.setHost(host);
  filterChain.doFilter(servletRequest,servletResponse);
}
