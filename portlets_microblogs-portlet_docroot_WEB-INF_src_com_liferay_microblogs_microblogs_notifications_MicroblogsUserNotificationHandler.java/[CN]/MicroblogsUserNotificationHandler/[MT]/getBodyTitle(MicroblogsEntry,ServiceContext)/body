{
  String title=StringPool.BLANK;
  String userFullName=HtmlUtil.escape(PortalUtil.getUserName(microblogsEntry.getUserId(),StringPool.BLANK));
  long parentMicroblogsEntryId=MicroblogsUtil.getParentMicroblogsEntryId(microblogsEntry);
  if (microblogsEntry.getType() == MicroblogsEntryConstants.TYPE_REPLY) {
    if (MicroblogsUtil.getParentMicroblogsUserId(microblogsEntry) == serviceContext.getUserId()) {
      title=serviceContext.translate("x-commented-on-your-post",userFullName);
    }
 else     if (MicroblogsUtil.hasReplied(parentMicroblogsEntryId,serviceContext.getUserId())) {
      User receiverUser=UserLocalServiceUtil.fetchUser(microblogsEntry.getReceiverUserId());
      if (receiverUser != null) {
        title=serviceContext.translate("x-also-commented-on-x's-post",userFullName,receiverUser.getFullName());
      }
    }
 else     if (MicroblogsUtil.isTaggedUser(parentMicroblogsEntryId,serviceContext.getUserId())) {
      title=serviceContext.translate("x-commented-on-a-post-you-are-tagged-in",userFullName);
    }
  }
 else   if (MicroblogsUtil.isTaggedUser(parentMicroblogsEntryId,serviceContext.getUserId())) {
    title=serviceContext.translate("x-tagged-you-in-a-post",userFullName);
  }
  return title;
}
