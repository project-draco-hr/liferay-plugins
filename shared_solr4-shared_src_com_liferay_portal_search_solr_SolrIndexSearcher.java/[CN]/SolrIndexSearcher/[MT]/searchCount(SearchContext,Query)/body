{
  StopWatch stopWatch=new StopWatch();
  stopWatch.start();
  try {
    QueryResponse queryResponse=search(searchContext,query,searchContext.getStart(),searchContext.getEnd(),true);
    SolrDocumentList solrDocumentList=queryResponse.getResults();
    return solrDocumentList.getNumFound();
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      _log.warn(e,e);
    }
    if (!_swallowException) {
      throw new SearchException(e.getMessage());
    }
    return 0;
  }
 finally {
    if (_log.isInfoEnabled()) {
      stopWatch.stop();
      _log.info("Searching " + query.toString() + " took "+ stopWatch.getTime()+ " ms");
    }
  }
}
