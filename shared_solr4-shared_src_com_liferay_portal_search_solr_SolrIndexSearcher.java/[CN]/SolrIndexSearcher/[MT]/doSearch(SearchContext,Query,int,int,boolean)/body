{
  QueryConfig queryConfig=query.getQueryConfig();
  SolrQuery solrQuery=new SolrQuery();
  if (!count) {
    addFacets(solrQuery,searchContext);
    addHighlights(solrQuery,queryConfig);
    addPagination(solrQuery,start,end);
    addSelectedFields(solrQuery,queryConfig);
    addSort(solrQuery,searchContext.getSorts());
    solrQuery.setIncludeScore(queryConfig.isScoreEnabled());
  }
 else {
    solrQuery.setRows(0);
  }
  QueryTranslatorUtil.translateForSolr(query);
  String queryString=translateQuery(searchContext,query);
  solrQuery.setQuery(queryString);
  QueryResponse queryResponse=doRequest(solrQuery);
  if (_log.isInfoEnabled()) {
    _log.info("The search engine processed " + solrQuery.toString() + " in "+ queryResponse.getElapsedTime()+ " ms");
  }
  return queryResponse;
}
