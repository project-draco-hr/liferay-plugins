{
  AuthVerifierResult result=new AuthVerifierResult();
  String keyFromConfiguration=configuration.getProperty("key");
  HttpServletRequest request=accessControlContext.getRequest();
  String keyFromRequest=ParamUtil.get(request,"key",StringPool.BLANK);
  if (!keyFromConfiguration.equals(keyFromRequest)) {
    return result;
  }
  long companyId=PortalUtil.getCompanyId(request);
  try {
    Role adminRole=RoleLocalServiceUtil.getRole(companyId,"Administrator");
    long[] adminIds=UserLocalServiceUtil.getRoleUserIds(adminRole.getRoleId());
    long adminId=0;
    if (adminIds.length > 0) {
      adminId=adminIds[0];
    }
    result.setState(AuthVerifierResult.State.SUCCESS);
    result.setUserId(adminId);
  }
 catch (  Exception e) {
    throw new AuthException(e.getMessage(),e);
  }
  return result;
}
