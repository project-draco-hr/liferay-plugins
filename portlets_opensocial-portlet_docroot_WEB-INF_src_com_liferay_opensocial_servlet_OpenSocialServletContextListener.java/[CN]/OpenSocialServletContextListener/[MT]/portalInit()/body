{
  try {
    GadgetLocalServiceUtil.initGadgets();
    List<Company> companies=CompanyLocalServiceUtil.getCompanies();
    for (    Company company : companies) {
      try {
        ExpandoTableLocalServiceUtil.getTable(company.getCompanyId(),User.class.getName(),ShindigUtil.OPEN_SOCIAL_DATA);
      }
 catch (      NoSuchTableException nste) {
        ExpandoTableLocalServiceUtil.addTable(company.getCompanyId(),User.class.getName(),ShindigUtil.OPEN_SOCIAL_DATA);
      }
    }
  }
 catch (  Exception e) {
    _log.error(e,e);
  }
}
