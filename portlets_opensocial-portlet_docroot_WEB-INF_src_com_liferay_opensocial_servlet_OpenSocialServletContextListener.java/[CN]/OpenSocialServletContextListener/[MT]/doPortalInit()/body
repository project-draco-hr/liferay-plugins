{
  _hotDeployMessageListener=new HotDeployMessageListener(ClpSerializer.getServletContextName()){
    @Override protected void onDeploy() throws Exception {
      verifyGadgets();
      List<Company> companies=CompanyLocalServiceUtil.getCompanies();
      for (      Company company : companies) {
        PortletLocalServiceUtil.addPortletCategory(company.getCompanyId(),_GADGETS_CATEGORY);
      }
      GadgetLocalServiceUtil.initGadgets();
      checkExpando();
    }
  }
;
  MessageBusUtil.registerMessageListener(DestinationNames.HOT_DEPLOY,_hotDeployMessageListener);
}
