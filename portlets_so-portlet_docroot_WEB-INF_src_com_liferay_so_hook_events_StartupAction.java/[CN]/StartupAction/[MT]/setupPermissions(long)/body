{
  Role role=RoleLocalServiceUtil.getRole(companyId,RoleConstants.COMMUNITY_MEMBER);
  long roleId=role.getRoleId();
  String name="com.liferay.portlet.blogs";
  int scope=ResourceConstants.SCOPE_GROUP_TEMPLATE;
  String primKey=String.valueOf(GroupConstants.DEFAULT_PARENT_GROUP_ID);
  String actionId=ActionKeys.ADD_ENTRY;
  PermissionLocalServiceUtil.setRolePermission(roleId,companyId,name,scope,primKey,actionId);
  name="com.liferay.portlet.calendar";
  String[] actionIds=new String[]{ActionKeys.ADD_EVENT,ActionKeys.EXPORT_ALL_EVENTS};
  PermissionLocalServiceUtil.setRolePermissions(roleId,companyId,name,scope,primKey,actionIds);
  name=CalEvent.class.getName();
  actionId=ActionKeys.VIEW;
  PermissionLocalServiceUtil.setRolePermission(roleId,companyId,name,scope,primKey,actionId);
  name="com.liferay.portlet.documentlibrary";
  actionId=ActionKeys.ADD_FOLDER;
  PermissionLocalServiceUtil.setRolePermission(roleId,companyId,name,scope,primKey,actionId);
  name=DLFileEntry.class.getName();
  actionIds=new String[]{ActionKeys.UPDATE,ActionKeys.VIEW};
  PermissionLocalServiceUtil.setRolePermissions(roleId,companyId,name,scope,primKey,actionIds);
  name=DLFolder.class.getName();
  actionIds=new String[]{ActionKeys.ADD_DOCUMENT,ActionKeys.ADD_SUBFOLDER,ActionKeys.VIEW};
  PermissionLocalServiceUtil.setRolePermissions(roleId,companyId,name,scope,primKey,actionIds);
  name="com.liferay.portlet.messageboards";
  actionId=ActionKeys.ADD_CATEGORY;
  PermissionLocalServiceUtil.setRolePermission(roleId,companyId,name,scope,primKey,actionId);
  name=MBCategory.class.getName();
  actionIds=new String[]{ActionKeys.ADD_FILE,ActionKeys.ADD_MESSAGE,ActionKeys.ADD_SUBCATEGORY,ActionKeys.MOVE_THREAD,ActionKeys.REPLY_TO_MESSAGE,ActionKeys.SUBSCRIBE,ActionKeys.VIEW};
  PermissionLocalServiceUtil.setRolePermissions(roleId,companyId,name,scope,primKey,actionIds);
  name=MBMessage.class.getName();
  actionId=ActionKeys.VIEW;
  PermissionLocalServiceUtil.setRolePermission(roleId,companyId,name,scope,primKey,actionId);
  name="com.liferay.portlet.wiki";
  actionId=ActionKeys.ADD_NODE;
  PermissionLocalServiceUtil.setRolePermission(roleId,companyId,name,scope,primKey,actionId);
  name=WikiNode.class.getName();
  actionIds=new String[]{ActionKeys.ADD_ATTACHMENT,ActionKeys.ADD_PAGE,ActionKeys.SUBSCRIBE,ActionKeys.VIEW};
  PermissionLocalServiceUtil.setRolePermissions(roleId,companyId,name,scope,primKey,actionIds);
  name=WikiPage.class.getName();
  actionIds=new String[]{ActionKeys.ADD_DISCUSSION,ActionKeys.DELETE,ActionKeys.SUBSCRIBE,ActionKeys.UPDATE,ActionKeys.VIEW};
  PermissionLocalServiceUtil.setRolePermissions(roleId,companyId,name,scope,primKey,actionIds);
  role=RoleLocalServiceUtil.getRole(companyId,RoleConstants.COMMUNITY_OWNER);
  roleId=role.getRoleId();
  name=PortletKeys.ANNOUNCEMENTS;
  actionId=ActionKeys.ADD_ENTRY;
  PermissionLocalServiceUtil.setRolePermission(roleId,companyId,name,scope,primKey,actionId);
  role=RoleLocalServiceUtil.getRole(companyId,RoleConstants.GUEST);
  roleId=role.getRoleId();
  name=BlogsEntry.class.getName();
  scope=ResourceConstants.SCOPE_COMPANY;
  primKey=String.valueOf(companyId);
  actionId=ActionKeys.VIEW;
  PermissionLocalServiceUtil.setRolePermission(roleId,companyId,name,scope,primKey,actionId);
  role=RoleLocalServiceUtil.getRole(companyId,RoleConstants.POWER_USER);
  roleId=role.getRoleId();
  name=PortletKeys.PORTAL;
  actionId=ActionKeys.ADD_COMMUNITY;
  PermissionLocalServiceUtil.setRolePermission(roleId,companyId,name,scope,primKey,actionId);
}
