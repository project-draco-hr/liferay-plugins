{
  LayoutSetPrototype layoutSetPrototype=null;
  List<ExpandoValue> expandoValues=ExpandoValueLocalServiceUtil.getColumnValues(user.getCompanyId(),LayoutSetPrototype.class.getName(),ExpandoTableConstants.DEFAULT_TABLE_NAME,SocialOfficeConstants.LAYOUT_SET_PROTOTYPE_KEY,QueryUtil.ALL_POS,QueryUtil.ALL_POS);
  for (  ExpandoValue expandoValue : expandoValues) {
    LayoutSetPrototype curLayoutSetPrototype=LayoutSetPrototypeServiceUtil.getLayoutSetPrototype(expandoValue.getClassPK());
    String layoutSetPrototypeKey=(String)curLayoutSetPrototype.getExpandoBridge().getAttribute(SocialOfficeConstants.LAYOUT_SET_PROTOTYPE_KEY);
    if (!privateLayoutSetPrototype) {
      if (layoutSetPrototypeKey.equals(SocialOfficeConstants.LAYOUT_SET_PROTOTYPE_KEY_USER_PUBLIC)) {
        layoutSetPrototype=curLayoutSetPrototype;
      }
    }
 else {
      if (layoutSetPrototypeKey.equals(SocialOfficeConstants.LAYOUT_SET_PROTOTYPE_KEY_USER_PRIVATE)) {
        layoutSetPrototype=curLayoutSetPrototype;
      }
    }
  }
  return layoutSetPrototype;
}
