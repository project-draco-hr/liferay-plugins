{
  Map<Long,Set<String>> semanticsmap=new HashMap();
  Set<String> semanticsset1=new TreeSet();
  semanticsset1.add(ontologyURI1);
  semanticsset1.add(ontologyURI2);
  semanticsmap.put(group1.getPrimaryKey(),semanticsset1);
  Set<String> semanticsset2=new TreeSet();
  semanticsset2.add(ontologyURI1);
  semanticsmap.put(group2.getPrimaryKey(),semanticsset2);
  Set<String> semanticsset3=new TreeSet();
  semanticsset3.add(ontologyURI2);
  semanticsmap.put(group3.getPrimaryKey(),semanticsset3);
  updateInterestGroupWithSemantics(semanticsmap);
  Set<Long> communityIds=new TreeSet();
  communityIds.add(group1.getPrimaryKey());
  communityIds.add(group2.getPrimaryKey());
  communityIds.add(group3.getPrimaryKey());
  Map<Long,Set<SemanticsFile>> commSemanticsFile=InterestGroupLocalServiceUtil.getAppliedSemanticsFiles(communityIds);
  Set<Map.Entry<Long,Set<SemanticsFile>>> entries=commSemanticsFile.entrySet();
  for (  Map.Entry<Long,Set<SemanticsFile>> entry : entries) {
    long id=entry.getKey();
    Set<SemanticsFile> appliedSemanticsFile=entry.getValue();
    assertEquals(false,appliedSemanticsFile.isEmpty());
  }
  Set<InterestGroup> relatedInterestGroups=InterestGroupLocalServiceUtil.getRelatedInterestGroupsByAppliedSemantics(new Long(group1.getPrimaryKey()));
  assertEquals(false,relatedInterestGroups.isEmpty());
  relatedInterestGroups=InterestGroupLocalServiceUtil.getRelatedInterestGroupsByAppliedSemantics(new Long(group2.getPrimaryKey()));
  assertEquals(false,relatedInterestGroups.isEmpty());
  relatedInterestGroups=InterestGroupLocalServiceUtil.getRelatedInterestGroupsByAppliedSemantics(new Long(group3.getPrimaryKey()));
  assertEquals(false,relatedInterestGroups.isEmpty());
  semanticsmap.put(group1.getPrimaryKey(),null);
  semanticsmap.put(group2.getPrimaryKey(),null);
  semanticsmap.put(group3.getPrimaryKey(),null);
  updateInterestGroupWithSemantics(semanticsmap);
  Set<InterestGroup> comm=InterestGroupLocalServiceUtil.getAllCommunities();
  assertEquals(true,comm.isEmpty());
}
