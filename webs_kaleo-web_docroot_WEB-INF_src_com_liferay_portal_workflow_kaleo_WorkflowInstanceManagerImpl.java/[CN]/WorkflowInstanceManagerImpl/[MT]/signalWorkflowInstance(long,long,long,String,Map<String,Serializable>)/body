{
  ServiceContext serviceContext=new ServiceContext();
  serviceContext.setCompanyId(companyId);
  serviceContext.setUserId(userId);
  WorkflowInstanceAdapter workflowInstanceAdapter=(WorkflowInstanceAdapter)_workflowEngine.signalWorkflowInstance(workflowInstanceId,transitionName,workflowContext,serviceContext);
  KaleoInstanceToken kaleoInstanceToken=workflowInstanceAdapter.getKaleoInstanceToken();
  ExecutionContext executionContext=new ExecutionContext(kaleoInstanceToken,workflowContext,serviceContext);
  try {
    _kaleoSignaler.signalExit(transitionName,executionContext);
  }
 catch (  Exception e) {
    throw new WorkflowException("Unable to signal next transition",e);
  }
  return workflowInstanceAdapter;
}
