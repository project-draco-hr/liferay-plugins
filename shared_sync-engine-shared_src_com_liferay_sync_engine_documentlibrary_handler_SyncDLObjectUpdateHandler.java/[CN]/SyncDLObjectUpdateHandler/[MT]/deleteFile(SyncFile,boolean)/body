{
  SyncFile sourceSyncFile=SyncFileService.fetchSyncFile(targetSyncFile.getRepositoryId(),getSyncAccountId(),targetSyncFile.getTypePK());
  if (sourceSyncFile == null) {
    return;
  }
  if (trashed) {
    sourceSyncFile.setUiEvent(SyncFile.UI_EVENT_TRASHED_REMOTE);
  }
 else {
    sourceSyncFile.setUiEvent(SyncFile.UI_EVENT_DELETED_REMOTE);
  }
  Files.walkFileTree(Paths.get(sourceSyncFile.getFilePathName()),new SimpleFileVisitor<Path>(){
    @Override public FileVisitResult postVisitDirectory(    Path filePath,    IOException ioe) throws IOException {
      Files.delete(filePath);
      return FileVisitResult.CONTINUE;
    }
    @Override public FileVisitResult visitFile(    Path filePath,    BasicFileAttributes basicFileAttributes) throws IOException {
      Files.delete(filePath);
      return FileVisitResult.CONTINUE;
    }
  }
);
  SyncFileService.deleteSyncFile(sourceSyncFile);
}
