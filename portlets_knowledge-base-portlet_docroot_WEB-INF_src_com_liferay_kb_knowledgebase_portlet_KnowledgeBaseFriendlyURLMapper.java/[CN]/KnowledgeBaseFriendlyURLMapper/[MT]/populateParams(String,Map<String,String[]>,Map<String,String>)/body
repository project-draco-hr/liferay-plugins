{
  addParam(params,prpIdentifiers,"p_p_id",_PORTLET_ID);
  addParam(params,prpIdentifiers,"p_p_lifecycle","0");
  addParam(params,prpIdentifiers,"p_p_mode",PortletMode.VIEW);
  int x=friendlyURLPath.indexOf(StringPool.SLASH,1);
  String[] urlFragments=StringUtil.split(friendlyURLPath.substring(x + 1),StringPool.SLASH);
  if (urlFragments.length >= 1) {
    String urlFragment0=HttpUtil.decodeURL(urlFragments[0]);
    if (urlFragment0.equals("tag") && (urlFragments.length >= 2)) {
      addParam(params,prpIdentifiers,"view","view_tagged_articles");
      String tag=HttpUtil.decodeURL(urlFragments[1]);
      addParam(params,prpIdentifiers,"tag",tag);
    }
 else {
      addParam(params,prpIdentifiers,"view","view_article");
      addParam(params,prpIdentifiers,"title",urlFragment0);
      if (urlFragments.length >= 2) {
        String windowState=urlFragments[1];
        addParam(params,prpIdentifiers,"p_p_state",windowState);
      }
    }
  }
 else {
    addParam(params,prpIdentifiers,"view","view_all_articles");
  }
}
