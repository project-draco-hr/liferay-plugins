{
  List<File> deployDirs=new ArrayList<File>();
  File deployDirParent=DeployManagerUtil.getUpdateDir();
  File deployDir=new File(deployDirParent,context);
  if (deployDir.exists()) {
    deployDirs.add(deployDir);
  }
 else {
    File deployWarDir=new File(deployDirParent,context + ".war");
    deployDirs.add(deployWarDir);
  }
  if (ServerDetector.isTomcat()) {
    File tempDir=new File(SystemProperties.get(SystemProperties.TMP_DIR));
    File[] tempContextDirs=tempDir.listFiles(new FilenameFilter(){
      public boolean accept(      File dir,      String name){
        if (name.endsWith("-" + context)) {
          return true;
        }
        return false;
      }
    }
);
    if ((tempContextDirs != null) && (tempContextDirs.length > 0)) {
      Arrays.sort(tempContextDirs,new Comparator<File>(){
        public int compare(        File file1,        File file2){
          String fileName1=file1.getName();
          String fileName2=file2.getName();
          return fileName1.compareTo(fileName2);
        }
      }
);
      File tempContextDir=tempContextDirs[tempContextDirs.length - 1];
      deployDirs.add(tempContextDir);
    }
  }
  return deployDirs;
}
