{
  StringBundler sb=new StringBundler(7);
  sb.append("(((startTime >= ? OR ? = -1) AND ");
  sb.append("(endTime <= ? OR ? = -1) AND ");
  sb.append("(recurrence IS NULL OR recurrence = '')) ");
  if (recurring) {
    sb.append(" OR (");
    sb.append("(endTime <= ? OR ? = -1) AND ");
    sb.append("(recurrence IS NOT NULL AND recurrence != ''))");
  }
  sb.append(")");
  return sb.toString();
}
