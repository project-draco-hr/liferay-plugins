{
  StringBundler sb=new StringBundler(7);
  sb.append("((startDate <= ? OR ? = -1) AND ");
  sb.append("(endDate >= ? OR ? = -1) AND ");
  sb.append("(recurrence IS NULL) ");
  if (recurring) {
    sb.append(" OR (");
    sb.append("(endDate <= ? OR ? = -1) AND ");
    sb.append("(recurrence IS NOT NULL))");
  }
  sb.append(")");
  return sb.toString();
}
