{
  ApnsServiceBuilder appleServiceBuilder=APNS.newService();
  String path=PortletPropsValues.APPLE_CERTIFICATE_PATH;
  if (Validator.isNull(path)) {
    if (_log.isWarnEnabled()) {
      _log.warn("The property \"apple.certificate.path\" is not set in " + "portlet.properties");
    }
    return;
  }
  String password=PortletPropsValues.APPLE_CERTIFICATE_PASSWORD;
  if (Validator.isNull(path)) {
    if (_log.isWarnEnabled()) {
      _log.warn("The property \"apple.certificate.password\" is not set " + "in portlet.properties");
    }
    return;
  }
  appleServiceBuilder.withCert(path,password);
  if (PortletPropsValues.APPLE_SANDBOX) {
    appleServiceBuilder.withSandboxDestination();
  }
  _apnsService=appleServiceBuilder.build();
}
