{
  ApnsServiceBuilder appleServiceBuilder=APNS.newService();
  String path=PortletPropsValues.APPLE_CERTIFICATE_PATH;
  String password=PortletPropsValues.APPLE_CERTIFICATE_PASSWORD;
  if (Validator.isNull(path) || Validator.isNull(password)) {
    if (_log.isWarnEnabled()) {
      _log.warn("Missing apple.certificate.password or " + "apple.certificate.path in portlet.properties");
    }
    return;
  }
  appleServiceBuilder.withCert(path,password);
  if (PortletPropsValues.APPLE_SANDBOX) {
    appleServiceBuilder.withSandboxDestination();
  }
  _apnsService=appleServiceBuilder.build();
}
