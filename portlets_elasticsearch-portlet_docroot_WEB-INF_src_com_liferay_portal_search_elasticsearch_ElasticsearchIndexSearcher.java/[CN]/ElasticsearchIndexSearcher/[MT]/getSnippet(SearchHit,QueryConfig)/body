{
  String snippet=null;
  Map<String,HighlightField> highlightFields=hit.getHighlightFields();
  if ((highlightFields == null) || highlightFields.isEmpty()) {
    return StringPool.BLANK;
  }
  String localizedContentName=DocumentImpl.getLocalizedName(queryConfig.getLocale(),Field.CONTENT);
  if (localizedContentName != null) {
    HighlightField highlightField=highlightFields.get(localizedContentName);
    if (highlightField != null) {
      Text[] texts=highlightField.fragments();
      if ((texts != null) && (texts.length > 0)) {
        snippet=texts[0].string();
      }
    }
  }
  String localizedTitleName=DocumentImpl.getLocalizedName(queryConfig.getLocale(),Field.TITLE);
  if ((snippet == null) && (localizedTitleName != null)) {
    HighlightField highlightField=highlightFields.get(localizedContentName);
    if (highlightField != null) {
      Text[] texts=highlightField.fragments();
      if ((texts != null) && (texts.length > 0)) {
        snippet=texts[0].string();
      }
    }
  }
  if (snippet == null) {
    snippet=StringPool.BLANK;
  }
  return snippet;
}
