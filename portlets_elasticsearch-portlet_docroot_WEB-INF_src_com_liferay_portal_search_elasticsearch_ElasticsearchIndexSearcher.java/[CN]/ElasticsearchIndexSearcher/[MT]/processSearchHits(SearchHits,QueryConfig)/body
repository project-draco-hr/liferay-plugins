{
  Hits hits=new HitsImpl();
  List<Document> documents=new ArrayList<Document>();
  Set<String> queryTerms=new HashSet<String>();
  List<Float> scores=new ArrayList<Float>();
  if (searchHits.totalHits() > 0) {
    SearchHit[] searchHitsArray=searchHits.getHits();
    for (    SearchHit searchHit : searchHitsArray) {
      Document document=processSearchHit(searchHit);
      documents.add(document);
      addSnippets(searchHit,document,queryConfig,queryTerms);
      scores.add(searchHit.getScore());
    }
  }
  hits.setDocs(documents.toArray(new Document[documents.size()]));
  hits.setLength((int)searchHits.getTotalHits());
  hits.setQueryTerms(queryTerms.toArray(new String[queryTerms.size()]));
  hits.setScores(scores.toArray(new Float[scores.size()]));
  return hits;
}
