{
  SyncDLObject syncDLObject=null;
  if (event.equals(SyncDLObjectConstants.EVENT_DELETE)) {
    long userId=0;
    String userName=StringPool.BLANK;
    PermissionChecker permissionChecker=PermissionThreadLocal.getPermissionChecker();
    if (permissionChecker != null) {
      User user=permissionChecker.getUser();
      userId=user.getUserId();
      userName=user.getFullName();
    }
    syncDLObject=new SyncDLObjectImpl();
    syncDLObject.setUserId(userId);
    syncDLObject.setUserName(userName);
    syncDLObject.setEvent(event);
    syncDLObject.setType(type);
    syncDLObject.setTypePK(typePK);
  }
 else   if (type.equals(SyncDLObjectConstants.TYPE_FILE)) {
    FileEntry fileEntry=null;
    try {
      fileEntry=DLAppLocalServiceUtil.getFileEntry(typePK);
    }
 catch (    NoSuchFileEntryException nsfee) {
      return;
    }
    syncDLObject=SyncUtil.toSyncDLObject(fileEntry,event,true);
  }
 else {
    Folder folder=null;
    try {
      folder=DLAppLocalServiceUtil.getFolder(typePK);
    }
 catch (    NoSuchFolderException nsfe) {
      return;
    }
    if (!SyncUtil.isSupportedFolder(folder)) {
      return;
    }
    syncDLObject=SyncUtil.toSyncDLObject(folder,event);
  }
  syncDLObject.setModifiedTime(modifiedTime);
  addSyncDLObject(syncDLObject);
}
