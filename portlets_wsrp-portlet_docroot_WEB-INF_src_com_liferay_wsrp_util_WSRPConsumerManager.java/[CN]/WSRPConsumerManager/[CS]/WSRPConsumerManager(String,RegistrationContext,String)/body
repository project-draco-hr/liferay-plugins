{
  try {
    _serviceHandler=new ServiceHandler(userToken);
    _service=(WSRP_v2_Service)Proxy.newProxyInstance(WSRP_v2_Service.class.getClassLoader(),new Class[]{WSRP_v2_Service.class},_serviceHandler);
    _wsdl=HttpUtil.URLtoString(url);
    Document document=SAXReaderUtil.read(_wsdl);
    Element root=document.getRootElement();
    _wsdlNamespace=_getWsdlNamespace(root);
    List<Element> serviceElements=root.elements(_getWsdlQName("service"));
    for (    Element serviceElement : serviceElements) {
      boolean v2=_readServiceElement(serviceElement);
      if (v2) {
        break;
      }
    }
    updateServiceDescription(registrationContext);
  }
 catch (  Exception e) {
    if (_log.isWarnEnabled()) {
      _log.warn(e,e);
    }
    throw e;
  }
}
