{
  GetServiceDescription getServiceDescription=new GetServiceDescription();
  if (registrationContext != null) {
    getServiceDescription.setRegistrationContext(registrationContext);
  }
  _serviceDescription=_serviceDescriptionService.getServiceDescription(getServiceDescription);
  _portletDescriptions=new HashMap<String,PortletDescription>();
  PortletDescription[] portletDescriptions=_serviceDescription.getOfferedPortlets();
  for (  PortletDescription portletDescription : portletDescriptions) {
    _portletDescriptions.put(portletDescription.getPortletHandle(),portletDescription);
  }
  _propertyDescriptions=new HashMap<String,PropertyDescription>();
  PropertyDescription[] propertyDescriptions=getPropertyDescriptions();
  if (propertyDescriptions != null) {
    for (    PropertyDescription propertyDescription : propertyDescriptions) {
      _propertyDescriptions.put(propertyDescription.getName().toString(),propertyDescription);
    }
  }
  _events=new HashMap<String,QName>();
  EventDescription[] eventDescriptions=_serviceDescription.getEventDescriptions();
  if (eventDescriptions != null) {
    for (    EventDescription eventDescription : eventDescriptions) {
      javax.xml.namespace.QName[] aliases=eventDescription.getAliases();
      javax.xml.namespace.QName name=eventDescription.getName();
      String localPart=name.getLocalPart();
      String prefix=name.getPrefix();
      String namespaceURI=name.getNamespaceURI();
      Namespace namespace=SAXReaderUtil.createNamespace(prefix,namespaceURI);
      QName qName=SAXReaderUtil.createQName(localPart,namespace);
      String key=PortletQNameUtil.getKey(qName);
      _events.put(key,qName);
      for (      javax.xml.namespace.QName alias : aliases) {
        key=PortletQNameUtil.getKey(alias.getNamespaceURI(),alias.getLocalPart());
        _events.put(key,qName);
      }
    }
  }
}
