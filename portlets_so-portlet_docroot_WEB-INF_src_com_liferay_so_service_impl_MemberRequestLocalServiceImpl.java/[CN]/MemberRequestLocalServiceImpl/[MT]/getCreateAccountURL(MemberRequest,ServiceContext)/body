{
  String createAccountURL=(String)serviceContext.getAttribute("createAccountURL");
  if (Validator.isNull(createAccountURL)) {
    createAccountURL=serviceContext.getPortalURL();
  }
  try {
    WorkflowDefinitionLinkLocalServiceUtil.getDefaultWorkflowDefinitionLink(memberRequest.getCompanyId(),User.class.getName(),0,0);
  }
 catch (  NoSuchWorkflowDefinitionLinkException nswdle) {
    String redirectURL=getRedirectURL(serviceContext);
    redirectURL=addParameterWithPortletNamespace(redirectURL,"key",memberRequest.getKey());
    createAccountURL=addParameterWithPortletNamespace(createAccountURL,"redirect",redirectURL);
  }
  return createAccountURL;
}
