{
  try {
    WSRPConsumerPortlet importedWSRPConsumerPortlet=WSRPConsumerPortletLocalServiceUtil.getWSRPConsumerPortlet(wsrpConsumerPortlet.getUuid());
    importedWSRPConsumerPortlet.setWsrpConsumerId(wsrpConsumer.getWsrpConsumerId());
    importedWSRPConsumerPortlet.setName(wsrpConsumerPortlet.getName());
    importedWSRPConsumerPortlet.setPortletHandle(wsrpConsumerPortlet.getPortletHandle());
    WSRPConsumerPortletLocalServiceUtil.updateWSRPConsumerPortlet(importedWSRPConsumerPortlet,false);
  }
 catch (  NoSuchConsumerPortletException nscpe) {
    ServiceContext serviceContext=portletDataContext.createServiceContext(wsrpConsumerPortletElement,wsrpConsumerPortlet,_NAMESPACE);
    serviceContext.setUuid(wsrpConsumerPortlet.getUuid());
    WSRPConsumerPortletLocalServiceUtil.addWSRPConsumerPortlet(wsrpConsumer.getUuid(),wsrpConsumerPortlet.getName(),wsrpConsumerPortlet.getPortletHandle(),null,serviceContext);
  }
}
