{
  ThemeDisplay themeDisplay=(ThemeDisplay)request.getAttribute(WebKeys.THEME_DISPLAY);
  long resourcePrimKey=ParamUtil.getLong(request,"resourcePrimKey");
  double version=ParamUtil.getDouble(request,"version");
  String title=ParamUtil.getString(request,"title");
  KBArticle article=null;
  if (resourcePrimKey > 0) {
    article=KBArticleServiceUtil.getArticle(resourcePrimKey,version);
  }
 else   if (Validator.isNotNull(title)) {
    article=KBArticleServiceUtil.getArticle(themeDisplay.getPortletGroupId(),title,version);
  }
  request.setAttribute(KnowledgeBaseKeys.ARTICLE,article);
}
