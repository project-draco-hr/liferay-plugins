{
  String namespace=actionResponse.getNamespace();
  String redirect=getRedirect(actionRequest,actionResponse);
  ThemeDisplay themeDisplay=(ThemeDisplay)actionRequest.getAttribute(WebKeys.THEME_DISPLAY);
  PortletDisplay portletDisplay=themeDisplay.getPortletDisplay();
  String editURL=PortalUtil.getLayoutFullURL(themeDisplay);
  editURL=HttpUtil.setParameter(editURL,"p_p_id",portletDisplay.getId());
  editURL=HttpUtil.setParameter(editURL,namespace + "mvcPath",templatePath + "edit_article.jsp");
  editURL=HttpUtil.setParameter(editURL,namespace + "redirect",redirect);
  editURL=HttpUtil.setParameter(editURL,namespace + "resourcePrimKey",kbArticle.getResourcePrimKey());
  editURL=HttpUtil.setParameter(editURL,namespace + "status",WorkflowConstants.STATUS_ANY);
  return editURL;
}
